<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Predefined frame variable ($P_CHBFRAME, $P_IFRAME, $P_PFRAME, $P_ACTFRAME)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Predefined frame variable ($P_CHBFRAME, $P_IFRAME, $P_PFRAME, $P_ACTFRAME)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <a name="block_1">
      </a>
      <h3 class="BlocktitleFirst">Active: channel-specific base frames $P_CHBFRAME[ &lt;n> ] ($P_BFRAME)</h3>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Note</b>
          </td>
        </tr>
        <tr>
          <td>
            <p class="safety">The current base frame <code>$P_BFRAME</code> and the data storage base frame <code>$P_UBFR</code> are retained for compatibility reasons.</p>
            <ul class="safety">
              <li class="safety">
                <p class="safety">
                  <code>$P_BFRAME ≙ $P_CHBFRAME[0]</code>
                </p>
              </li>
              <li class="safety">
                <p class="safety">
                  <code>$P_UBFR ≙ $P_CHBFR[0]</code>. </p>
              </li>
            </ul>
          </td>
        </tr>
      </table>
      <p>The frame variables $P_CHBFRAME[&lt;n>] define the reference between the basic coordinate system (BCS) and the basic origin system (BOS).</p>
      <p>If the current channel-specific base frame $P_CHBFRAME[<code>&lt;n></code>] should be active immediately in the NC program, the following possibilities are available.</p>
      <ul>
        <li>
          <p>Commands:</p>
          <ul>
            <li>
              <p>
                <code>G500</code> (deactivate all settable frames, the base frames remain active)</p>
            </li>
            <li>
              <p>
                <code>G54</code> to <code>G599</code> (settable zero offsets)</p>
            </li>
          </ul>
        </li>
        <li>
          <p>Assignment of a channel-specific base frames of the data storage to a current channel-specific base frame:</p>
          <p>
            <code>$P_CHBFRAME[&lt;n>] = $P_CHBFR[&lt;m>]</code>
          </p>
        </li>
      </ul>
      <a id="image_73857823883_0">
      </a> <img border="0" src="images/167521276939.png" width="340" height="189"/><a name="block_2"></a><h3 class="Blocktitle">Active: Channel-specific settable frame $P_IFRAME</h3><p>The frame variable $P_IFRAME defines the reference between the basic origin system (BOS) and the settable zero system (SZS). </p><ul><li><p><code>$P_IFRAME</code> corresponds to <code>$P_UIFR[$P_IFRNUM]</code></p></li><li><p>After <code>G54</code> is programmed, for example, <code>$P_IFRAME</code> contains the translation, rotation, scaling and mirroring defined by <code>G54</code>.</p></li></ul><a id="image_73871097739_0"></a> <img border="0" src="images/167521292555.png" width="310" height="204"/><a name="block_3"></a><h3 class="Blocktitle">Active: Channel-specific programmable frame $P_PFRAME</h3><p>The $P_PFRAME frame variable defines the reference between the settable zero system (SZS) and the workpiece coordinate system (WCS). </p><p><code>$P_PFRAME </code>contains the resulting frame, that results</p><ul class="comment"><li class="comment"><p class="comment"><b>From the programming</b> of<code> TRANS/ATRANS</code>,<code> ROT/AROT</code>,<code> SCALE/ASCALE</code>,<code> MIRROR/AMIRROR </code>or</p></li><li class="comment"><p class="comment"><b>From the assignment</b> of<code> CTRANS</code>,<code> CROT</code>,<code> CMIRROR</code>,<code> CSCALE </code>to the programmed FRAME</p></li></ul><a id="image_73871136395_0"></a> <img border="0" src="images/167521333771.png" width="310" height="204"/><a name="block_4"></a><h3 class="Blocktitle">Active: Total frame $P_ACTFRAME</h3><p>The total frame active in the channel results from the chaining of all frames acting in the channel. </p><a id="table_9a834db4-21e5-dd76-ae93-0d43403c10c9"></a> <a id="table_0"></a> <a id="table_9a834db4-21e5-dd76-ae93-0d43403c10c9"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="24.2%"><col width="75.8%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>$P_ACTFRAME = </code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>$P_PARTFRAME : $P_SETFRAME : $P_EXTFRAME :</code></p><p type="p_table_l" align="left"><code>$P_ISO1FRAME : $P_ISO2FRAME : $P_ISO3FRAME :</code></p><p type="p_table_l" align="left"><code>$P_ACTBFRAME : $P_IFRAME : $P_GFRAME :</code></p><p type="p_table_l" align="left"><code>$P_TOOLFRAME : $P_WPFRAME : $P_TRAFRAME :</code></p><p type="p_table_l" align="left"><code>$P_PFRAME    : $P_ISO4FRAME : $P_CYCFRAME</code></p></td></tr></table></p><p class="comment"><code>$P_ACTFRAME</code> describes the currently valid workpiece coordinate system.</p><a id="image_73871200907_0"></a> <img border="0" src="images/167521362187.png" width="310" height="204" alt="Frame variable $P_ACTFRAME"/><p class="imgtitle">Frame variable $P_ACTFRAME</p><p class="comment">If one of the following frames <code>$P_BFRAME</code> / <code>$P_CHBFRAME[&lt;n>]</code>, <code>$P_IFRAME</code> or <code>$P_PFRAME</code> is changed, the current total frame <code>$P_ACTFRAME</code> is recalculated. </p><a id="image_792976907_0"></a> <img border="0" src="images/167519116683.png" width="474" height="416"/><p class="comment">Basic frame and settable frame are effective after Reset if MD 20110 RESET_MODE_MASK is set as follows:</p><p class="comment">Bit0=1, bit14=1 --> <code>$P_UBFR</code> (basic frame) acts </p><p class="comment">Bit0=1, bit5=1 --> <code>$P_UIFR [$P_UIFRNUM]</code>(settable frame) acts</p><a name="block_5"></a><h3 class="Blocktitle">Data storage: channel-specific base frames $P_CHBFR[&lt;n>]</h3><p>The frame variables $P_CHBFR[&lt;n>] read/write the base frames in the data storage. The data storage frame is not immediately active in the channel when written. The written frame is activated with:</p><ul><li><p>Channel reset and MD20110 $MC_RESET_MODE_MASK, Bit0 == 1 and Bit14 == 1</p></li><li><p>Command <code>G500</code>, <code>G54</code> ... <code>G57</code>, <code>G505</code> ... <code>G599</code> (activation/deactivation of base frames with subsequent recalculation of the current total frames)</p></li></ul><a name="block_6"></a><h3 class="Blocktitle">Data storage: Channel-specific settable frames $P_UIFR[&lt;n>]</h3><p>The frame variables $P_UIFR[&lt;n>] read/write the settable base frames in the data storage. The frame is not immediately active in the channel when written. The written frame in the channel is calculated with:</p><ul><li><p> <code>G500</code> command (deactivate all settable frames or zero offsets)</p></li><li><p><code>G54</code> ... <code>G57</code>, <code>G505</code> ... <code>G599</code> command (activate a settable frame or zero offset)</p></li></ul><a id="table_d569f247-0dd8-775b-fd9e-99f3c0fe927f"></a> <a id="table_1"></a> <a id="table_d569f247-0dd8-775b-fd9e-99f3c0fe927f"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="28.0%"><col width="43.9%"><col width="28.0%"></colgroup><tr valign="top"><th><p type="p_table_cb" align="center" class="comment">Active settable frame</p></th><th><p type="p_table_cb" align="center" class="comment">Data storage frame</p></th><th><p type="p_table_cb" align="center" class="comment">(corresponds to command)</p></th></tr><tr valign="top"><td rowspan="9"><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>$P_IFRAME</code> =</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>$P_UIFR[0]</code></p></td><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>G500</code></p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>$P_UIFR[1]</code></p></td><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>G54</code></p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>$P_UIFR[2]</code></p></td><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>G55</code></p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>$P_UIFR[3]</code></p></td><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>G56</code></p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>$P_UIFR[4]</code></p></td><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>G57</code></p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>$P_UIFR[5]</code></p></td><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>G505</code></p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>$P_UIFR[6]</code></p></td><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>G506</code></p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>...</code></p></td><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>...</code></p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>$P_UIFR[99]</code></p></td><td><p type="p_table_c" style="margin-top: 4px" align="center" class="comment"><code>G599</code></p></td></tr></table></p></div>
    <p>See also:<br />    <a href="156662940939.html">Coordinate transformation via frame variables</a><br />    <a href="156662109579.html">Programmable mirroring (MIRROR, AMIRROR)</a></p>
  </body>
</html>