<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Frame rotation to align at the tool or workpiece (TOFRAME, TOROT, PAROT): More information</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Frame rotation to align at the tool or workpiece (TOFRAME, TOROT, PAROT): More information</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <a name="block_1">
      </a>
      <h3 class="BlocktitleFirst">More information</h3>
      <h4 class="Blocklabel">TOFRAME</h4>
      <p>TOFRAME generates an orthogonal coordinate system, whose Z axis is parallel to the current tool alignment. For example, this can be used to retract the tool in the Z direction without risk of collision (e.g. after a tool break in a 5-axis program).</p>
      <p>An already programmed frame is then overwritten with TOFRAME by a frame which describes a pure rotation. Any work offsets, mirrorings or scalings existing in the previously active frame are deleted. The position of the X and Y axes is determined by the setting in machine data MD21110 $MC_X_AXES_IN_OLD_X_Z_PLANE (coordinate system with automatic frame definition). The new coordinate system is either left as generated from the machine kinematics or is turned around the new Z axis additionally so that the new X axis lies in the old Z/X plane:</p>
      <a id="image_177602969483_0">
      </a> <img border="0" src="images/177602978315.png" width="500" height="231"/><a id="table_"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_legend" border="0"><colgroup><col width="5.0%"><col width="95.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">①</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">WCS before alignment with TOFRAME.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">②</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">TOFRAME rotates the WCS so that the Z axis points in the tool direction.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">③</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Only for MD21110 = 1: The new coordinate system is additionally rotated around the new Z axis (Z') so that the new X axis (X'') lies in the previous Z-X plane.</p></td></tr></table></p><h4 class="Blocklabel">TOROT</h4><p>Just the same as TOROT, TOFRAME aligns the WCS in the tool direction using a frame rotation; when doing this, it only overwrites the rotation component in the program frame. All other components (work offsets, mirroring operations and/or scaling operations) remain unchanged. This means that it is possible to keep a work offset with which the reference point was defined in the workpiece, for example. </p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel">TOROT</h4><p class="safety">The TOROT statement ensures consistent programming with active orientable tool carriers for each kinematic type.</p></td></tr></table><h4 class="Blocklabel">TOFRAMEX/TOROTX or TOFRAMEY/TOROTY </h4><p>TOFRAME and TOROT are designed for milling operations in which G17 (machining plane X/Y) is typically active. In the case of turning operations or generally when G18 or G19 is active, however, frames are needed where the X or Y axis matches the orientation of the tool. These frames are programmed using commands TOFRAMEX/TOROTX or TOFRAMEY/TOROTY. The assignments of the axis directions are then as follows:</p><a id="table_49319227-22c0-eb93-abe0-671d1b442a52"></a> <a id="table_0"></a> <a id="table_49319227-22c0-eb93-abe0-671d1b442a52"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="37.8%"><col width="22.6%"><col width="20.4%"><col width="19.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Statement</p></th><th><p type="p_table_cb" align="center">Tool direction (applicate)</p></th><th><p type="p_table_cb" align="center">Secondary axis<br />(abscissa)</p></th><th><p type="p_table_cb" align="center">Secondary axis<br />(ordinate)</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">TOFRAME / TOFRAMEZ /<br />TOROT / TOROTZ</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Z</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">X</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Y</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">TOFRAMEY / TOROTY</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Y</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Z</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">X</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">TOFRAMEX / TOROTX</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">X</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Y</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Z</p></td></tr></table></p><h4 class="Blocklabel">Separate system frame for TOFRAME or TOROT</h4><p>The frame resulting from TOFRAME or TOROT, which describes the orientation, is written as default to system variable for the programmable frame ($P_PFRAME).</p><p>In addition, there is the option of writing frames that are created in a dedicated system frame $P_TOOLFRAME. To do this, bit 3 must be set in machine data MD28082 $MC_MM_SYSTEM_FRAME_MASK. The programmable frame is then retained unchanged. Differences occur when the programmable frame is processed further elsewhere.</p><h4 class="Blocklabel">PAROT</h4><p>PAROT aligns the workpiece coordinate system at the workpiece. Any work offsets, mirrorings or scalings existing in the previously active frame are kept.</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">Just as in the situation for rotatable tool carriers, PAROT can be used to activate a rotation of the tool table. This defines a frame which changes the position of the workpiece coordinate system in such a way that no compensatory movement is performed on the machine. Command PAROT is not rejected if no orientable tool carrier is active.</p></td></tr></table></div>
  </body>
</html>