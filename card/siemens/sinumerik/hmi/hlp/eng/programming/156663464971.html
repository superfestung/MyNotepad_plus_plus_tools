<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Reading tool length or tool length components (GETTCOR): Additional information</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Reading tool length or tool length components (GETTCOR): Additional information</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <a name="block_1">
      </a>
      <h3 class="BlocktitleFirst">Additional information</h3>
      <h4 class="Blocklabel">Adapter transformation/toolholder with orientation capability/kinematic transformation</h4>
      <p>Any rotations and component exchanges initiated by the adapter transformation, toolholder with orientation capability and kinematic transformation, are part of the tool environment. They are thus always performed, even if the corresponding length component is not supposed to be included. If this is undesirable, tool environments must be defined, in which the corresponding transformations are not active. In many cases (i.e. any time a transformation or toolholder with orientation capability is not used on a machine), the data sets stored for the tool environments automatically fulfill these conditions, with the result that the user does not need to make special provision.</p>
      <h4 class="Blocklabel">Turning and grinding tools: Calculating the tool length depending on MD20360 $MC_TOOL_PARAMETER_DEF_MASK</h4>
      <p>The following machine data defines how the wear and tool length are to be evaluated if a diameter axis is used for turning and grinding tools.</p>
      <p>MD20360 $MC_TOOL_PARAMETER_DEF_MASK (definition of tool parameters).</p>
      <a id="table_b964db94-1199-df62-477c-851f0f75ad5f">
      </a> <a id="table_0"></a> <a id="table_b964db94-1199-df62-477c-851f0f75ad5f"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="8.0%"><col width="16.0%"><col width="76.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Bit</p></th><th colspan="2"><p type="p_table_lb" align="left">Value</p></th></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">0</p><p type="p_table_l" align="left"></p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">For turning and grinding tools, the <b>wear parameter</b> of the transverse axis is taken into account as the diameter value:</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">= 0 (default)</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">No</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">= 1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Yes</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">For turning and grinding tools, the <b>tool length component</b> of the transverse axis is taken into account as the diameter value:</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">= 0 (default)</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">No</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">= 1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Yes</p></td></tr></table></p><p>If the bits involved are set, the associated entry is weighted with a factor of 0.5. This weighting is reflected in the tool length returned by GETTCOR.</p><p><b>Example:</b></p><p>MD20360 $MC_TOOL_PARAMETER_DEF_MASK = 3</p><p>MD20100 $MC_DIAMETER_AX_DEF (geometry axis with transverse axis function‏) = "X" </p><p>X is diameter axis (standard turning machine configuration)</p><a id="table_606ffc86-e993-ea3a-96fd-e8c0c3022c6a"></a> <a id="table_1"></a> <a id="table_606ffc86-e993-ea3a-96fd-e8c0c3022c6a"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EKD"><colgroup><col width="45.0%"><col width="55.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N30 $TC_DP1[1,1]=500</td><td> </td></tr><tr valign="top"><td>N40 $TC_DP2[1,1]=2</td><td> </td></tr><tr valign="top"><td>N50 $TC_DP3[1,1]=3.0</td><td>; geometry L1</td></tr><tr valign="top"><td>N60 $TC_DP4[1,1]=4.0</td><td> </td></tr><tr valign="top"><td>N70 $TC_DP5[1,1]=5.0</td><td> </td></tr><tr valign="top"><td>N80 $TC_DP12[1,1]=12.0</td><td>; wear L1</td></tr><tr valign="top"><td>N90 $TC_DP13[1,1]=13.0</td><td> </td></tr><tr valign="top"><td>N100 $TC_DP14[1,1]=14.0</td><td> </td></tr><tr valign="top"><td>N110 T1 D1 G18</td><td> </td></tr><tr valign="top"><td>N120 R1=GETTCOR(_LEN,"GW")</td><td> </td></tr><tr valign="top"><td>N130 R3=_LEN[2]</td><td>; 17.0 (= 4.0 + 13.0)</td></tr><tr valign="top"><td>N140 R4=_LEN[3]</td><td>; 7.5 (= 0.5 * 3.0 + 0.5 * 12.0)</td></tr><tr valign="top"><td>N150 R5=_LEN[4]</td><td>; 19.0 (= 5.0 + 14.0)</td></tr><tr valign="top"><td>N160 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Length components of the kinematic transformation and toolholder with orientation capability</h4><p>If a <b>toolholder with orientation capability</b> is taken account of during the tool length calculation, the following vectors are included in that calculation:</p><a id="table_f0279026-5c09-54ff-6b5d-c2f4c2688ba9"></a> <a id="table_2"></a> <a id="table_f0279026-5c09-54ff-6b5d-c2f4c2688ba9"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="15.0%"><col width="85.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Type</p></th><th><p type="p_table_lb" align="left">Vectors</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">M</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">l1 and l2</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">T</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">l1, l2 and l3</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">P</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The tool length is not influenced by the toolholder with orientation capability.</p></td></tr></table></p><p>In generic <b>5-axis transformation</b>, the following machine data are included in the tool length calculation for transformer types 24 and 56:</p><a id="table_cfe3e469-8f21-6a98-e583-c14dddefef82"></a> <a id="table_3"></a> <a id="table_cfe3e469-8f21-6a98-e583-c14dddefef82"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="15.0%"><col width="85.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Transformation type</p></th><th><p type="p_table_lb" align="left">Machine data</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">24</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">MD24550/24650 $MC_TRAFO5_BASE_TOOL_1/2</p><p type="p_table_l" align="left">MD24560/24660 $MC_TRAFO5_JOINT_OFFSET_1/2</p><p type="p_table_l" align="left">MD24558/24658 $MC_TRAFO5_PART_OFFSET_1/2</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">56</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">MD24550/24650 $MC_TRAFO5_BASE_TOOL_1/2</p><p type="p_table_l" align="left">MD24560/24660 $MC_TRAFO5_JOINT_OFFSET_1/2</p></td></tr></table></p><p>Transformation type 56 (moving tool and moving workpiece) corresponds to type M for toolholders with orientation capability.</p><p>For this 5-axis transformation, in the previous software releases, vector MD24560/24660 $MC_TRAFO5_JOINT_OFFSET_1/2 (vector of kinematic offset of the 1st/2nd 5-axis transformation in the channel) corresponds to the sum of the two vectors l<sub>1</sub> and l<sub>3 </sub> for a type M tool carrier with orientation capability.</p><p>Only the sum is relevant for the transformation in both cases. The way, in which the two individual components are composed, is insignificant. However, when calculating the tool length, it is relevant which component is assigned to the tool and which is assigned to the tool table. This is the reason that machine data MD24558/24658 $MC_TRAFO5_JOINT_OFFSET_PART_1/2 (vector kinematic offset in table) was introduced. It corresponds to vector l3. Machine data:MD24560/24660 $MC_TRAFO5_JOINT_OFFSET_1/2 no longer corresponds to the sum of l1 and l3, but only to vector l1. If machine data MD24558/24658 $MC_TRAFO5_JOINT_OFFSET_PART_1/2 is equal to zero, the behavior is the same as before.</p><h4 class="Blocklabel">Compatibility</h4><p>The GETTCOR function is used in conjunction with the TOOLENV and SETTCOR functions to replace parts of the functionality, which were previously implemented externally in the measuring cycles.</p><p>Only some of the parameters, which actually determine the effective tool length, were implemented in the measuring cycles. The functions mentioned above can be configured to reproduce the behavior of the measuring cycles in relation to the tool length calculation.</p></div>
  </body>
</html>