<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Synchronous spindle coupling (COUPDEF, COUPDEL, COUPON, COUPONC, COUPOF, COUPOFS, COUPRES, WAITC)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Synchronous spindle coupling (COUPDEF, COUPDEL, COUPON, COUPONC, COUPOF, COUPOFS, COUPRES, WAITC)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Synchronous spindle coupling enables speed-synchronous traversing of the following spindle (FS) and leading spindle (LS) of a synchronous spindle pair. With active coupling (synchronous mode), the following spindle follows the movements of the leading spindle according to the specified ratio. </p>
      <p>The synchronism mode is adjustable. The following variants are available:</p>
      <ul>
        <li>
          <p>Speed synchronism (n<sub>FS </sub>= n<sub>LS</sub>)</p>
        </li>
        <li>
          <p>Position synchronism (ϕ<sub>FS</sub> = ϕ<sub>LS</sub>)  </p>
        </li>
        <li>
          <p>Position synchronism with angular offset (ϕ<sub>FS</sub> = ϕ<sub>LS</sub>+ ∆ϕ)</p>
        </li>
      </ul>
      <p>The synchronous spindle pairs for each machine can be assigned a fixed configuration by means of channel-specific machine data or defined for specific applications via the part program. Up to 2 synchronous spindle pairs can be operated simultaneously on each NC channel.</p>
      <h4 class="Blocklabel">Application</h4>
      <p>Typical applications are:</p>
      <ul>
        <li>
          <p>Workpiece transfer on the fly, e.g. for machining on the rear side (transmission ratio: 1:1)</p>
          <a id="image_155038612491_0">
          </a> <img border="0" src="images/155042683659.png" width="444" height="510"/><a id="table_"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_legend" border="0"><colgroup><col width="6.9%"><col width="93.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">①</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The speeds n1 of spindle S1 and n2 of spindle S2 are different (n1 ≠ n2).</p><p type="p_table_l" align="left">Synchronization is therefore required before workpiece transfer (transmission ratio: 1:1).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">②</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">After synchronization of the spindle speeds (n1 == n2), the workpiece is transferred.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">③</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">After workpiece transfer, machining of the rear side can take place.</p></td></tr></table></p></li>
        <li>
          <p>Multi-edge machining (polygon turning), speed synchronism (transformation ratio: n<sub>1</sub>:n<sub>2</sub>)</p>
          <a id="image_795629707_0">
          </a> <img border="0" src="images/155038950667.png" width="500" height="223"/></li>
      </ul>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>COUPDEF(&lt;FS>,&lt;LS>,&lt;TRNom>,[&lt;TRDenom>],&lt;BlockChange>,&lt;CouplingType>) COUPON(&lt;FS>[,&lt;LS>,&lt;POSFS>])COUPONC(&lt;FS>[,&lt;LS>])COUPOF(&lt;FS>[,&lt;LS>])COUPOFS(&lt;FS>[,&lt;LS>])COUPRES(&lt;FS>[,&lt;LS>])COUPDEL(&lt;FS>[,&lt;LS>])WAITC(&lt;FS>,&lt;BlockChange>,&lt;LS>,&lt;BlockChange>)<a name="block_2"></a><h3 class="Blocktitle">Meaning</h3><a id="table_bc1b5f3d-8595-42fe-831b-cc3b67edf880"></a> <a id="table_0"></a> <a id="table_bc1b5f3d-8595-42fe-831b-cc3b67edf880"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="24.2%"><col width="18.0%"><col width="57.8%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>COUPDEF</code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Define/change coupling on user-specific basis</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>COUPON</code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Activate coupling</p><p type="p_table_l" align="left">The following spindle synchronizes to the leading spindle based on the actual speed.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>COUPONC</code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Activate the coupling and accept the spindle programming M3 S... or M4 S... </p><p type="p_table_l" align="left">A difference in speed for the following spindle is transferred immediately.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>COUPOF</code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Deactivate coupling</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>COUPOFS</code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Deactivate coupling with stop of the following spindle</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>COUPRES</code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Reset coupling parameters to the configured values</p><p type="p_table_l" align="left">The values set in the machine and setting data are activated.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>COUPDEL</code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Delete user-defined coupling</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>WAITC</code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Wait for synchronized run condition <br />(NOC are increased to IPO during block changes)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;FS></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Identifier (spindle number) of the following spindle</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;LS></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Identifier (spindle number) of the leading spindle</p><p type="p_table_l" align="left"><b>Note:</b><br />Specifying the leading spindle is only mandatory for COUPDEL. It is optional for the other commands.</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><b><br />Optional parameters:</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;TRNom> </code></p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Numerator of the gear ratio </p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;TRDenom></code>  </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Denominator of the gear ratio</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">The transmission ratio is the ratio between the following and leading spindle speeds:</p><p type="p_table_l" align="left">n<sub>FS /</sub> n<sub>LS</sub></p><p type="p_table_l" align="left">Programming is performed by specifying the numerator and denominator of the transmission ratio:</p><p type="p_table_l" align="left"><code>COUPDEF(...,...,&lt;TRNom>,[&lt;TRDenom>],...,..)</code> </p><p type="p_table_l" align="left">Specifying the denominator is optional. The default value of 1.0 is set if nothing is specified.</p><p type="p_table_l" align="left">Example:</p><p type="p_table_l" align="left">Following spindle S2 and leading spindle S1, transformation ratio = 1/1</p><p type="p_table_l" align="left"><code>COUPDEF(S2, S1, 1.0)</code></p><p type="p_table_l" align="left"><b>Note:</b><br />The transformation ratio can also be changed on-the-fly (when the coupling is active and the spindles are rotating).</p></td></tr><tr valign="top"><td rowspan="6"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;BlockChange></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Block change behavior</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>"NOC"</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Immediately (default setting) </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>"FINE"</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">On reaching "Synchronism fine"   </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>"COARSE"</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">On reaching "Synchronism coarse"   </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>"IPOSTOP"</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">When reaching IPOSTOP; i.e. after setpoint-based synchronism </p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">The block change behavior is effective modally.</p><p type="p_table_l" align="left"><b>Note:</b><br />The following abbreviated notation is permissible when programming the block change behavior: <code>"NO"</code> / <code>"FI"</code> / <code>"CO"</code> / <code>"IP"</code></p></td></tr><tr valign="top"><td rowspan="5"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;CouplingType></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Coupling type: Coupling between FS and LS   </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>"DV"</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Setpoint linkage (default)   </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>"AV"</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Actual value coupling   </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>"VV"</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Speed coupling   </p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">The coupling type is modal.</p><p type="p_table_l" align="left"><b>Note:</b><br />The coupling type may only be changed when the coupling is deactivated.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;POSFS></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Angular offset between the leading and following spindles referred to 0° position of the leading spindle in the positive direction of rotation. </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Value range: </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">0°… 359.999°</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><b>Note:</b><br />The angular offset can also be changed when the coupling is active.</p></td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Examples</h3><h4 class="Blocklabel">Working with leading and following spindles</h4><a id="table_d4050355-b280-7f59-0f29-f81a1b666d65"></a> <a id="table_1"></a> <a id="table_d4050355-b280-7f59-0f29-f81a1b666d65"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E3HAC"><colgroup><col width="42.0%"><col width="58.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td> </td><td>Leading spindle = master spindle = spindle 1</td></tr><tr valign="top"><td> </td><td>Following spindle = spindle 2</td></tr><tr valign="top"><td>N05 M3 S3000 M2=4 S2=500</td><td>Leading spindle rotates at 3000 rpm,
following spindle at 500 rpm.</td></tr><tr valign="top"><td>N10 <b>COUPDEF(S2,S1,1,1,"NOC","Dv")</b></td><td>Definition of the coupling (can also be configured).</td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N70 SPCON</td><td>Bring leading spindle into closed-loop position control (setpoint coupling).</td></tr><tr valign="top"><td>N75 SPCON(2)</td><td>Bring following spindle into closed-loop position control.</td></tr><tr valign="top"><td>N80 <b>COUPON(S2,S1,45)</b></td><td>On-the-fly coupling to offset position = 45 degrees.</td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N200 FA[S2]=100</td><td>Positioning speed = 100 degrees/min</td></tr><tr valign="top"><td>N205 SPOS[2]=IC(-90)</td><td>Traverse with 90 degrees overlay in negative direction.</td></tr><tr valign="top"><td>N210 WAITC(S2,"Fine")</td><td>Wait for "fine" synchronism.</td></tr><tr valign="top"><td>N212 G1 X... Y... F...</td><td>Machining</td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N215 SPOS[2]=IC(180)</td><td>Traverse with 180 degrees overlay in the positive direction.</td></tr><tr valign="top"><td>N220 G4 S50</td><td>Dwell time = 50 revolutions of the master spindle</td></tr><tr valign="top"><td>N225 FA[S2]=0</td><td>Activate configured velocity (MD).</td></tr><tr valign="top"><td>N230 SPOS[2]=IC(-7200)</td><td>20 revolutions. Move with configured velocity in the negative direction.</td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N350 <b>COUPOF(S2,S1)</b></td><td>Couple-out on-the-fly, S=S2=3000</td></tr><tr valign="top"><td>N355 SPOSA[2]=0</td><td>Stop FS at zero degrees.</td></tr><tr valign="top"><td>N360 G0 X0 Y0</td><td> </td></tr><tr valign="top"><td>N365 WAITS(2)</td><td>Wait for spindle 2.</td></tr><tr valign="top"><td>N370 M5</td><td>Stop FS.</td></tr><tr valign="top"><td>N375 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Programming a difference in speed</h4><a id="table_d859cd10-d7ff-9c83-4b4d-6f3c6afdd11f"></a> <a id="table_2"></a> <a id="table_d859cd10-d7ff-9c83-4b4d-6f3c6afdd11f"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EQMAC"><colgroup><col width="42.0%"><col width="58.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td> </td><td>Leading spindle = master spindle = spindle 1</td></tr><tr valign="top"><td> </td><td>Following spindle = spindle 2</td></tr><tr valign="top"><td>N01 M3 S500</td><td>Leading spindle rotates at 500 rpm.</td></tr><tr valign="top"><td>N02 M2=3 S2=300</td><td>Following spindle rotates at 300 rpm.</td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N10 G4 F1</td><td>Dwell time of master spindle.</td></tr><tr valign="top"><td>N15 <b>COUPDEF (S2,S1,-1)</b></td><td>Coupling factor with ratio -1:1</td></tr><tr valign="top"><td>N20 <b>COUPON (S2,S1)</b></td><td>Activate coupling. The speed of the following spindle results from the speed of the leading spindle and coupling factor.</td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N26 M2=3 S2=100</td><td>Programming a difference in speed.</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Examples of transfer of a movement for difference in speed</h4><p>1. Activate coupling during previous programming of following spindle with COUPON</p><a id="table_d67b01da-5ca9-1850-30d4-e7b92e88ff5e"></a> <a id="table_3"></a> <a id="table_d67b01da-5ca9-1850-30d4-e7b92e88ff5e"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EWOAC"><colgroup><col width="42.0%"><col width="58.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td> </td><td>Leading spindle = master spindle = spindle 1</td></tr><tr valign="top"><td> </td><td>Following spindle = spindle 2</td></tr><tr valign="top"><td>N05 M3 S100 M2=3 S2=200</td><td>Leading spindle rotates at 100 rpm, following spindle at 200 rpm.</td></tr><tr valign="top"><td>N10 G4 F5</td><td>Dwell time = 5 seconds of master spindle</td></tr><tr valign="top"><td>N15 <b>COUPDEF(S2,S1,1)</b></td><td>Transformation ratio of FS to LS is 1.0 (default).</td></tr><tr valign="top"><td>N20 <b>COUPON(S2,S1)</b></td><td>On-the-fly coupling to the leading spindle.</td></tr><tr valign="top"><td>N10 G4 F5</td><td>Following spindle rotates at 100 rpm.</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>2. Activate coupling during previous programming of following spindle with COUPONC</p><a id="table_6bff21cc-018c-8d9b-e668-87ebc210a4cf"></a> <a id="table_4"></a> <a id="table_6bff21cc-018c-8d9b-e668-87ebc210a4cf"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="ENAAE"><colgroup><col width="42.0%"><col width="58.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td> </td><td>Leading spindle = master spindle = spindle 1</td></tr><tr valign="top"><td> </td><td>Following spindle = spindle 2</td></tr><tr valign="top"><td>N05 M3 S100 M2=3 S2=200</td><td>Leading spindle rotates at 100 rpm, following spindle at 200 rpm.</td></tr><tr valign="top"><td>N10 G4 F5</td><td>Dwell time = 5 seconds of master spindle</td></tr><tr valign="top"><td>N15 <b>COUPDEF(S2,S1,1)</b></td><td>Transformation ratio of FS to LS is 1.0 (default).</td></tr><tr valign="top"><td>N20 <b>COUPONC(S2,S1)</b></td><td>On-the-fly coupling to leading spindle and transfer previous speed to S2.</td></tr><tr valign="top"><td>N10 G4 F5</td><td>S2 rotates at 100 rpm + 200 rpm = 300 rpm</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>3. Activate coupling with following spindle stationary with COUPON</p><a id="table_de53952f-cefd-d849-5b0d-a0d3d32abd3b"></a> <a id="table_5"></a> <a id="table_de53952f-cefd-d849-5b0d-a0d3d32abd3b"></a> <a id="table_5"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EDCAE"><colgroup><col width="42.0%"><col width="58.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td> </td><td>Leading spindle = master spindle = spindle 1</td></tr><tr valign="top"><td> </td><td>Following spindle = spindle 2</td></tr><tr valign="top"><td>N05 SPOS=10 SPOS[2]=20</td><td>Following spindle S2 in positioning mode.</td></tr><tr valign="top"><td>N15 <b>COUPDEF(S2,S1,1)</b></td><td>Transformation ratio of FS to LS is 1.0 (default).</td></tr><tr valign="top"><td>N20 <b>COUPON(S2,S1)</b></td><td>On-the-fly coupling to the leading spindle.</td></tr><tr valign="top"><td>N10 G4 F1</td><td>Coupling is closed, S2 stops at 20 degrees.</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>4. Activate the coupling with following spindle stationary using COUPONC</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee" style="margin-bottom:10px"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel">The following spindle is in the positioning or axis mode</h4><p class="safety">If the following spindle is in positioning or axis mode before coupling, then the following spindle behaves the same for COUPON(&lt;FS>,&lt;LS>) and COUPONC(&lt;FS>,&lt;LS>).</p></td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel">Leading spindle in the axis mode</h4><p class="safety">If, prior to the coupling being defined, the leading spindle is in axis operation, the velocity limit value from machine data</p><p class="safety">MD32000 $MA_MAX_AX_VELO (maximum axis velocity) will still apply even after the coupling is activated.</p><p class="safety">To avoid this behavior, the axis must be switched to spindle mode (M3 S... or M4 S...) prior to the coupling being defined.</p></td></tr></table></div>
    <p>See also:<br />    <a href="156663736843.html">Synchronous spindle coupling (COUPDEF, COUPDEL, COUPON, COUPONC, COUPOF, COUPOFS, COUPRES, WAITC): More information</a></p>
  </body>
</html>