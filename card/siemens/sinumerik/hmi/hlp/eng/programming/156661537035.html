<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Programmable tool offset (TOFFL, TOFF, TOFFR, TOFFLR):</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Programmable tool offset (TOFFL, TOFF, TOFFR, TOFFLR):</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Based on the TOFFx addresses, the user can modify the effective tool length and the effective tool radius in the NC program, without changing the tool offset data stored in the compensation memory. </p>
      <p>These programmed offsets are deleted again at the end of the program.</p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>
      <h4 class="Blocklabel">Tool length offset</h4>
      <a id="table_7ee537dc-7c82-8180-635e-d3308a734663">
      </a> <a id="table_0"></a> <a id="table_7ee537dc-7c82-8180-635e-d3308a734663"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="ERC"><colgroup><col width="100.0%"></colgroup><tr valign="top"><td>TOFFL=&lt;Value></td></tr><tr valign="top"><td>TOFFL[1]=&lt;Value> TOFFL[2]=&lt;Value> TOFFL[3]=&lt;Value></td></tr><tr valign="top"><td>TOFF[&lt;GeoAx>]=&lt;Value></td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>The tool length can be changed simultaneously in all three components. However, commands of the TOFFL/TOFFL[1..3] group and commands of the TOFF[&lt;geometry axis>] group may not be used simultaneously in one block. Similarly TOFFL and TOFFL[1] may not be written simultaneously in one block.</p><p>If all three tool length components are not programmed in one block, the components not programmed remain unchanged. In this way, it is possible to build up offsets for several components block-by-block. However, this only applies as long as the tool components have been modified only with either TOFFL or TOFF. Changing the programming version from TOFFL to TOFF or vice versa deletes any previously programmed tool length offsets (see example 3).</p><h4 class="Blocklabel">Tool radius offset</h4><a id="table_eb197341-c307-423c-dfad-6ba543b80f12"></a> <a id="table_1"></a> <a id="table_eb197341-c307-423c-dfad-6ba543b80f12"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EFD"><colgroup><col width="100.0%"></colgroup><tr valign="top"><td>TOFFR=&lt;Value></td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Simultaneous tool length offset and tool radius offset</h4><a id="table_49e8cf4a-d795-c962-8612-700231e769ab"></a> <a id="table_2"></a> <a id="table_49e8cf4a-d795-c962-8612-700231e769ab"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="ERD"><colgroup><col width="100.0%"></colgroup><tr valign="top"><td>TOFFLR=&lt;Value></td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_2"></a><h3 class="Blocktitle">Meaning</h3><a id="table_6c908801-dfa2-49d6-9e11-f8bb4d528000"></a> <a id="table_3"></a> <a id="table_6c908801-dfa2-49d6-9e11-f8bb4d528000"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="15.0%"><col width="10.0%"><col width="10.0%"><col width="65.0%"></colgroup><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>TOFFL</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Correction of the effective tool length</p><p type="p_table_l" align="left">TOFFL can be programmed with or without index:</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>TOFFL=...</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The programmed offset value is applied in the same direction as the tool length component <b>L1</b> stored in the compensation memory.</p><p type="p_table_l" align="left">The TOFFL and TOFFL[1] instructions have an identical effect.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>TOFFL[1]=...</code> </p><p type="p_table_l" align="left"><code>TOFFL[2]=...</code> </p><p type="p_table_l" align="left"><code>TOFFL[3]=...</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The programmed offset value is effective in the same direction as the tool length components <b>L1</b>, <b>L2</b> and <b>L3</b> stored in the offset memory.</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><b>Note:</b><br />How these tool length compensation values are calculated in the axes is determined by the tool type and the current working plane (G17/G18/G19).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>TOFF</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Correction of the tool length in the component parallel to the specified geometry axis</p><p type="p_table_l" align="left">TOFF is applied in the direction of the tool length component which is effective with non-rotated tool (orientable tool carrier or orientation transformation) parallel to the geometry axis specified in the index.</p><p type="p_table_l" align="left"><b>Note:</b><br />A frame does not influence the assignment of the programmed values to the tool length components. This means that the workpiece coordinate system (WCS) is not used to assign the tool length components to the geometry axes, but rather the tool coordinate system in the basic tool position.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;GeoAx></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Identifier of the geometry axis</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>TOFFR</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Correction of the effective tool radius</p><p type="p_table_l" align="left">TOFFR changes the effective tool radius <b>with active tool radius compensation</b> by the programmed offset value. </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>TOFFLR</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Correction of the effective tool length in the component L1 <b>and</b> the effective tool radius</p><p type="p_table_l" align="left"><b>Note:</b><br />For tools with corner rounding (types 111, 121, 131 and 156), TOFFLR also corrects the corner radius.</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Value></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Offset value </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Type:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">REAL</p></td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Examples</h3><h4 class="Blocklabel">Example 1: Positive tool length offset</h4><p>The active tool is a drill with length L1 = 100 mm.</p><p>The active plane is G17. This means that the drill points in the Z direction.</p><p>The effective drill length is to be increased by 1 mm. The following variants are available for programming this tool length offset:</p><ul><li><p><code>TOFFL=1</code></p></li><li><p><code>TOFFL[1]=1</code></p></li><li><p><code>TOFF[Z]=1</code></p></li></ul><h4 class="Blocklabel">Example 2: Negative tool length offset</h4><p class="comment">The active tool is a drill with length L1 = 100 mm.</p><p class="comment">The active plane is G18. This means that the drill points in the Y direction.</p><p class="comment">The effective drill length is to be decreased by 1 mm. The following variants are available for programming this tool length offset:</p><ul class="comment"><li class="comment"><p class="comment"><code>TOFFL=-1</code></p></li><li class="comment"><p class="comment"><code>TOFFL[1]=-1</code></p></li><li class="comment"><p class="comment"><code>TOFF[Y]=1</code></p></li></ul><h4 class="Blocklabel">Example 3: Change of programming version from TOFFL to TOFF</h4><p class="comment">The active tool is a milling tool. The active plane is G17.</p><a id="table_9ba0bff9-f595-42ce-beb6-ba418724d76b"></a> <a id="table_4"></a> <a id="table_9ba0bff9-f595-42ce-beb6-ba418724d76b"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EWBAC"><colgroup><col width="40.0%"><col width="60.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 TOFFL[1]=3 TOFFL[3]=5</td><td>; Effective offsets: L1=3, L2=0, L3=5</td></tr><tr valign="top"><td>N20 TOFFL[2]=4</td><td>; Effective offsets: L1=3, L2=4, L3=5</td></tr><tr valign="top"><td>N30 TOFF[Z]=1.3</td><td>; Effective offsets: L1=0, L2=0, L3=1.3</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Example 4: Assignment of the offset values after a plane change</h4><a id="table_3889ef19-476e-415f-8bb0-c5194408b68d"></a> <a id="table_5"></a> <a id="table_3889ef19-476e-415f-8bb0-c5194408b68d"></a> <a id="table_5"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EUCAC"><colgroup><col width="30.0%"><col width="70.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 $TC_DP1[1,1]=120</td><td> </td></tr><tr valign="top"><td>N20 $TC_DP3[1,1]= 100</td><td>; Tool length L1=100 mm.</td></tr><tr valign="top"><td>N30 T1 D1 G17</td><td> </td></tr><tr valign="top"><td>N40 <b>TOFF[Z]=1.0</b></td><td>; Offset in Z direction (corresponds to L1 for G17).</td></tr><tr valign="top"><td>N50 G0 X0 Y0 Z0</td><td>; Machine axis position X0 Y0 Z101</td></tr><tr valign="top"><td>N60 G18 G0 X0 Y0 Z0</td><td>; Machine axis position X0 Y100 Z1.</td></tr><tr valign="top"><td>N70 G17</td><td> </td></tr><tr valign="top"><td>N80 <b>TOFFL=1.0</b></td><td>; Offset in L1 direction (corresponds to Z for G17).</td></tr><tr valign="top"><td>N90 G0 X0 Y0 Z0</td><td>; Machine axis position X0 Y0 Z101.</td></tr><tr valign="top"><td>N100 G18 G0 X0 Y0 Z0</td><td>; Machine axis position X0 Y101 Z0.</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p class="comment">In this example, the offset of 1 mm in the Z axis is retained when changing to G18 in block N60; the effective tool length in the Y axis is the unchanged tool length of 100 mm.</p><p class="comment">However, in block N100, the offset is effective in the Y axis when changing to G18 as it was assigned to tool length L1 in the programming, and this length component is effective in the Y axis with G18.</p><h4 class="Blocklabel">Example 5: Simultaneous tool length offset and tool radius offset</h4><p class="comment">a, end milling cutter <b>without</b> corner rounding (tool type 120):</p><a id="table_7c74d5ef-59f8-404a-ec56-74c6e578cfef"></a> <a id="table_6"></a> <a id="table_7c74d5ef-59f8-404a-ec56-74c6e578cfef"></a> <a id="table_6"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E6EAC"><colgroup><col width="30.0%"><col width="70.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>TOFFLR=0.1</td><td>; Effective offsets:; Tool length offset (L1) = 5; Tool radius offset = 5</td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p class="comment">b, end mill <b>with</b> corner rounding (tool type 121):</p><a id="table_6c4c682a-733e-d01b-f27a-175990e7311f"></a> <a id="table_7"></a> <a id="table_6c4c682a-733e-d01b-f27a-175990e7311f"></a> <a id="table_7"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EAGAC"><colgroup><col width="30.0%"><col width="70.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>TOFFLR=0.1</td><td>; Effective offsets:; Tool length offset (L1) = 0.1; Tool radius offset = 0.1; Offset corner radius = 0.1</td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p></div>
    <p>See also:<br />    <a href="156661540491.html">Programmable tool offset (TOFFL, TOFF, TOFFR, TOFFLR): Further information</a><br />    <a href="156661463179.html">Programmed contour and tool path</a></p>
  </body>
</html>