<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Read the assignment of the tool lengths L1, L2, L3 to the coordinate axes (LENTOAX)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Read the assignment of the tool lengths L1, L2, L3 to the coordinate axes (LENTOAX)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>The LENTOAX function provides information about the assignment of tool lengths L1, L2 and L3 of the <b>active</b> tool to the abscissa, ordinate and applicate. The assignment of abscissa, ordinate and applicate to the geometry axes is affected by frames and the active plane (G17 - G19).</p>
      <p>Only the geometry component of a tool ($TC_DP3[&lt;t>,&lt;d>] to $TC_DP5[&lt;t>,&lt;d>]) is considered, i.e. a different axis assignment for other components (e.g. wear) has no effect on the result.</p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>
      <b>&lt;</b>Status> = LENTOAX(&lt;AxInd>, &lt;Matrix>[, &lt;Coord>])<a name="block_2"></a><h3 class="Blocktitle">Principle</h3><a id="table_dc7626fe-3412-4464-9c5d-7e46e8fb435e"></a> <a id="table_0"></a> <a id="table_dc7626fe-3412-4464-9c5d-7e46e8fb435e"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="3.9%"><col width="16.6%"><col width="10.0%"><col width="10.0%"><col width="59.5%"></colgroup><tr valign="top"><td rowspan="2" colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>LENTOAX(...)</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Predefined function to read the assignment of tool lengths L1, L2 and L3 of the active tool to the coordinate axes</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Alone in the block:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Yes</p></td></tr><tr valign="top"><td rowspan="6" colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;status></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Function return value. Negative values indicate error states.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Value:</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Function OK</p><p type="p_table_l" align="left">Information provided in &lt;AxInd> is sufficient for the description (all tool length components are in parallel to the geometry axes). </p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Function is OK, however, the content of &lt;Matrix> must be evaluated for a correct description (the tool length components are not parallel to the geometry axes).</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Invalid string in parameter &lt;Coord>.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-2</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">No tool active.</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left"><b>Parameters</b></p></td></tr><tr valign="top"><td rowspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td><td rowspan="5"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;AxInd></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">If the tool length components are parallel to the geometry axes, the axis indices assigned to length components L1 to L3 are returned in the <b>&lt;</b>AxInd> array.</p><ul class="table"><li><p>&lt;AxInd> [0]: Abscissa</p></li><li><p>&lt;AxInd> [1]: Ordinate</p></li><li><p>&lt;AxInd> [2]: Applicate</p></li></ul></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">INT[3]</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Value:</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">No assignment exists (axis does not exist)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">1 ... 3</p><p type="p_table_c" align="center">or</p><p type="p_table_c" align="center">-1 ... -3</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Number of the length effective in the corresponding coordinate axis.</p><p type="p_table_l" align="left">The sign is negative if the tool length component is pointing in the negative coordinate direction.</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">If not all length components are parallel or antiparallel to the geometry axes, the index of the axis, which contains the largest part of a tool length component, is returned in &lt;AxInd>. In this case (if the function does not return an error for a different reason), then the return value is &lt;Status> = 1. The mapping of tool length components L1 to L3 to geometry axes 1 to 3 is then described completely by the content of the 2nd parameter &lt;Matrix>.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">2</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Matrix></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Matrix which represents the vector of the tool lengths (L1=1, L2=1, L3=1) to the vector of the coordinate axes (abscissa, ordinate, applicate), i.e. the tool length components are assigned to the columns in the order L1, L2, L3 and the axes are assigned to the lines in the order abscissa, ordinate, applicate.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">REAL</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">All elements are always valid in the matrix, even if the geometry axis belonging to the coordinate axis is not available, i.e. if the corresponding entry in &lt;AxInd> is 0.</p></td></tr><tr valign="top"><td rowspan="8"><p type="p_table_l" style="margin-top: 4px" align="left">3</p></td><td rowspan="8"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Coord></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">coordinate system applicable for the assignment (optional)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">STRING</p></td></tr><tr valign="top"><td rowspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Characters:</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">MCS</p><p type="p_table_c" align="center">M</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The tool length is represented in the machine coordinate system.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">BCS</p><p type="p_table_c" align="center">B</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The tool length is represented in the basic coordinate system.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">WCS</p><p type="p_table_c" align="center">W</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The tool length is represented in the workpiece coordinate system (default setting).</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">KCS</p><p type="p_table_c" align="center">K</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The tool length is represented in the tool coordinate system of the kinematic transformation.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">TCS</p><p type="p_table_c" align="center">T</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The tool length is represented in the tool coordinate system.</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The notation of the characters in the string (upper or lower case) is arbitrary.</p><p type="p_table_l" align="left">If the parameter &lt;Coord> is not specified, then WCS is used (default setting).</p></td></tr></table></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">In the TCS, all tool length components are always parallel or antiparallel to the axes.</p><p class="safety">The components can only be antiparallel when mirroring is active and the following setting data is activated:</p><p class="safety">SD42900 $SC_MIRROR_TOOL_LENGTH (sign change tool length when mirroring)</p></td></tr></table><a name="block_3"></a><h3 class="Blocktitle">Example</h3><p>Standard application, milling tool for G17.</p><p>L1 applies in Z (applicate), L2 applies in Y (ordinate), L3 applies in X (abscissa).</p><p>Function call in the form:</p>&lt;Status>=LENTOAX(&lt;AxInd>,&lt;Matrix>,"WCS")<p>The result parameter &lt;AxInd> then contains the values:</p><p>&lt;AxInd>[0] = 3</p><p>&lt;AxInd>[1] = 2</p><p>&lt;AxInd>[2] = 1</p><p>Or, in short: (3, 2, 1)</p><p>In this case, the associated matrix (&lt;Matrix>) is:</p><a id="image_818629259_0"></a> <img border="0" src="images/173318737803.png" width="134" height="51"/><p>A change from G17 to G18 or G19 does not alter the result, because the assignment of the length components to the geometry axes changes in the same way as the assignment of the abscissa, ordinate and applicate.</p><p>A frame rotation of Z through 60 degrees is now programmed with G17 active, e.g.</p>ROT Z60<p>The direction of the applicate (Z direction) remains unchanged; the main component of L2 now lies in the direction of the new X axis; the main component of L1 now lies in the direction of the negative Y axis. As a consequence, the return value (&lt;Status>) is "1", &lt;AxInd> contains the values (2, -3, 1).</p><p>In this case, the associated matrix (&lt;Matrix>) is:</p><a id="image_818639883_0"></a> <img border="0" src="images/173319158795.png" width="201" height="53"/></div>
  </body>
</html>