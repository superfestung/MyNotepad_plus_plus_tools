<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Assign and start interrupt routine (SETINT, PRIO, BLSYNC)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Assign and start interrupt routine (SETINT, PRIO, BLSYNC)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>The control has several fast inputs (inputs 1 ... 8), which initiate an interrupt (1 ... 8). Each interrupt can be assigned a priority and an interrupt routine using the <code>SETINT</code> command. If the interrupt is initiated by setting the fast input, then processing in the channel is interrupted and the interrupt routine started.</p>
      <h4 class="Blocklabel">Interrupt priority</h4>
      <p>If, in a part program, several inputs are assigned interrupts, then the interrupts must be assigned different priorities.</p>
      <p>An interrupt can be assigned a priority value from 1 ... 128. Priority value 1 corresponds to the highest priority and 128 the lowest. </p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>SETINT(&lt;n>) &lt;NAME>SETINT(&lt;n>) PRIO=&lt;value> &lt;NAME>SETINT(&lt;n>) PRIO=&lt;value> &lt;NAME> BLSYNCSETINT(&lt;n>) PRIO=&lt;value> &lt;NAME> LIFTFAST<a name="block_2"></a><h3 class="Blocktitle">Meaning</h3><a id="table_a8f2d8a1-61df-4edd-ac6b-0aa6f068bb01"></a> <a id="table_0"></a> <a id="table_a8f2d8a1-61df-4edd-ac6b-0aa6f068bb01"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="19.7%"><col width="18.1%"><col width="62.2%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>SETINT(&lt;n>)</code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Input &lt;n> is assigned the interrupt routine &lt;Name>. The assigned interrupt routine is started as soon as input &lt;n> == 1 is detected.</p><p type="p_table_l" align="left"><b>Note:</b><br />If an already programmed input &lt;n> is assigned another interrupt routine, then the previous assignment is no longer effective.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;n></code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Input number</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Type:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Range of values:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">1 ... 8</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>PRIO= </code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Priority of the interrupt </p><p type="p_table_l" align="left">(optional)</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;value></code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Priority value </p><p type="p_table_l" align="left">(optional)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Type:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Range of values:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">1 ... 128 (1 ⇒ highest priority)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;NAME></code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Name of the interrupt routine (subprogram)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>BLSYNC</code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>BLSYNC</code> ensures that after initiating the interrupt, the system first waits until the actual block has been completed. Only then is the interrupt routine executed. </p><p type="p_table_l" align="left">(optional)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>LIFTFAST</code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>LIFTFAST</code> ensures that after initiating the interrupt, initially a fast retraction is realized (see Chapter ""). Only then is the interrupt routine executed. </p><p type="p_table_l" align="left">(optional)</p></td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Supplementary conditions</h3><h4 class="Blocklabel">Interrupt rules</h4><ol><li><p>For every interrupt that cannot be immediately executed, or is presently already being processed, an additional interrupt request is saved. All other interrupt requests for this interrupt are lost.</p></li><li><p>If an interrupt is currently being processed and an additional interrupt with higher priority initiated, then this interrupts the lower-priority interrupt. The lower priority interrupt is continued after the higher priority interrupt has been completed. If, while the higher priority interrupt is being processed, additional requests are received for the lower-priority interrupt, then one request is saved. All others are lost.</p></li><li><p>If an interrupt is currently being processed and an additional interrupt with higher priority initiated, then this interrupts the lower-priority interrupt. The higher priority interrupt is processed. If a higher priority interrupt is initiated, the actual interrupt is interrupted and the higher priority interrupt processed. A maximum of six active interrupt levels are possible. One interrupt level presently being processed and five waiting interrupt levels. For each active interrupt level, a maximum of one additional interrupt request is saved. All other interrupt requests are lost. Interrupt requests are also lost if these are requested for additional interrupt levels (interrupt level ≥ 7).</p></li></ol><a name="block_4"></a><h3 class="Blocktitle">Examples</h3><h4 class="Blocklabel"><b>Example 1: Assign interrupt routines and define the priority</b></h4><a id="table_eef6b7c2-c9b4-4af0-9523-55c607e46156"></a> <a id="table_1"></a> <a id="table_eef6b7c2-c9b4-4af0-9523-55c607e46156"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EPG"><colgroup><col width="42.1%"><col width="57.9%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N20 SETINT(3) PRIO=1 ABHEB_Z</td><td>; IF input 3 == 1 THEN start interrupt routine "ABHEB_Z"</td></tr><tr valign="top"><td>N30 SETINT(2) PRIO=2 ABHEB_X</td><td>; IF input 2 == 1 THEN start interrupt routine "ABHEB_X".</td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>The interrupt routines are executed in the sequence of the priority values if the inputs become available simultaneously (are energized simultaneously): First "ABHEB_Z", then "ABHEB_X".</p><p></p><h4 class="Blocklabel"><b>Example 2: Newly assign an interrupt routine</b> </h4><a id="table_4bac6b5f-21d6-4294-8437-02e0fa8f90b7"></a> <a id="table_2"></a> <a id="table_4bac6b5f-21d6-4294-8437-02e0fa8f90b7"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EZH"><colgroup><col width="42.1%"><col width="57.9%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N20 SETINT(3) PRIO=2 ABHEB_Z</td><td>; IF input 3 == 1 THEN start interrupt routine "<b>ABHEB_Z</b>"</td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N80 SETINT(3) PRIO=1 ABHEB_X</td><td>; IF input 3 == 1 THEN start interrupt routine "<b>ABHEB_X</b>"</td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p></p></div>
    <p>See also:<br />    <a href="156662744331.html">Function of an interrupt routine</a></p>
  </body>
</html>