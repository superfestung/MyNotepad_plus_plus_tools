<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Programmable tool offset (TOFFL, TOFF, TOFFR, TOFFLR): Further information</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Programmable tool offset (TOFFL, TOFF, TOFFR, TOFFLR): Further information</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <a name="block_1">
      </a>
      <h3 class="BlocktitleFirst">Further information</h3>
      <h4 class="Blocklabel">Tool length offsets</h4>
      <p>Depending on the type of programming, programmed tool length offsets are assigned either to the tool length components L1, L2 and L3 (TOFFL) stored in the compensation memory or to the geometry axes (TOFF). The programmed offsets are treated accordingly for a plane change (G17/G18/G19 ↔ G17/G18/G19):</p>
      <ul>
        <li>
          <p>If the offset values are assigned to the tool length components, the directions in which the programmed offsets apply are replaced accordingly.</p>
        </li>
        <li>
          <p>If the offset values are assigned to the geometry axes, a plane change does not affect the assignment in relation to the coordinate axes.</p>
        </li>
      </ul>
      <p>The following setting data is evaluated when assigning the programmed offset values to the tool length components:</p>
      <p>SD42940 $SC_TOOL_LENGTH_CONST (change of tool length components on change of planes). </p>
      <p>SD42950 $SC_TOOL_LENGTH_TYPE (assignment of the tool length offset independent of tool type). </p>
      <p>If this setting data has valid values not equal to 0, then these have priority over the contents of G group 6 (plane selection G17/G18/G19) or the tool type ($TC_DP1[&lt;T no.>, &lt;D no.>]) contained in the tool data. This means that this setting data affects the evaluation of the offsets in the same way as the tool length components L1 to L3.</p>
      <h4 class="Blocklabel">Tool radius offset</h4>
      <p>The TOFFR address has almost the same effect as the <a href="156661962891.html">OFFN</a> address. There is only a difference with active peripheral curve transformation (TRACYL) and active slot side compensation. In this case, the tool radius is affected by OFFN with a negative sign, but by TOFFR with a positive sign.</p>
      <p>OFFN and TOFFR can be effective simultaneously. They then generally have an additive effect (except for slot side compensation).</p>
      <h4 class="Blocklabel">Tool change</h4>
      <p>All offset values are retained during a tool change (cutting edge change). This means that they are also effective for the new tool (new cutting edge).</p>
      <h4 class="Blocklabel">System variables for reading the current offset values</h4>
      <p>The currently effective offsets can be read with the following system variables:</p>
      <a id="table_0">
      </a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="30.0%"><col width="70.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">System variable</p></th><th><p type="p_table_lb" align="left">Meaning</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_TOFFL [&lt;n>]</p><p type="p_table_l" align="left">with 0 ≤ n ≤ 3</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Reads the current offset value of TOFFL (for n = 0) or TOFFL[1...3] (for n = 1, 2, 3) in the preprocessing context.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_TOFF [&lt;GeoAx>]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Reads the current offset value of TOFF[&lt;GeoAx>] in the preprocessing context.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_TOFFR</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Reads the current offset value of TOFFR in the preprocessing context.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_TOFFCR</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Reads the current offset value of the corner radius in the preprocessing context.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_TOFFL[&lt;n>]</p><p type="p_table_l" align="left">with 0 ≤ n ≤ 3</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Reads the current offset value of TOFFL (for n = 0) or TOFFL[1...3] (for n = 1, 2, 3) in the main run context (synchronized actions).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_TOFF[&lt;GeoAx>]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Reads the current offset value of TOFF[&lt;GeoAx>] in the main run context (synchronized actions).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_TOFFR</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Reads the current offset value of TOFFR in the main run context (synchronized actions).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_TOFFCR</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Reads the current offset value of the corner radius in the main run context (synchronized actions).</p></td></tr></table></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">The system variables $AC_TOFFL, $AC_TOFF, AC_TOFFR and AAC_TOFFCR trigger an automatic preprocessing stop when reading from the preprocessing context (NC program).</p></td></tr></table><h4 class="Blocklabel">Applications</h4><p>The "Programmable tool offset" function is especially interesting for ball mills and milling tools with corner radii as these are often calculated in the CAM system to the ball center instead of the ball tip. However, the tool tip is generally measured when the tool is measured, and stored as tool length in the compensation memory.</p><p>For the 3D tool radius compensation with a ball mill it is advantageous to correct the tool length and radius by the same value simultaneously. The TOFFLR address is available to the user for this purpose.</p></div>
  </body>
</html>