<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Suppress single block execution (SBLOF, SBLON)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Suppress single block execution (SBLOF, SBLON)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>Even with active single block machining, the user can completely or partly process an NC program without interruption. Single block machining is suppressed via the SBLOF command, and reactivated via the SBLON command.</p>
      <h4 class="Blocklabel">Suppressing single block machining for the complete NC program</h4>
      <p>If the deactivation of single block machining (SBLOF) is programmed in the first line (PROC ...) of a <b>main program</b>, this remains valid until the end of the NC program or until the NC program is canceled. The NC program is then executed without stopping when in the single block mode.</p>
      <p>If deactivating single block machining (SBLOF) is programmed in the first line (PROC ...) of a <b>subprogram</b>, this remains valid until the end of the NC program or until the NC program is canceled. With the programmed return command, the decision is made whether to stop at the end of the subprogram:</p>
      <ul>
        <li>
          <p>Return with M17: Stop at the end of the subprogram</p>
        </li>
        <li>
          <p>Return with RET: <b>No</b> stop at end of subprogram</p>
        </li>
      </ul>
      <h4 class="Blocklabel">Suppressing single block machining within the NC program</h4>
      <p>If the deactivation of single block machining (SBLOF) is programmed in a block within an NC program, then single block machining is deactivated from this block onward up to the next programmed activation of single block machining (SBLON) - or at the end of the active subprogram level.</p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>
      <h4 class="Blocklabel">Suppressing single block machining for the complete NC program:</h4>
      <a id="table_22e934d4-d89f-8e1e-f8dd-278566efc092">
      </a> <a id="table_0"></a> <a id="table_22e934d4-d89f-8e1e-f8dd-278566efc092"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EVB"><colgroup><col width="81.6%"><col width="18.4%"></colgroup><tr valign="top"><td>PROC ... SBLOF</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Suppressing single block machining within the NC program:</h4><a id="table_99bc079b-b32c-4f1c-9147-ca5857a9fc19"></a> <a id="table_1"></a> <a id="table_99bc079b-b32c-4f1c-9147-ca5857a9fc19"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EGC"><colgroup><col width="81.1%"><col width="18.9%"></colgroup><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>SBLOF</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>SBLON</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_2"></a><h3 class="Blocktitle">Meaning</h3><a id="table_308a0f76-195d-454b-bff2-ae1d5f295ba9"></a> <a id="table_2"></a> <a id="table_308a0f76-195d-454b-bff2-ae1d5f295ba9"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="15.0%"><col width="20.0%"><col width="65.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>PROC</code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">First operation in a program</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>SBLOF</code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Predefined procedure to deactivate single block machining</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Alone in the block:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Yes, possible in the PROC block</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Effectiveness:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Modal</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>SBLON</code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Predefined procedure to activate single block machining</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Alone in the block:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">yes</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Effectiveness:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Modal</p></td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Special aspects</h3><ul><li><p><b>Block display with suppressed single block machining</b></p><p>The current block display can be suppressed in subprograms using DISPLOF. If DISPLOF is programmed together with SBLOF, for single block stops within the subprogram, the subprogram call is displayed.</p></li><li><p><b>Suppression of single block machining with asynchronous subprograms (ASUB)</b></p><p>In order to execute an ASUB with active single block machining in one step, a PROC statement must be programmed in the ASUB with SBLOF. This also applies to the function "Editable system ASUB" (MD11610 $MN_ASUP_EDITABLE).</p><p>If the single block stop in the system or user ASUB is suppressed by programming SBLOF in the PROC line or using the settings in machine data MD10702 $MN_IGNORE_SINGLEBLOCK_MASK (bit0 = 1 or bit1 = 1), then the single block stop can be reactivated by programming SBLON in the ASUB.</p><p>If the single block stop in the user ASUB is suppressed using the setting in machine data MD20117 $MC_IGNORE_SINGLEBLOCK_ASUP, the single block stop <b>cannot</b> be reactivated by programming SBLON in the ASUB.</p></li><li><p><b>Special features for various single block machining types</b></p><ul><li><p>"SB2: Arithmetic block" AND MD10702 $MN_IGNORE_SINGLEBLOCK_MASK, Bit 12 = 1:</p><p>→ The program is not stopped in the SBLON block.</p></li><li><p>"SB3: single block fine":</p><p>→ The SBLOF command is suppressed<b>.</b></p></li></ul></li><li><p><b>Suppression of single block machining in nested programs</b></p><p>If SBLOF was programmed in the PROC statement in a subprogram, then execution is stopped at the subprogram return with M17. That prevents the next block in the calling program from already running. If, in a subprogram with SBLOF, without SBLOF in the PROC statement, a suppression of single block machining is activated, execution is only stopped after the next machine function block of the calling program. If that is not wanted, SBLON must be programmed in the subprogram before the return (M17). Execution does not stop for a return to a higher-level program with RET.</p></li></ul><a name="block_4"></a><h3 class="Blocktitle">Examples</h3><h4 class="Blocklabel">Example 1: Suppressing single block machining within the NC program</h4><p>Initial situation: Single block machining is active.</p><a id="table_49b5683d-d3b1-4bbe-a5bf-73d21eb6b194"></a> <a id="table_3"></a> <a id="table_49b5683d-d3b1-4bbe-a5bf-73d21eb6b194"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EQG"><colgroup><col width="34.8%"><col width="65.2%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 G1 X100 F1000</td><td> </td></tr><tr valign="top"><td>N20 <b>SBLOF</b></td><td> ; Switch off single block machining</td></tr><tr valign="top"><td>N30 Y20</td><td> </td></tr><tr valign="top"><td>N40 M100</td><td> </td></tr><tr valign="top"><td>N50 R10=90</td><td> </td></tr><tr valign="top"><td>N60 <b>SBLON</b></td><td>; Reactivate single block machining</td></tr><tr valign="top"><td>N70 M110</td><td> </td></tr><tr valign="top"><td>N80 ...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>The area between N20 and N60 is executed as one step in single block mode.</p><h4 class="Blocklabel">Example 2: A cycle is to act like a command for a user</h4><p>Initial situation: Single block machining is active.</p><p>Main program:</p><a id="table_e30fd9e9-3d2a-4251-9ac8-961ad12f387d"></a> <a id="table_4"></a> <a id="table_e30fd9e9-3d2a-4251-9ac8-961ad12f387d"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EPAAC"><colgroup><col width="34.8%"><col width="65.2%"></colgroup><tr valign="top"><th>Program code</th><th> </th></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N100 G1 X10 G90 F200</td><td> </td></tr><tr valign="top"><td>N120 X-4 Y6</td><td> </td></tr><tr valign="top"><td>N130 <b>CYCLE1</b></td><td> </td></tr><tr valign="top"><td>N140 G1 X0</td><td> </td></tr><tr valign="top"><td>N150 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Cycle CYCLE1:</p><a id="table_7ec4e840-8126-4d06-ac13-5460ac5370d8"></a> <a id="table_5"></a> <a id="table_7ec4e840-8126-4d06-ac13-5460ac5370d8"></a> <a id="table_5"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E4BAC"><colgroup><col width="45.0%"><col width="55.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N100 <b>PROC</b> CYCLE1 DISPLOF <b>SBLOF</b></td><td>; Suppress single block machining for the complete program.</td></tr><tr valign="top"><td>N110 R10=3*SIN(R20)+5</td><td> </td></tr><tr valign="top"><td>N120 IF (R11 &lt;= 0)</td><td> </td></tr><tr valign="top"><td>N130  SETAL(61000)</td><td> </td></tr><tr valign="top"><td>N140 ENDIF</td><td> </td></tr><tr valign="top"><td>N150 G1 G91 Z=R10 F=R11</td><td> </td></tr><tr valign="top"><td>N160 M17</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>The cycle CYCLE1 is processed with active single block machining. CYCLE1 is processed for active single block machining, i.e. the Start key must be pressed once to process CYCLE1.</p><h4 class="Blocklabel">Example 3: An ASUB, which is started by the PLC in order to activate a modified zero offset and tool offsets, is to be executed invisibly</h4><a id="table_530dd0ee-deca-4691-8325-5a08149d4743"></a> <a id="table_6"></a> <a id="table_530dd0ee-deca-4691-8325-5a08149d4743"></a> <a id="table_6"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EUDAC"><colgroup><col width="44.3%"><col width="55.6%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N100 <b>PROC</b> NV <b>SBLOF</b> <b>DISPLOF</b></td><td>; Suppress single block machining and block display.</td></tr><tr valign="top"><td>N110 CASE $P_UIFRNUM OF</td><td> </td></tr><tr valign="top"><td>       0 GOTOF _G500</td><td> </td></tr><tr valign="top"><td>       1 GOTOF _G54</td><td> </td></tr><tr valign="top"><td>       2 GOTOF _G55</td><td> </td></tr><tr valign="top"><td>       3 GOTOF _G56</td><td> </td></tr><tr valign="top"><td>       4 GOTOF _G57</td><td> </td></tr><tr valign="top"><td>     DEFAULT GOTOF END</td><td> </td></tr><tr valign="top"><td colspan="2">N120 _G54: G54 D=$P_TOOL T=$P_TOOLNO</td></tr><tr valign="top"><td colspan="2">N130 RET</td></tr><tr valign="top"><td colspan="2">N140 _G54: G55 D=$P_TOOL T=$P_TOOLNO</td></tr><tr valign="top"><td colspan="2">N150 RET</td></tr><tr valign="top"><td colspan="2">N160 _G56: G56 D=$P_TOOL T=$P_TOOLNO</td></tr><tr valign="top"><td colspan="2">N170 RET</td></tr><tr valign="top"><td colspan="2">N180 _G57: G57 D=$P_TOOL T=$P_TOOLNO</td></tr><tr valign="top"><td colspan="2">N190 RET</td></tr><tr valign="top"><td colspan="2">N200 END: D=$P_TOOL T=$P_TOOLNO</td></tr><tr valign="top"><td colspan="2">N210 RET</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Example 4: Specific stopping in the subprogram</h4><p>Initial situation:</p><ul><li><p>Single block machining is active.</p></li><li><p>MD10702 $MN_IGNORE_SINGLEBLOCK_MASK, Bit12 = 1</p></li></ul><p>Main program:</p><a id="table_1c210703-d77f-4136-b117-07a4bde730ba"></a> <a id="table_7"></a> <a id="table_1c210703-d77f-4136-b117-07a4bde730ba"></a> <a id="table_7"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EZGAC"><colgroup><col width="31.7%"><col width="68.3%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 G0 X0</td><td>; single block stop</td></tr><tr valign="top"><td>N20 X10</td><td>; single block stop</td></tr><tr valign="top"><td>N30 <b>CYCLE</b></td><td>; Traversing block generated by the cycle.</td></tr><tr valign="top"><td>N50 G90 X20</td><td>; single block stop</td></tr><tr valign="top"><td>M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Cycle CYCLE:</p><a id="table_402b7229-314b-4aa0-9493-7324d647cde4"></a> <a id="table_8"></a> <a id="table_402b7229-314b-4aa0-9493-7324d647cde4"></a> <a id="table_8"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EDIAC"><colgroup><col width="31.7%"><col width="68.3%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>PROC CYCLE <b>SBLOF</b></td><td>; Suppress single block machining</td></tr><tr valign="top"><td>N100 R0=1</td><td> </td></tr><tr valign="top"><td>N110 <b>SBLON</b></td><td>; No single block stop due to MD10702 bit12 = 1</td></tr><tr valign="top"><td>N120 X1</td><td>; single block stop</td></tr><tr valign="top"><td>N140 <b>SBLOF</b></td><td> </td></tr><tr valign="top"><td>N150 R0=2</td><td> </td></tr><tr valign="top"><td>RET</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Example 5: Suppression of single block machining with program nesting</h4><p>Initial situation:</p><ul><li><p>Single block machining type 2 is active.</p></li><li><p>The program execution shall not be interrupted in the SBLON block (MD10702 $MN_IGNORE_SINGLEBLOCK_MASK, Bit12 = 1)</p></li></ul><a id="table_59c76fd4-02b8-1d99-d40f-e3ff72d49c0e"></a> <a id="table_9"></a> <a id="table_59c76fd4-02b8-1d99-d40f-e3ff72d49c0e"></a> <a id="table_9"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EBKAC"><colgroup><col width="51.2%"><col width="48.8%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 X0 F1000</td><td>; single block stop</td></tr><tr valign="top"><td>N20 UP1(0)</td><td> </td></tr><tr valign="top"><td>      <b>PROC</b> UP1(INT _NR) <b>SBLOF</b></td><td>; Deactivate single block machining for UP1</td></tr><tr valign="top"><td>      N100 X10</td><td> </td></tr><tr valign="top"><td>      N110 UP2(0)</td><td> </td></tr><tr valign="top"><td>            PROC UP2(INT _NR)</td><td> </td></tr><tr valign="top"><td>            N200 X20</td><td> </td></tr><tr valign="top"><td>            N210 <b>SBLON</b></td><td>; Activate single block machining</td></tr><tr valign="top"><td>            N220 X22</td><td>; single block stop</td></tr><tr valign="top"><td>            N230 UP3(0)</td><td> </td></tr><tr valign="top"><td>                  PROC UP3(INT _NR)</td><td> </td></tr><tr valign="top"><td>                  N300 <b>SBLOF</b></td><td> ; Switch off single block machining</td></tr><tr valign="top"><td>                  N305 X30</td><td> </td></tr><tr valign="top"><td>                  N310 <b>SBLON</b></td><td>; Activate single block machining</td></tr><tr valign="top"><td>                  N320 X32</td><td>; single block stop</td></tr><tr valign="top"><td>                  N330 <b>SBLOF</b></td><td> ; Switch off single block machining</td></tr><tr valign="top"><td>                  N340 X34</td><td> </td></tr><tr valign="top"><td>                  N350 M17</td><td>; single block stop (M17)</td></tr><tr valign="top"><td>            N240 X24</td><td>; single block stop (N210)</td></tr><tr valign="top"><td>            N250 M17</td><td>; single block stop (M17)</td></tr><tr valign="top"><td>      N120 X12</td><td> </td></tr><tr valign="top"><td>      N130 M17</td><td>; single block stop (M17)</td></tr><tr valign="top"><td>N30 X0</td><td>; single block stop</td></tr><tr valign="top"><td>N40 M30</td><td>; single block stop</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p></div>
  </body>
</html>