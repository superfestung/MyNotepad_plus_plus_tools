<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Setting an alarm (SETAL)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Setting an alarm (SETAL)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Alarms can be set from within an NC program.</p>
      <p>The alarm text to be configured via the user interface is output in the status display of the user interface.</p>
      <p>Alarm texts can contain predefined parameters or parameters with variable user texts.</p>
      <p>An alarm always goes hand in hand with a response from the control according to the alarm category.   </p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>SETAL(&lt;No>[,&lt;String>])<a name="block_2"></a><h3 class="Blocktitle">Meaning</h3><a id="table_05c4f6c6-13f1-52be-1046-1ab22560386e"></a> <a id="table_0"></a> <a id="table_05c4f6c6-13f1-52be-1046-1ab22560386e"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="17.5%"><col width="17.0%"><col width="30.0%"><col width="35.5%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>SETAL(...)</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Predefined procedure for setting an alarm</p><p type="p_table_l" align="left">SETAL must be programmed in a separate NC block.</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;No></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Alarm number</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Value range:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">60000 ... 64999 (reserved)</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Alarms for SIEMENS cycles</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">65000 ... 69999</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Alarms for user cycles</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;String></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">String (optional)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">STRING</p></td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Alarm texts and alarm parameters</h3><h4 class="Blocklabel">Alarm texts</h4><p>Alarm texts are configured in the user interface.</p><p>More information: </p><p>→ Commissioning Manual "Final commissioning steps"</p><h4 class="Blocklabel">Alarm parameters</h4><p>User cycle alarms can contain the parameter values %1 ... %4: </p><a id="table_c87bd68c-13d0-b446-80ef-5f0f024b5214"></a> <a id="table_1"></a> <a id="table_c87bd68c-13d0-b446-80ef-5f0f024b5214"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="8.5%"><col width="91.5%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">%1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Predefined parameter: Channel number</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">%2</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Predefined parameter: Block number, label</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">%3</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Predefined parameter: Offset of the alarm number</p><p type="p_table_l" align="left">User cycle alarms are assigned to the following number ranges:</p><ul class="table"><li><p>65000 ... 65499</p></li><li><p>65500 ... 65999</p></li><li><p>66000 ... 66999</p></li><li><p>67000 ... 67999</p></li><li><p>68000 ... 68999</p></li><li><p>69000 ... 69999</p></li></ul><p type="p_table_l" align="left">The displayed offset value refers to the start number of the associated number range and is determined as follows:</p><a id="image_164964309643_0"></a> <img border="0" src="images/164967979275.png" width="378" height="26"/></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">%4</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Additional alarm parameter</p><p type="p_table_l" align="left">Replaced by the string of data type STRING specified in the SETAL call for user cycle alarms.</p></td></tr></table></p><a name="block_4"></a><h3 class="Blocktitle">Examples</h3><p>The following examples are used to demonstrate the output of the alarm parameter values. For reasons of clarity, no alarm text has been stored in the alarms used, so that only the values of the transmitted parameters are output in sequence.</p><h4 class="Blocklabel">Example 1: SETAL call without specification of a string</h4><a id="table_3ed3c536-4e0f-4885-af62-063d206a0cb6"></a> <a id="table_2"></a> <a id="table_3ed3c536-4e0f-4885-af62-063d206a0cb6"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EFAAC"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 ...</td><td> </td></tr><tr valign="top"><td>N20 ...</td><td> </td></tr><tr valign="top"><td>N30 <b>SETAL(65126)</b></td><td>; Set alarm no. 65126</td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>After the SETAL call, the following information appears in the status display of the user interface:</p><a id="image_164964263051_0"></a> <img border="0" src="images/164964271883.png" width="247" height="101"/><a id="table_"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_legend" border="0"><colgroup><col width="5.0%"><col width="95.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">①</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Channel number = 1</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">②</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Block number = 3 (3rd program line)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">③</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Offset value = 126 (65126 - 65000 = 126)</p></td></tr></table></p><h4 class="Blocklabel">Example 2: SETAL call with specification of a string</h4><a id="table_4101207f-7aff-0649-c2b9-639192100daa"></a> <a id="table_3"></a> <a id="table_4101207f-7aff-0649-c2b9-639192100daa"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="ELCAC"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 ...</td><td> </td></tr><tr valign="top"><td>N20 ...</td><td> </td></tr><tr valign="top"><td>N30 ...</td><td> </td></tr><tr valign="top"><td>N40 <b>SETAL(65679, "My Text")</b></td><td>; Set alarm no. 65679</td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>After the SETAL call, the following information appears in the status display of the user interface:</p><a id="image_164967987467_0"></a> <img border="0" src="images/164971004299.png" width="247" height="101"/><a id="table_"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_legend" border="0"><colgroup><col width="5.0%"><col width="95.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">①</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Channel number = 1</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">②</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Block number = 4 (4th program line)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">③</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Offset value = 179 (65679 - 65500 = 179)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">④</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">String specified in the SETAL call</p></td></tr></table></p><h4 class="Blocklabel">Example 3: SETAL call with specification of a chained string</h4><a id="table_a06e5f73-a620-b3f6-da59-9df82047127a"></a> <a id="table_4"></a> <a id="table_a06e5f73-a620-b3f6-da59-9df82047127a"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E4EAC"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 ...</td><td> </td></tr><tr valign="top"><td>N20 ...</td><td> </td></tr><tr valign="top"><td>N30 ...</td><td> </td></tr><tr valign="top"><td>N40 <b>SETAL(65679, "My Text " &lt;&lt;9999)</b></td><td>; Set alarm no. 65679</td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>After the SETAL call, the following information appears in the status display of the user interface:</p><a id="image_164971076747_0"></a> <img border="0" src="images/164972467979.png" width="247" height="101"/><a id="table_"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_legend" border="0"><colgroup><col width="10.0%"><col width="5.0%"><col width="85.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">①</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Channel number = 1</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">②</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Block number = 4 (4th program line)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">③</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Offset value = 179 (65679 - 65500 = 179)</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">④  ⑤</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Chained string specified in the SETAL call</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">④</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The string of data type STRING specified in the SETAL call in quotes "" forms the first section of the chained string.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">⑤</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The following value of data type INT specified with the chaining operator &lt;&lt; forms the second section of the chained string. It is converted to the STRING data type and appended to the first section.</p></td></tr></table></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">Chaining to form a common string is only possible if the value to be appended is preceded by the chaining operator &lt;&lt;. Otherwise no conversion into the data type STRING takes place and the alarm 12330 "Type of parameter ... wrong" is output.</p></td></tr></table></div>
    <p>See also:<br />    <a href="156665037835.html">Currently set language in the HMI</a><br />    <a href="156664224139.html">Setting an alarm (SETAL): More information</a></p>
  </body>
</html>