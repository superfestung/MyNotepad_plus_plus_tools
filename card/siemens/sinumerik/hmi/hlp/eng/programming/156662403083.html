<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Attribute: Access rights (APR, APW, APRP, APWP, APRB, APWB)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Attribute: Access rights (APR, APW, APRP, APWP, APRB, APWB)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <h4 class="Blocklabel">Designation</h4>
      <p>The designation of the access attribute AP... comprises:</p>
      <ol>
        <li>
          <p>A: <b>A</b>ccess</p>
        </li>
        <li>
          <p>P: <b>P</b>rotection</p>
        </li>
        <li>
          <p>R / W: <b>R</b>ead / <b>W</b>rite</p>
        </li>
        <li>
          <p>P / O: <b>P</b>rogram / <b>B</b>TSS (OPI)</p>
        </li>
      </ol>
      <h4 class="Blocklabel">Access rights / access levels</h4>
      <p>The following access levels, which have to be specified during programming, correspond to the access rights:</p>
      <a id="table_1a3d9fa4-36c6-4a85-b710-decd7456cd63">
      </a> <a id="table_0"></a> <a id="table_1a3d9fa4-36c6-4a85-b710-decd7456cd63"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="49.2%"><col width="50.7%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Access right</p></th><th><p type="p_table_cb" align="center">Protection level</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">System password</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Machine manufacturer password</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">1</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Service password</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">2</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">User password</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">3</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Key-operated switch position 3</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">4</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Key-operated switch position 2</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">5</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Key-operated switch position 1</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">6</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Key-operated switch position 0</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">7</p></td></tr></table></p><a name="block_1"></a><h3 class="Blocktitle">Definition (DEF) of user data</h3><p>Access rights (APR.../APW...) can be defined for the following data:</p><ul><li><p>Global user data (GUD)</p></li></ul><a name="block_2"></a><h3 class="Blocktitle">Redefinition (REDEF) of system and user data</h3><p>Access rights (APR.../APW...) can be redefined for the following data:</p><ul><li><p>System data</p><ul><li><p>Machine data</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel">Redefinition of reading rights of machine data</h4><p class="safety">The protection level for reading machine data can only be set with keyword APR for the part program and OPI.</p><p class="safety">The keywords APRP and APRB are not supported by the redefinition of the reading rights, and result in alarm 12490 "Access right APRP/APRB &lt;protection level> was not set".</p></td></tr></table></li><li><p>Setting data</p></li><li><p>System variable</p></li><li><p>Process data</p></li><li><p>Magazine data</p></li><li><p>Tool data</p></li></ul></li><li><p>User data</p><ul><li><p>R parameters</p></li><li><p>Synchronized action variables ($AC_MARKER, $AC_PARAM, $AC_TIMER)</p></li><li><p>Synchronized action GUD (SYG_xy[ ], where x=R, I, B, A, C, S and y=S, M, U, 4 to 9)</p></li><li><p>EPS parameters</p></li><li><p>Tool data OEM</p></li><li><p>Magazine data OEM</p></li><li><p>Global user variables (GUD)</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">During redefinition the access right can be freely assigned to a variable between the lowest protection level 7 and the dedicated protection level, e.g. 1 (machine manufacturer).</p></td></tr></table></li></ul></li></ul><a name="block_3"></a><h3 class="Blocktitle">Redefinition (REDEF) of NC language commands</h3><p>The access or execution right (APX) can be redefined for the following NC language commands:</p><ul><li><p><a href="156661740427.html">G commands / preparatory functions</a></p></li><li><p><a href="156665035403.html">Predefined functions</a></p></li><li><p>Predefined subprogram calls</p></li><li><p>DO operation with synchronized actions</p></li><li><p>Cycles program identifier</p><p>The cycle must be saved in a cycle directory and must contain a PROC operation.</p></li></ul><a name="block_4"></a><h3 class="Blocktitle">Access rights in relation to NC programs and cycles (APRP, APWP)</h3><p>The various access rights facilitate the following with regard to access from an NC program or cycle:</p><ul><li><p>APRP 0/APWP 0</p><ul><li><p>During NC program processing the system password has to be set.</p></li><li><p>The cycle has to be stored in the _N_CST_DIR directory (system).</p></li><li><p>The execution right must be set to system for the _N_CST_DIR directory in MD11160 $MN_ACCESS_EXEC_CST.</p></li></ul></li><li><p>APRP 1/APWP 1 or APRP 2/APWP 2</p><ul><li><p>During NC program processing the machine manufacturer or service password has to be set.</p></li><li><p>The cycle has to be stored in the _N_CMA_DIR (machine manufacturer) or _N_CST_DIR directory.</p></li><li><p>The execution rights must be set to at least machine manufacturer for the _N_CMA_DIR or _N_CST_DIR directories in machine data MD11161 $MN_ACCESS_EXEC_CMA or MD11160 $MN_ACCESS_EXEC_CST respectively.</p></li></ul></li><li><p>APRP 3/APWP 3</p><ul><li><p>During NC program execution, the user password must be set.</p></li><li><p>The cycle has to be stored in the _N_CUS_DIR (user), _N_CMA_DIR or _N_CST_DIR directory.</p></li><li><p>The execution rights must be set to at least user for the _N_CUS_DIR, _N_CMA_DIR or _N_CST_DIR directories in machine data MD11162 $MN_ACCESS_EXEC_CUS, MD11161 $MN_ACCESS_EXEC_CMA or MD11160 $MN_ACCESS_EXEC_CST respectively.</p></li></ul></li><li><p>APRP 4...7 / APWP 4...7</p><ul><li><p>During NC program processing the key-operated switch must be set to 3 ... 0.</p></li><li><p>The cycle has to be stored in directory _N_CUS_DIR, _N_CMA_DIR or in directory _N_CST_DIR.</p></li><li><p>The execution rights must be set to at least the corresponding key-operated switch position for the _N_CUS_DIR, _N_CMA_DIR or _N_CST_DIR directories in machine data MD11162 $MN_ACCESS_EXEC_CUS, MD11161 $MN_ACCESS_EXEC_CMA or MD11160 $MN_ACCESS_EXEC_CST respectively.</p></li></ul></li></ul><a name="block_5"></a><h3 class="Blocktitle">Access rights in relation to OPI (APRB, APWB)</h3><p>The access rights (APRB, APWB) restrict access to system and user variables via the OPI equally for all system components (HMI, PLC, external computers, EPS services, etc.).</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel">Local HMI access rights</h4><p class="safety">When changing access rights to system data, care must be taken to ensure that such changes are consistent with the access rights defined using HMI mechanisms.</p></td></tr></table><a name="block_6"></a><h3 class="Blocktitle">APR/APW access attributes</h3><p>For compatibility reasons, attributes APR and APW are implicitly mapped to the attributes APRP / APRB and APWP / APWB:</p><ul><li><p>APR x ⇒ APRP x APRB x</p></li><li><p>APW y ⇒ APWP y APWB y</p></li></ul><a name="block_7"></a><h3 class="Blocktitle">Access rights using ACCESS files</h3><p>When using ACCESS files to assign access rights, access rights for system data, user data, and NC language commands must only be redefined in ACCESS files. Global user data (GUD) is an exception. For this data, access rights still have to be redefined in the corresponding definition files *_DEF.</p><p>For continuous access protection, the machine data for the execution rights and the access protection for the corresponding directories have to be modified consistently.</p><p>In principle, the procedure is as follows: </p><ol><li><p>Creation of the necessary definition files:</p><ul><li><p>_N_DEF_DIR/_N_SACCESS_DEF</p></li><li><p>_N_DEF_DIR/_N_MACCESS_DEF</p></li><li><p>_N_DEF_DIR/_N_UACCESS_DEF</p></li></ul></li><li><p>Setting of the write right for the definition files to the value required for redefinition:</p><ul><li><p>MD11170 $MN_ACCESS_WRITE_SACCESS = &lt;protection level></p></li><li><p>MD11171 $MN_ACCESS_WRITE_MACCESS = &lt;protection level></p></li><li><p>MD11172 $MN_ACCESS_WRITE_UACCESS = &lt;protection level></p></li></ul></li><li><p>For access to protected elements from cycles, the execution and write rights for cycle directories _N_CST_DIR, _N_CMA_DIR, and _N_CST_DIR have to be modified.</p><p>Execution rights</p><ul><li><p>MD11160 $MN_ACCESS_EXEC_CST = &lt;protection level></p></li><li><p>MD11161 $MN_ACCESS_EXEC_CMA = &lt;protection level></p></li><li><p>MD11162 $MN_ACCESS_EXEC_CUS = &lt;protection level></p></li></ul><p>Write rights</p><ul><li><p>MD11165 $MN_ACCESS_WRITE_CST = &lt;protection level></p></li><li><p>MD11166 $MN_ACCESS_WRITE_CMA = &lt;protection level></p></li><li><p>MD11167 MN_ACCESS_WRITE_CUS = &lt;protection level></p></li></ul><p>The execution right has to be set to at least the same protection level as the highest protection level of the element used. </p><p>The write right must be set to at least the same protection level as the execution right.</p></li><li><p>The write rights of the local HMI cycle directories must be set to the same protection level as the local NC cycle directories.</p></li></ol><h4 class="Blocklabel">Subprogram calls in ACCESS files</h4><p>To structure access protection further, subprograms (SPF or MPF identifier) can be called in ACCESS files. The subprograms inherit the execution rights of the calling ACCESS file.</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">Only access rights can be redefined in the ACCESS files. All other attributes have to continue to be programmed/redefined in the corresponding definition files.</p></td></tr></table></div>
    <p>See also:<br />    <a href="156662348683.html">Variables: General information</a></p>
  </body>
</html>