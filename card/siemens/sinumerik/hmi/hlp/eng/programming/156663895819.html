<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Grinding-specific system variables ($AC_IN_KEY_G...)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Grinding-specific system variables ($AC_IN_KEY_G...)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>When grinding, input signals asynchronous with the machine operation must be identified and the appropriate actions must be integrated in the program sequence. The following system variables and NC/PLC interface signals are available:</p>
      <a id="table_1fee125d-52a9-a433-96e8-aa7c2a4624aa">
      </a> <a id="table_0"></a> <a id="table_1fee125d-52a9-a433-96e8-aa7c2a4624aa"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="30.0%"><col width="25.0%"><col width="45.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">System variable</p></th><th><p type="p_table_lb" align="left">NC/PLC interface DB21, ...</p></th><th><p type="p_table_lb" align="left">Description</p></th></tr><tr valign="top"><td colspan="3"><p type="p_table_c" style="margin-top: 4px" align="center"><b>NC-internal communication</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_IN_KEY_G_ENABLE[1 ... 8] <sup>1</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">---</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Input signal enable on the NC side</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_c" style="margin-top: 4px" align="center"><b>Communication NC → PLC </b><sup>2)</sup></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_IN_KEY_G_ISENABLE[1 ... 8] <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.in.signalEnabled</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Input signal enable</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_IN_KEY_G_RUN_OUT[1 ... 8]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.in.requested</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Enable request for the action on the NC side (optional)</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_c" style="margin-top: 4px" align="center"><b>Communication PLC → NC </b><sup>3)</sup></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_IN_KEY_G[1 ... 8]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.set</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Input signal</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">---</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.disableSignal <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Input signal inhibit on the PLC side</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_IN_KEY_G_RUN_IN[1 ... 8]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.ackFuncExecution</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Enable request for the action on the PLC side (optional)</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">1) As a result of the <b>AND</b> logic operation of the NC enable signal on the NC side in $AC_IN_KEY_G_ENABLE and PLC enable signal <b>NOT</b>(<code>&lt;Chan>.grinding.out.disableSignal</code>), the enable signal is formed in $AC_IN_KEY_G_ISENABLE and <code>&lt;Chan>.grinding.in.signalEnabled</code>.</p><p type="p_table_l" align="left">2) The content of the system variable is transferred in the NC/PLC interface</p><p type="p_table_l" align="left">3) The content of the NC/PLC interface is transferred in the system variable</p></td></tr></table></p><a name="block_1"></a><h3 class="Blocktitle">Example</h3><h4 class="Blocklabel">Inputs</h4><ul><li><p>The main program starts a cycle (ZYKLUS_1), in which grinding is executed as well as the intermediate dressing. </p></li><li><p>An operator can request an "intermediate dressing" action asynchronous to the machining operation itself using an input signal of the PLC I/O.</p></li><li><p>Identifying the input signal and requesting the action is realized in a technology cycle. Technology cycle ("SIGNAL_IN_x") is called in the action part of the synchronized action (ID &lt;xy>) set up in the cycle.</p></li></ul><p>The call schematic, the relevant commands and the signal flow are shown in the following diagram.</p><a id="image_83871755019_0"></a> <img border="0" src="images/167883468427.png" width="500" height="524"/><a id="table_"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_legend" border="0"><colgroup><col width="6.9%"><col width="93.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">①</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.disableSignal</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">②</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.set</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">③</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.in.signalEnabled</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">④</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.in.requested</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">⑤</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.ackFuncExecution</p></td></tr></table></p><p>The PLC user program must provide the functions on the PLC side, for example "enable input signal x".</p><h4 class="Blocklabel">Sequence</h4><ul><li><p>Main program</p><ul><li><p>Call cycle "ZYKLUS_1"</p></li></ul></li><li><p>Cycle "ZYKLUS_1"</p><ul><li><p>Set the enable for input signal x ($AC_IN_KEY_G_ENABLE)</p></li><li><p>Set up the synchronized action with technology cycle "SIGNAL_IN_x"</p></li><li><p>Initialize the trigger for action x "intermediate dressing" (R01)</p></li><li><p>Grind the component</p></li></ul></li><li><p>Technology cycle "SIGNAL_IN_x" (in parallel with the cycle)</p><ul><li><p>Identify the input signal ($AC_IN_KEY_G) with the enable active ($AC_IN_KEY_G_ISENABLE)</p></li><li><p>Request the enable of action x from the PLC ($AC_IN_KEY_G_RUN_OUT)</p></li><li><p>Wait for the enable of action x from the PLC ($AC_IN_KEY_G_RUN_IN)</p></li><li><p>Request action x in cycle (R01)</p></li><li><p>Feedback signal of the request to the PLC ($AC_IN_KEY_G_RUN_OUT)</p></li><li><p>Wait for acknowledgment from the PLC ($AC_IN_KEY_G_RUN_IN)</p></li></ul></li><li><p>Cycle "ZYKLUS_1" (after completing grinding)</p><ul><li><p>Reset the enable for input signal x ($AC_IN_KEY_G_ENABLE)</p></li><li><p>If action x is requested ⇒ execute intermediate dressing</p></li><li><p>... (possibly re-execute grinding/intermediate dressing operations etc.)</p></li></ul></li><li><p>PLC user program</p><ul><li><p>Function "Enable input signal x":</p><p>Setting the interface signal <code>&lt;Chan>.grinding.out.disableSignal</code></p></li><li><p>Function "Enable input signal x":</p><p>Linking (AND) of the input signal from the PLC I/O with the enable of input signal (<code>&lt;Chan>.grinding.in.signalEnabled</code>) and setting the result in the interface (<code>&lt;Chan>.grinding.out.set</code>)</p></li><li><p>Function "Enable action x":</p><p>Checking/setting the interface signals <code>&lt;Chan>.grinding.in.requested</code> / <code>&lt;Chan>.grinding.out.ackFuncExecution</code></p></li></ul></li></ul><a name="block_2"></a><h3 class="Blocktitle">PLC signals</h3><h4 class="Blocklabel">NC → PLC</h4><a id="table_e849b817-f8dd-d3c2-26d6-a2643b47f3c7"></a> <a id="table_1"></a> <a id="table_e849b817-f8dd-d3c2-26d6-a2643b47f3c7"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="45.0%"><col width="35.0%"><col width="20.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Basic Program Plus</p></th><th colspan="2"><p type="p_table_lb" align="left">Basic Program</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.in.signalEnabled</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_Chan*.E_InKeyGIsEn1-8</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB21, ... .DBX390.0..7</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.in.requested</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_AxisX*.E_InKeyGRunOut1-8</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB21, ... .DBX391.0..7</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.set</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_Chan*.A_InKeyG&lt;n></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB21, ... .DBX385.0..7</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.disableSignal</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_Chan*.A_InKeyGEn&lt;n></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB21, ... .DBX386.0..7</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.ackFuncExecution</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_Chan*.A_InKeyGRunIn&lt;n></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB21, ... .DBX387.0..7</p></td></tr></table></p></div>
  </body>
</html>