<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Traversing spindles (M, S, SPOS)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Traversing spindles (M, S, SPOS)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Spindles can be started, positioned and stopped via synchronized actions. The programming is performed in the action part of the synchronized action with the same syntax as in the part program. Without numeric extension the commands for the master spindle apply. By specifying a numeric extension, it is possible to program each spindle individually:      </p>
      <a id="table_0">
      </a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EMB"><colgroup><col width="63.5%"><col width="36.5%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>ID = 1 EVERY $A_IN[1]==1 DO M3 S1000</td><td>;Leading spindle</td></tr><tr valign="top"><td>ID = 2 EVERY $A_IN[2]==1 DO SPOS=270</td><td>;Leading spindle</td></tr><tr valign="top"><td colspan="2">ID = 1 EVERY $A_IN[1]==1 DO M1=3 S1=1000 SPOS[2]=90</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>If concurrent commands are specified for a spindle through synchronized actions that are active in parallel, the chronological sequence decides the activation.</p><a name="block_1"></a><h3 class="Blocktitle">User-specific spindle enable</h3><p>The start of spindle motions at defined times can be achieved via synchronized actions by blocking the motion programmed in the part program.</p><p>Example:</p><p>The spindle is programmed within a part program and should not start at the beginning of the block, but only when input 1 is set. The synchronized action holds the spindle override at 0% until the enable via input 1. See Chapter "<a href="156663863691.html">Override ($A...OVR)</a>".</p><a id="table_1"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="ETC"><colgroup><col width="80.8%"><col width="19.2%"></colgroup><tr valign="top"><th>Program code</th><th> </th></tr><tr valign="top"><td>; As long as input 1 is not set => spindle override = 0%</td><td> </td></tr><tr valign="top"><td>ID=1 WHENEVER $A_IN[1]==0 DO $AA_OVR[S1]=0</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>; The start of the spindle is triggered ; The spindle is enabled when input 1 is set</td><td> </td></tr><tr valign="top"><td>G01 X100 F1000 M3 S1=1000</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_2"></a><h3 class="Blocktitle">Transition between command axis and spindle</h3><p>Since several synchronized actions can be active simultaneously, the situation may arise where a spindle motion is started when the spindle is already active. In this case, the most recently activated motion is applicable. At a reversal in the direction of motion, the spindle is first braked and then traversed in the opposite direction.</p><p>Direction of rotation, speed and position can also be changed during the motion.</p><h4 class="Blocklabel">Examples </h4><a id="table_2"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E1D"><colgroup><col width="66.6%"><col width="33.4%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>ID=1 EVERY $AC_TIMER[1] >= 5 DO M3 S300</td><td>;Direction of rotation and speed </td></tr><tr valign="top"><td>ID=2 EVERY $AC_TIMER[1] >= 7 DO M4 S500</td><td>;Direction of rotation and speed</td></tr><tr valign="top"><td>ID=3 EVERY $A_IN[1]==1 DO S1000</td><td>;Speed</td></tr><tr valign="top"><td>ID=4 EVERY ($A_IN[4]==1) AND ($A_IN[1]==0) DO SPOS=0</td><td>;Spindle positioning</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_3"></a><h3 class="Blocktitle">Transitions between axis and spindle</h3><a id="table_3"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="1.8%"><col width="13.0%"><col width="10.4%"><col width="8.7%"><col width="8.7%"><col width="8.7%"><col width="8.7%"><col width="8.7%"><col width="8.7%"><col width="11.1%"><col width="11.1%"></colgroup><tr valign="top"><th colspan="2"><p type="p_table_lb" align="left">In state ↓</p></th><th><p type="p_table_lb" align="left">To →</p></th><th><p type="p_table_cb" align="center"><code>POS</code></p></th><th><p type="p_table_cb" align="center"><code>MOV&lt;>0</code></p></th><th><p type="p_table_cb" align="center"><code>MOV=0</code></p></th><th><p type="p_table_cb" align="center"><code>SPOS</code></p></th><th><p type="p_table_cb" align="center"><code>M3/M4</code></p></th><th><p type="p_table_cb" align="center"><code>M5</code></p></th><th><p type="p_table_cb" align="center"><code>LEADON</code></p></th><th><p type="p_table_cb" align="center"><code>TRAIL ON</code></p></th></tr><tr valign="top"><td colspan="11"><p type="p_table_l" style="margin-top: 4px" align="left"><b>during traversing</b></p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Axis</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Position-controlled spindle</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Speed-controlled spindle</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td></tr><tr valign="top"><td colspan="11"><p type="p_table_l" style="margin-top: 4px" align="left"><b>In motion</b></p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Axis</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Position-controlled spindle</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Speed-controlled spindle</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">x</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">-</p></td></tr><tr valign="top"><td colspan="11"><p type="p_table_l" style="margin-top: 4px" align="left">Transitions marked with x are permitted:</p><p type="p_table_l" align="left">The transitions marked with - are rejected with an alarm.</p></td></tr></table></p><p class="comment"></p></div>
  </body>
</html>