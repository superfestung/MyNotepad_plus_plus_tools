<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Frames active in the channel</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Frames active in the channel</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Frames active in the channel are entered from the part program via the relevant system variables of these frames. This also includes system frames. The current system frame can be read and written in the part program via these system variables.</p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Frames currently active in the channel    </h3>
      <p>
        <b>Overview</b>
      </p>
      <a id="table_74474394-690a-4d59-adde-6671635dd91e">
      </a> <a id="table_0"></a> <a id="table_74474394-690a-4d59-adde-6671635dd91e"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="55.5%"><col width="44.4%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>Current system frames</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">For: </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_PARTFRAME </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">TCARR and PAROT</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_SETFRAME</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Preset actual value memory and scratching</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_EXTFRAME</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">External work offset</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_NCBFRAME[n]</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Current global basic frames</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_CHBFRAME[n]</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Current channel basic frames</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_BFRAME</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Current 1. Basic frame in the channel</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_ACTBFRAME</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Complete basic frame</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_CHBFRMASK and $P_NCBFRMASK</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Complete basic frame</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_IFRAME</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Current settable frame</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>Current system frames </b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">For: </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_TOOLFRAME</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">TOROT and TOFRAME</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_WPFRAME</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Workpiece reference points</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_TRAFRAME</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Transformations</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_PFRAME</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Current programmable frame</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>Current system frame </b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">For: </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_CYCFRAME</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Cycles</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>P_ACTFRAME</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Current total frame</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>FRAME chaining</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Current frame is made up of the complete basic frame</p></td></tr></table></p><p></p><h4 class="Blocklabel">$P_NCBFRAME [n] current global basic frames   </h4><p>System variable $P_NCBFRAME[n] can be used to read and write the current global basic frame field elements. The resulting total basic frame is calculated by means of the write process in the channel.</p><p>The modified frame is activated only in the channel in which the frame was programmed. If the frame is to be modified for all channels of a control, $P_NCBFR[n] and $P_NCBFRAME[n] must be written simultaneously. The other channels must then activate the frame, e.g. with G54. Whenever a basic frame is written, the complete basic frame is calculated again.</p><h4 class="Blocklabel">$P_CHBFRAME[n] Current channel basic frames  </h4><p>System variable $P_CHBFRAME[n] can be used to read and write the current channel basic frame field elements. The resulting complete basic frame is calculated by means of the write process in the channel. Whenever a basic frame is written, the complete basic frame is calculated again.</p><h4 class="Blocklabel">$P_BFRAME current 1st Basic frame in the channel  </h4><p>The predefined frame variable $P_BFRAME can be used to read and write the current basic frame with the array index 0, which is valid in the channel, in the part program. The written basic frame is immediately included in the calculation.</p><p>$P_BFRAME is identical to $P_CHBFRAME[0]. The system variable always has a valid default value. If there is no channel-specific basic frame, an alarm is issued at read/write: "Frame: statement not permissible".</p><h4 class="Blocklabel">$P_ACTBFRAME Complete basic frame  </h4><p>The $P_ACTFRAME variable determines the chained complete basic frame. The variable is read-only.</p><p>$P_ACTFRAME corresponds to:</p><p>$P_NCBFRAME[0] : ... : $P_NCBFRAME[n] : $P_CHBFRAME[0] : ... : $P_CHBFRAME[n].</p><a id="image_792808587_0"></a> <img border="0" src="images/167527327371.png" width="500" height="294"/><p></p><h4 class="Blocklabel">$P_CHBFRMASK and $P_NCBFRMASK Complete basic frame    </h4><p>The user can select which basic frames are to be included in the calculation of the "Complete" basic frame via the system variables $P_CHBFRMASK and $P_NCBFRMASK. The variables can only be programmed in the program and read via the OPI. The value of the variable is interpreted as a bit mask and specifies which basic frame field element of $P_ACTFRAME is to be included in the calculation.</p><p>$P_CHBFRMASK can be used to specify which channel-specific basic frames and $P_NCBFRMASK can be used to specify which global basic frames are to be included in the calculation.</p><p>The complete basic frame and the complete frame are recalculated with the programming of the variables. After a reset and in the basic setting, the values of $P_CHBFRMASK and $P_NCBFRMASK are as follows:</p><p>$P_CHBFRMASK = $MC_CHBFRAME_RESET_MASK</p><p>$P_NCBFRMASK = $MC_CHBFRAME_RESET_MASK</p><p>Example:</p><p><code>$P_NCBFRMASK = 'H81' </code>;$P_NCBFRAME[0] : $P_NCBFRAME[7]</p><p><code>$P_CHBFRMASK = 'H11' </code>;$P_CHBFRAME[0] : $P_CHBFRAME[4]</p><h4 class="Blocklabel">$P_IFRAME Current settable frame  </h4><p>The predefined frame variable $P_IFRAME can be used to read and write the current settable frame, which is valid in the channel, in the part program. The written settable frame is immediately included in the calculation.</p><p>In the case of global settable frames, the modified frame acts only in the channel in which the frame was programmed. If the frame is to be modified for all channels of a control, $P_UIFR[n] and $P_IFRAME must be written simultaneously. The other channels must then activate the corresponding frame, e.g. with G54.</p><h4 class="Blocklabel">$P_PFRAME Current programmable frame  </h4><p>$P_PFRAME is the programmable frame that results<code></code> from the programming of TRANS/ATRANS, G58/G59, ROT/AROT, SCALE/ASCALE, MIRROR/AMIRROR or from the assignment of CTRANS, CROT, CMIRROR, CSCALE to the programmable frame.</p><p>Current, programmable frame variable that establishes the reference between the settable zero system (SZS) and the workpiece coordinate system (WCS).</p><h4 class="Blocklabel">P_ACTFRAME Current complete frame  </h4><p>The resulting current complete frame $P_ACTFRAME is now a chain of all basic frames, the current settable frame and the programmable frame. The current frame is always updated whenever a frame component is changed.</p><p><code>$P_ACTFRAME </code>corresponds to:</p><p><code>$P_PARTFRAME </code><b>:</b><code> $P_SETFRAME </code><b>:</b><code> $P_EXTFRAME </code><b>:</b><code> $P_ACTBFRAME </code><b>:</b><code> $P_IFRAME </code><b>:</b></p><p><code>$P_TOOLFRAME </code><b>:</b><code> $P_WPFRAME </code><b>:</b><code> $P_TRAFRAME </code><b>:</b><code> $P_PFRAME </code><b>:</b><code> $P_CYCFRAME </code></p><a id="image_792838923_0"></a> <img border="0" src="images/167528132747.png" width="500" height="396"/><a name="block_2"></a><h3 class="Blocktitle">Frame chaining  </h3><p>The current frame is composed of the complete basic frame, the settable frame, the system frame and the programmable frame in accordance with the current complete frame specified above. </p><a id="image_792869259_0"></a> <img border="0" src="images/167531497355.png" width="500" height="415"/></div>
    <p>See also:<br />    <a href="156662997771.html">Global frames ($P_NCBFR, $P_UIFR)</a><br />    <a href="156663001227.html">Channel-specific frames ($P_CHBFR, $P_UBFR)</a></p>
  </body>
</html>