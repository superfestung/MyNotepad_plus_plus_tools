<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Programming of the orientation axes (ORIAXES, ORIAXESFR, ORIVECT, ORIANGLE, ORIEULER, ORIRPY, ORIRPY2, ORIVIRT1, ORIVIRT2): More information</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Programming of the orientation axes (ORIAXES, ORIAXESFR, ORIVECT, ORIANGLE, ORIEULER, ORIRPY, ORIRPY2, ORIVIRT1, ORIVIRT2): More information</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <a name="block_1">
      </a>
      <h3 class="BlocktitleFirst">More information</h3>
      <h4 class="Blocklabel">Machine manufacturer</h4>
      <ul>
        <li>
          <p>MD21102 $MC_ORI_DEF_WITH_G_CODE</p>
          <p>The machine data specifies how the programmed angles A2, B2 and C2 are defined:</p>
          <p>The definition can be performed according to MD21100 $MC_ORIENTATION_IS_EULER (default) or by means of G group 50 (ORIEULER, ORIRPY, ORIVIRT1, ORIVIRT2).</p>
        </li>
        <li>
          <p>MD21104 $MC_ORI_IPO_WITH_G_CODE</p>
          <p>The machine data defines which interpolation mode type is active. Either ORIWKS/ORIMKS or ORIAXES/ORIVECT.</p>
        </li>
      </ul>
      <h4 class="Blocklabel">JOG mode</h4>
      <p>Interpolation for orientation angles in this mode of operation is always linear. During continuous and incremental traversal via the traversing keys, only one orientation axis can be traversed. Orientation axes can be traversed simultaneously using the handwheels. </p>
      <p>When orientation axes are traversed manually, the channel-specific feedrate override switch or the rapid traverse override switch in rapid traverse override is applied.</p>
      <p>A separate velocity setting is possible with the following machine data:</p>
      <ul>
        <li>
          <p>MD21160 $MC_JOG_VELO_RAPID_GEO</p>
        </li>
        <li>
          <p>MD21165 $MC_JOG_VELO_GEO</p>
        </li>
        <li>
          <p>MD21150 $MC_JOG_VELO_RAPID_ORI</p>
        </li>
        <li>
          <p>MD21155 $MC_JOG_VELO_ORI</p>
        </li>
      </ul>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Note</b>
          </td>
        </tr>
        <tr>
          <td>
            <h4 class="Blocklabel">SINUMERIK control system with "Handling transformation package"</h4>
            <p class="safety">Using the "Cartesian manual traverse" function, the translation of geometry axes in JOG mode can be set separately from one another in the reference systems MCS, WCS and TCS.</p>
            <p class="safety">
              <b>More information: </b>Function Manual Transformations</p>
          </td>
        </tr>
      </table>
      <h4 class="Blocklabel">Angle definition</h4>
      <p>The machine data <b>MD21102 $MC_ORI_DEF_WITH_G_CODE</b> specifies how the programmed angles A2, B2, C2 are defined:</p>
      <p>The definition can be performed according to MD21100 $MC_ORIENTATION_IS_EULER (default) or by means of G group 50 (ORIEULER, ORIRPY, ORIVIRT1, ORIVIRT2).</p>
      <h4 class="Blocklabel">Interpolation type</h4>
      <p>The machine data <b>MD21104 $MC_ORI_IPO_WITH_G_CODE</b> defines which interpolation mode type is active. Either ORIWKS/ORIMKS or ORIAXES/ORIVECT.</p>
      <h4 class="Blocklabel">ORIAXES</h4>
      <p>With ORIAXES, the orientation axes are traversed to the programmed positions via the <b>shortest route</b>.</p>
      <a id="table_3750b08b-3526-3d43-3a51-6e40b63902e1">
      </a> <a id="table_0"></a> <a id="table_3750b08b-3526-3d43-3a51-6e40b63902e1"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EBC"><colgroup><col width="40.2%"><col width="59.8%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N110 TRAFOOF</td><td> </td></tr><tr valign="top"><td>N120 ROT</td><td> </td></tr><tr valign="top"><td colspan="2">N130 G1 X0 Y0 Z0 A0 C0 F10000</td></tr><tr valign="top"><td>N140 TRAFOON("HD50_500")</td><td>; ORIWKS(0.000, 0.000)</td></tr><tr valign="top"><td>N150 ROT Z90</td><td>; Rotation: WCS, 90° around the Z axis</td></tr><tr valign="top"><td>N160 ORIWKS</td><td>; Rotations take place in the WCS</td></tr><tr valign="top"><td>N170 <b>ORIAXES</b></td><td>; Activation: Interpolation of the orientation axes via the shortest path</td></tr><tr valign="top"><td> </td><td>; Position (A axis, C axis)</td></tr><tr valign="top"><td>N180 M0</td><td>; ORIWKS(0.000, <b>0.000</b>)</td></tr><tr valign="top"><td>N190 A45 C-90</td><td>; ORIWKS(45.000, -90.000)</td></tr><tr valign="top"><td>N195 A45 C-270 </td><td>; ORIWKS(<b>-45.000</b>, <b>-90.000</b>)</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a id="table_9933dc2d-8153-578a-bf00-90d1fe765af5"></a> <a id="table_1"></a> <a id="table_9933dc2d-8153-578a-bf00-90d1fe765af5"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="12.5%"><col width="87.5%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">N180:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">With ORIAXES, the position of the C axis is only displayed with the first traversing block. Since N180 is not a traversing block, the position 0.0 is still displayed for the C axis despite the rotation in N150 by 90°.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">N190:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The A axis traverses by 45°. The C axis is already at -90° due to the rotation in N150 and therefore does not traverse as well.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">N195</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">To approach the programmed positions via the shortest path, the C axis is not traversed and the A axis is traversed by 90°.</p></td></tr></table></p><h4 class="Blocklabel">ORIAXESFR</h4><p>With ORIAXESFR, the orientation axes are traversed <b>directly</b> to the programmed positions without considering the shortest path.</p><a id="table_66841c7a-cbcb-e7c0-9905-4e0f453f623b"></a> <a id="table_2"></a> <a id="table_66841c7a-cbcb-e7c0-9905-4e0f453f623b"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EPF"><colgroup><col width="40.2%"><col width="59.8%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N210 TRAFOOF</td><td> </td></tr><tr valign="top"><td>N220 ROT</td><td> </td></tr><tr valign="top"><td colspan="2">N230 G1 X0 Y0 Z0 A0 C0 F10000</td></tr><tr valign="top"><td>N240 TRAFOON("HD50_500")</td><td>; ORIWKS (0.000, 0.000)</td></tr><tr valign="top"><td>N250 ROT Z90</td><td>; Rotation: WCS, 90° around the Z axis</td></tr><tr valign="top"><td>N260 ORIWKS</td><td>; Rotations take place in the WCS</td></tr><tr valign="top"><td>N270 <b>ORIAXESFR</b></td><td>; Activation: Interpolation of the orientation axes to the programmed positions</td></tr><tr valign="top"><td> </td><td>; Position (A axis, C axis)</td></tr><tr valign="top"><td>N280 M0</td><td>; ORIWKS(0.000, <b>-90.000</b>)</td></tr><tr valign="top"><td>N290 A45 C-90</td><td>; ORIWKS(45.000, -90.000)</td></tr><tr valign="top"><td>N295 A45 C-270 </td><td>; ORIWKS(<b>45.000</b>, <b>-270.000</b>)</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a id="table_11b0f1eb-ef15-9567-5c0b-6d7d75f2e9aa"></a> <a id="table_3"></a> <a id="table_11b0f1eb-ef15-9567-5c0b-6d7d75f2e9aa"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="12.5%"><col width="87.5%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">N180:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The position of the C axis is immediately displayed with the next block in ORIAXESFR. Therefore, already with N280 for the C axis the position -90.0 is displayed because of the rotation in N250 by 90°.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">N190:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The A axis traverses by 45°. The C axis is already at -90° due to the rotation in N250 and therefore does not traverse as well.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">N195</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The A axis is not traversed and the C axis is traversed by 180°.</p></td></tr></table></p><h4 class="Blocklabel">ORIANGLE</h4><p>The G command ORIANGLE activates the programming of the orientation in virtual axis angles.</p><p>The G command ORIANGLE belongs to the G group 51.</p><p>The following machine data must be set for orientation polarization with ORIANGLE:</p><ul><li><p>MD21104 $MC_ORI_IPO_WITH_G_CODE = TRUE (definition of the interpolation type for orientation)</p></li><li><p>MD21102 $MC_ORI_DEF_WITH_G_CODE = TRUE (definition of orientation angles A2, B2, C2)</p></li></ul><p><b>Example 1:</b></p><p>For example 1, the following assumptions apply:</p><ul><li><p>5-axis machine with <b>CA'</b> Nutator kinematics. </p></li><li><p>The direction of rotation of the A' axis is in the diagonal of the XZ plane. </p></li><li><p>The C axis rotates around the Z direction.</p></li></ul><a id="table_99c4d28a-6e4c-b3b4-9a56-a8109a606f86"></a> <a id="table_4"></a> <a id="table_99c4d28a-6e4c-b3b4-9a56-a8109a606f86"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EPBAC"><colgroup><col width="35.0%"><col width="65.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>ORIEULER</td><td>; Definition of "virtual" rectangular CA kinematics</td></tr><tr valign="top"><td><b>ORIANGLE</b></td><td>; Activation of interpolation in these virtual axis angles </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N10 A3=0 B3=1 C3=1</td><td>; Tool orientation in direction in space (0.0, 0.707, 0.707) </td></tr><tr valign="top"><td>N20 A3=0 B3=1 C3=0</td><td>; Rotation of the orientation in Y direction (0.0, 1.0, 0.0)</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>When changing the orientation from block N10 to N20, the orientation in the YZ plane is rotated by 45 degrees. </p><p>The two Euler angles (phi1, phi2) are interpolated as follows: (0.0, 45.0) → (0.0, 90.0). </p><p>The two rotary axes C and A' move from the starting angles (45.0, 90.0) to the end angles (0.0, 180.0).</p><p><b>Example 2:</b></p><p>For example 2, the following assumptions apply:</p><ul><li><p>5-axis machine with <b>AB</b> kinematics.</p></li><li><p>The tool is suspended on two successive rotary axes, which rotate about the X and Y axes respectively.</p></li></ul><a id="table_1494c086-1c90-776a-d003-3b10dbcc0fd0"></a> <a id="table_5"></a> <a id="table_1494c086-1c90-776a-d003-3b10dbcc0fd0"></a> <a id="table_5"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EEDAC"><colgroup><col width="35.0%"><col width="65.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>ORIEULER</td><td>; Definition of "virtual" CA kinematics</td></tr><tr valign="top"><td><b>ORIANGLE</b></td><td>; Activation of interpolation in these virtual axis angles </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N10 A3=0 B3=1 C3=1</td><td>; Rotation of orientation in spatial direction (0.0, 0.707, 0.707)</td></tr><tr valign="top"><td>N20 A3=1 B3=0 C3=1</td><td>; Rotation of orientation in spatial direction (0.707, 0.0, 0.707)</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>When changing the orientation from N10 to N20, the orientation is pivoted on a cone with an opening angle of 45 degrees around the Z direction. </p><p>The two Euler angles (phi1, phi2) are interpolated as follows (0.0, 45.0) → (-90.0, 45.0). </p><p>In contrast, a great circle interpolation would rotate the orientation in a plane spanned by the two vectors (0.0, 0.707, 0.707) and (0.707, 0.0, 0.707). The "virtual" Euler angle phi2 would not remain constant at 45 degrees.</p></div>
  </body>
</html>