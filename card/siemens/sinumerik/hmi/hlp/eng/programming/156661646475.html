<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Several feedrate values in one block (F, ST, SR, FMA, STA, SRA)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Several feedrate values in one block (F, ST, SR, FMA, STA, SRA)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>The "Multiple feedrates in one block" function can be used to activate different feedrate values for an NC block, a dwell time or a retraction motion-synchronously, dependent on external digital and/or analog inputs. </p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>
      <p>Path motion</p>F=... F7=... F6=... F5=... F4=... F3=... F2=... ST=... SR=...<p>Axial motion:</p>FA[&lt;Ax>]=... FMA[7,&lt;Ax>]=... FMA[6,&lt;Ax>]=... FMA[5,&lt;Ax>]=...  FMA[4,&lt;Ax>]=... FMA[3,&lt;Ax>]=... FMA[2,&lt;Ax>]=... STA[&lt;Ax>]=... SRA[&lt;Ax>]=...<a name="block_2"></a><h3 class="Blocktitle">Meaning</h3><a id="table_0"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="51.5%"><col width="18.1%"><col width="30.3%"></colgroup><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>F=...</code> :</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">The path feedrate is programmed under the address <code>F</code> and remains valid during the absence of an input signal.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Effective:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Modal</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>F2=... </code>to <code>F7=...</code> :</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">In addition to the path feedrate, up to six further feedrates can be programmed in the block. The numerical expansion indicates the bit number of the input that activates the feedrate when changed:</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Effective:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Non-modal</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>ST=...</code> :</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Dwell time in s (for grinding technology: sparking-out time)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Input bit:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Effective:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Non-modal</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>SR=...</code> :</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Retraction path</p><p type="p_table_l" align="left">The unit for the retraction path refers to the current valid unit of measurement (mm or inch).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Input bit:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">0</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Effective:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Non-modal</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>FA[&lt;Ax>]=...</code> :</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">The axial feedrate is programmed under the address <code>FA</code> and remains valid during the absence of an input signal.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Effective:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Modal</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>FMA[2,&lt;Ax>]=... </code>to<code> FMA[7,&lt;Ax>]=...</code> :</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">In addition to the axial feedrate <code>FA</code> up to six further feedrates per axis can be programmed in the block with <code>FMA</code>. The first parameter indicates the bit number of the input and the second the axis for which the feedrate is to apply.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Effective:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Non-modal</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>STA[&lt;Ax>]=...</code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Axial dwell time in s (for grinding technology: sparking-out time)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Input bit:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Effective:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Non-modal</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>SRA[&lt;Ax>]=...</code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Axial retraction path</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Input bit:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">0</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Effective:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Non-modal</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Ax></code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Axis for which the feedrate is to apply</p></td></tr></table></p><p class="comment"></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee" style="margin-bottom:10px"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel">Priority of the signals</h4><p class="safety">The signals are scanned in ascending order starting at input bit 0 (I0). Therefore, the retraction motion has the highest priority and the feedrate F7 the lowest priority. Dwell time and retraction motion end the feedrate motions that were activated with F2 to F7.</p><p class="safety">The signal with the highest priority determines the current feedrate.</p></td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee" style="margin-bottom:10px"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel">Delete distance-to-go</h4><p class="safety">If input bit 1 is activated for the dwell time or bit 0 for the return path, the distance to go for the path axes or the relevant single axes is deleted and the dwell time or return started.</p></td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee" style="margin-bottom:10px"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel">Retraction path</h4><p class="safety">The unit for the retraction path refers to the current valid unit of measurement (mm or inch).</p><p class="safety">The reverse stroke is always made in the opposite direction to the current motion. <code>SR</code>/<code>SRA</code> always programs the value for the reverse stroke. No sign is programmed.</p></td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee" style="margin-bottom:10px"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel">POS instead of POSA</h4><p class="safety">If feedrates, dwell time or return path are programmed for an axis on account of an external input, this axis must not be programmed as POSA axis (positioning axis over multiple blocks) in this block.</p></td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee" style="margin-bottom:10px"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel">Status query </h4><p class="safety">It is also possible to poll the status of an input for synchronous commands of various axes.</p></td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel">LookAhead</h4><p class="safety">Look Ahead is also active for multiple feedrates in one block. In this way, the current feedrate can be restricted by the Look Ahead value.</p></td></tr></table><a name="block_3"></a><h3 class="Blocktitle">Examples</h3><h4 class="Blocklabel">Example 1: Path motion</h4><a id="table_1"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E5AAC"><colgroup><col width="62.0%"><col width="38.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>G1 X48 F1000 F7=200 F6=50 F5=25 F4=5 ST=1.5 SR=0.5</td><td>; Path feedrate = 1000; Additional path feedrate values:
; 200 (input bit 7)
; 50 (input bit 6)
; 25 (input bit 5)
; 5 (input bit 4); Dwell time 1.5 s; Retraction 0.5 mm</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p></p><h4 class="Blocklabel">Example 2: Axial motion</h4><a id="table_2"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E6BAC"><colgroup><col width="54.7%"><col width="45.3%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>POS[A]=300 FA[A]=800 FMA[7,A]=720 FMA[6,A]=640 FMA[5,A]=560 STA[A]=1.5 SRA[A]=0.5</td><td>; Feedrate for axis A = 800; Additional feedrate values for axis A: 720 (input bit 7)
; 640 (input bit 6)
; 560 (input bit 5); Axial dwell time: 1.5 s; Axial retraction: 0.5 mm</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p></p><h4 class="Blocklabel">Example 3: Multiple operations in one block</h4><a id="table_3"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E4CAC"><colgroup><col width="60.4%"><col width="39.6%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N20 T1 D1 F500 G0 X100</td><td>Initial setting</td></tr><tr valign="top"><td>N25 G1 X105 F=20 F7=5 F3=2.5 F2=0.5 ST=1.5 SR=0.5</td><td>; Normal feedrate with F,
; roughing with F7,
; finishing with F3,
; smooth-finishing with F2,
; dwell time 1.5 s,
; retraction path 0.5 mm</td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p></p></div>
  </body>
</html>