<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Execute external subroutine (EXTCALL)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Execute external subroutine (EXTCALL)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>A part program can be loaded from an external memory and executed with the EXTCALL command. </p>
      <p>The following are available as external memory:</p>
      <ul>
        <li>
          <p>Local drive</p>
        </li>
        <li>
          <p>Network drive</p>
        </li>
        <li>
          <p>USB drive</p>
          <table cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td>
                <font size="1px">
                </font>
              </td>
            </tr>
          </table>
          <table class="safety" border="1" bgcolor="#eeeeee" style="margin-bottom:10px">
            <colgroup>
              <col width="5%">
              <col width="95%">
            </colgroup>
            <tr>
              <td>
                <b>Note</b>
              </td>
            </tr>
            <tr>
              <td>
                <p class="safety">Only the USB interfaces on the operator panel front or the TCU can be used as interface for the processing of an external program on a USB drive.</p>
              </td>
            </tr>
          </table>
          <table cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td>
                <font size="1px">
                </font>
              </td>
            </tr>
          </table>
          <table class="safety" border="1" bgcolor="#eeeeee">
            <colgroup>
              <col width="5%">
              <col width="95%">
            </colgroup>
            <tr>
              <td>
                <b>Notice</b>
              </td>
            </tr>
            <tr>
              <td>
                <h4 class="Blocklabel">Tool/workpiece damage caused by the USB flash drive</h4>
                <p class="safety">It is recommended that a USB flash drive is not used to run an external subprogram. A communication interruption to the USB flash drive while executing the part program due to contact problems, dropping out, cancellation or unintentional unplugging, results in an immediate machining stop. The tool and/or workpiece could be damaged.</p>
              </td>
            </tr>
          </table>
        </li>
      </ul>
      <h4 class="Blocklabel">Default setting of the external program path</h4>
      <p>The path for the external program directory can be preset with the setting data:</p>
      <p>SD42700 $SC_EXT_PROG_PATH</p>
      <p>Together with the program path and identifier specified using the EXTCALL call, this forms the entire path for the part program to be called.</p>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee" style="margin-bottom:10px">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Note</b>
          </td>
        </tr>
        <tr>
          <td>
            <p class="safety">If the program path is specified only via the EXTCALL call, then SD42700 must be empty!</p>
          </td>
        </tr>
      </table>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Note</b>
          </td>
        </tr>
        <tr>
          <td>
            <h4 class="Blocklabel">Parameters</h4>
            <p class="safety">When an external program is called, no parameters can be transferred to it.</p>
          </td>
        </tr>
      </table>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>EXTCALL("&lt;Path/>&lt;ProgName>")<a name="block_2"></a><h3 class="Blocktitle">Meaning</h3><a id="table_31a961fc-d766-4e4a-a8fa-80c918011e84"></a> <a id="table_0"></a> <a id="table_31a961fc-d766-4e4a-a8fa-80c918011e84"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="37.8%"><col width="24.9%"><col width="37.1%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>EXTCALL</code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Command for calling an external subprogram</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>"&lt;Path/>&lt;ProgName>"</code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Constant/variable of type STRING</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Path/></code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Absolute or relative path specification (<b>optional</b>) </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;ProgName></code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The program name is specified without prefix "_N_".</p><p type="p_table_l" align="left">The file extensions ("MPF", "SPF") can be attached to program names using the "_" or "." character (<b>optional</b>).</p><p type="p_table_l" align="left">Example:</p><p type="p_table_l" align="left"><code>"SHAFT"<br />"SHAFT_SPF"<br />"SHAFT.SPF"</code></p></td></tr></table></p><h4 class="Blocklabel">Path specification: Short designations</h4><p class="comment">The following short designations can be used to specify the path:</p><ul class="comment"><li class="comment"><p class="comment">Local drive: "<b>LOCAL_DRIVE:</b>"</p></li><li class="comment"><p class="comment">Memory card: "<b>CF_CARD:</b>"</p></li><li class="comment"><p class="comment">USB drive (operator panel front): "<b>USB:</b>"</p></li></ul><p class="comment">Alternatively, the abbreviations "CF_CARD:" and "LOCAL_DRIVE:" can be used.</p><a name="block_3"></a><h3 class="Blocktitle">Example</h3><h4 class="Blocklabel">Execute from local drive</h4><p>The "MAIN.MPF" main program is stored in the NC memory and is selected for execution.</p><h4 class="Blocklabel">Subprogram "SP_1"</h4><p>The external subprogram "SP_1.SPF" or "SP_1.MPF" is on the local drive in the directory "/user/sinumerik/data/prog/WKS.DIR/WST1.WPD".</p><p>The path for the external program directory is set with:</p><p>SD42700 $SC_EXT_PROG_PATH = LOCAL_DRIVE:WKS.DIR/WST1.WPD</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">Specification of the path for calling the external subprogram:</p><ul class="safety"><li class="safety"><p class="safety">Without the default setting: "LOCAL_DRIVE:WKS.DIR/WST1.WPD/SP_1"</p></li><li class="safety"><p class="safety">With the default setting: "SP_1"</p></li></ul></td></tr></table><h4 class="Blocklabel">Subprogram "SP_2"</h4><p>The external subprogram "SP_2.SPF " or "SP_2.MPF " is in the WKS.DIR/WST1.WPD directory of the USB drive. The default setting of the path to the external program directory is used for the path of subprogram "SP_1" and is also not rewritten in the main program. Therefore, the complete path has to be specified when subprogram "SP_2" is called.</p><h4 class="Blocklabel">Main program "MAIN"</h4><a id="table_1deea8ec-622c-4e71-8cf3-b88c823cd027"></a> <a id="table_1"></a> <a id="table_1deea8ec-622c-4e71-8cf3-b88c823cd027"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EYF"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th colspan="2">Program code</th></tr><tr valign="top"><td>N010 PROC MAIN</td><td> </td></tr><tr valign="top"><td colspan="2">N020 ...</td></tr><tr valign="top"><td colspan="2">N030 EXTCALL("SP_1")</td></tr><tr valign="top"><td colspan="2">N030 EXTCALL("USB:WKS.DIR/WST1.WPD/SP_2")</td></tr><tr valign="top"><td colspan="2">N050 ...</td></tr><tr valign="top"><td colspan="2">N060 M30</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p></div>
    <p>See also:<br />    <a href="156662732683.html">Execute external subprogram (EXTCALL): Further Information</a></p>
  </body>
</html>