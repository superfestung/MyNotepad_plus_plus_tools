<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Capacity evaluation ($AN_IPO ... , $AN/AC_SYNC ... , $AN_SERVO)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Capacity evaluation ($AN_IPO ... , $AN/AC_SYNC ... , $AN_SERVO)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>The values of the current, maximum and average system utilization due to synchronized actions can be read via the following system variables:</p>
      <a id="table_0">
      </a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="36.2%"><col width="63.7%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">NC-specific system variable</p></th><th><p type="p_table_lb" align="left">Meaning</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_IPO_ACT_LOAD </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Current computing time of the interpolator level (incl. synchronized actions of all channels)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_IPO_MAX_LOAD </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Longest computing time of the interpolator level (incl. synchronized actions of all channels)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_IPO_MIN_LOAD </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Shortest computing time of the interpolator level (incl. synchronized actions of all channels)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_IPO_LOAD_PERCENT </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Current computing time of the interpolator level in relation to the interpolation cycle (%)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_SYNC_ACT_LOAD </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Current computing time for synchronized actions over all channels</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_SYNC_MAX_LOAD </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Longest computing time for synchronized actions over all channels</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_SYNC_TO_IPO </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Percentage share that the synchronized actions have of the total computing time (over all channels)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_SERVO_ACT_LOAD </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Current computing time of the position controller</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_SERVO_MAX_LOAD </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Longest computing time of the position controller</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_SERVO_MIN_LOAD </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Shortest computing time of the position controller</p></td></tr></table></p><a id="table_1"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="36.2%"><col width="63.7%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Channel-specific system variable</p></th><th><p type="p_table_lb" align="left">Meaning</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_SYNC_ACT_LOAD </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Current computing time for synchronized actions in the channel</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_SYNC_MAX_LOAD </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Longest computing time for synchronized actions in the channel</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_SYNC_AVERAGE_LOAD </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Average computing time for synchronized actions in the channel</p></td></tr></table></p><a id="image_2610760971_0"></a> <img border="0" src="images/167864765835.png" width="500" height="262" alt="Computing time shares of the synchronized actions on the interpolation cycle"/><p class="imgtitle">Computing time shares of the synchronized actions on the interpolation cycle</p><a name="block_1"></a><h3 class="Blocktitle">Activation</h3><p>The system variables only contain valid values when the "Utilization evaluation via synchronized actions" diagnostic function is active.</p><p>For this, the following machine data must be greater than zero:</p><p>MD11510 $MN_IPO_MAX_LOAD <b>> 0</b> (maximum permissible interpolator utilization) </p><p>When the function is active, the current values are displayed in the "Time required for synchronized actions" line in the "Diagnostics" > "System utilization" operating area.</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">The system variables always contain the values of the previous interpolation cycle.</p></td></tr></table><a name="block_2"></a><h3 class="Blocktitle">Overload limit</h3><p>An overload limit is specified via the value set via MD11510 $MN_IPO_MAX_LOAD: </p><p>MD11510 $MN_IPO_MAX_LOAD = &lt;maximum permissible utilization in % of the interpolation cycle> </p><p>If the value set in the machine data is exceeded, the following system variable is set:</p><p>$AN_IPO_LOAD_LIMIT = TRUE </p><p>If the value falls below the set value again, the system variable is reset:</p><p>$AN_IPO_LOAD_LIMIT = FALSE</p><h4 class="Blocklabel">Application</h4><p>A user-specific strategy to avoid a level overflow can be implemented via the system variable $AN_IPO_LOAD_LIMIT.</p><a name="block_3"></a><h3 class="Blocktitle">Resetting of min./max. values</h3><p>The following system variables for min./max. values are reset by writing arbitrary values:</p><a id="table_2"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="49.9%"><col width="50.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">System variable</p></th><th><p type="p_table_lb" align="left">Meaning</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_SERVO_MAX_LOAD</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Longest computing time of the position controller</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_SERVO_MIN_LOAD</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Shortest computing time of the position controller</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_IPO_MAX_LOAD</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Longest computing time of the interpolator level (incl. synchronized actions of all channels)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_IPO_MIN_LOAD</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Shortest computing time of the interpolator level (incl. synchronized actions of all channels)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_SYNC_MAX_LOAD</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Longest computing time for synchronized actions over all channels</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_SYNC_MAX_LOAD</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Longest computing time for synchronized actions in the channel</p></td></tr></table></p><a name="block_4"></a><h3 class="Blocktitle">Example</h3><a id="table_c1152264-de73-3291-1450-ac7dc7ed7fbc"></a> <a id="table_3"></a> <a id="table_c1152264-de73-3291-1450-ac7dc7ed7fbc"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EBBAC"><colgroup><col width="66.5%"><col width="33.5%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>$MN_IPO_MAX_LOAD=80</td><td>; Overload limit</td></tr><tr valign="top"><td>;</td><td> </td></tr><tr valign="top"><td>; Initialization of the min./max. values</td><td> </td></tr><tr valign="top"><td>N01 $AN_SERVO_MAX_LOAD=0</td><td> </td></tr><tr valign="top"><td>N02 $AN_SERVO_MIN_LOAD=0</td><td> </td></tr><tr valign="top"><td>N03 $AN_IPO_MAX_LOAD=0</td><td> </td></tr><tr valign="top"><td>N04 $AN_IPO_MIN_LOAD=0</td><td> </td></tr><tr valign="top"><td>N05 $AN_SYNC_MAX_LOAD=0</td><td> </td></tr><tr valign="top"><td>N06 $AC_SYNC_MAX_LOAD=0</td><td> </td></tr><tr valign="top"><td>;</td><td> </td></tr><tr valign="top"><td colspan="2">; Alarm 63111 when the overload limit is exceeded</td></tr><tr valign="top"><td colspan="2">N10 IDS=1 WHENEVER $AN_IPO_LOAD_LIMIT == TRUE DO M4711 SETAL(63111)</td></tr><tr valign="top"><td>;</td><td> </td></tr><tr valign="top"><td colspan="2">; Alarm 63222 when the computing time share of the; synchronized actions over all channels exceeds 30% of the interpolation cycle</td></tr><tr valign="top"><td colspan="2">N20 IDS=2 WHENEVER $AN_SYNC_TO_IPO > 30 DO SETAL(63222)</td></tr><tr valign="top"><td>;</td><td> </td></tr><tr valign="top"><td>N30 G0 X0 Y0 Z0</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N999 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p></p></div>
  </body>
</html>