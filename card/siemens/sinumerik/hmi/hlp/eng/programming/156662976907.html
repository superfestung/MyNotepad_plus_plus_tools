<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>External zero offset ($AA_ETRANS)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">External zero offset ($AA_ETRANS)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>The external zero offset is a linear offset between the base coordinate system (BCS) and the basic origin system (BOS). </p>
      <a id="image_74199762187_0">
      </a> <img border="0" src="images/166432871307.png" width="265" height="151"/><p>The external zero offset with $AA_ETRANS acts in two ways depending on the machine data parameterization:</p><ol><li><p>After activation by the NC/PLC interface signal, the system variable $AA_ETRANS acts directly as offset value</p></li><li><p>After activation by the NC/PLC interface signal, the value of the system variable $AA_ETRANS is transferred to the active system frames $P:EXTFRAME and the data storage frame $P_EXTFR. The active total frame $P_ACTFRAME is then recalculated.</p></li></ol><h4 class="Blocklabel">Machine data</h4><p>In conjunction with the system variable $AA_ETRANS, a differentiation is made between two procedures selected with the following machine data:</p><p>MD28082 $MC_MM_SYSTEM_FRAME_MASK,Bit1 = &lt;value></p><a id="table_c6689105-b086-4bc4-b666-d27971bdbe6c"></a> <a id="table_0"></a> <a id="table_c6689105-b086-4bc4-b666-d27971bdbe6c"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="10.0%"><col width="90.0%"></colgroup><tr valign="top"><th><p type="p_table_cb" align="center">&lt;value></p></th><th><p type="p_table_lb" align="left">Meaning</p></th></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Function: $AA_ETRANS[&lt;axis>] written directly by PLC, HMI or NC program.</p><p type="p_table_l" align="left">Enable to traverse the work offset of $AA_ETRANS[&lt;axis>] in the next possible traversing block: <code>&lt;Axis>.basic.out.acceptExternalWorkOffset</code></p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Function: Activation of the active system frame $P:EXTFRAME and the data storage frame $P_EXTFR</p><p type="p_table_l" align="left">Enable to traverse the work offset of $AA_ETRANS[&lt;axis>] through: <code>&lt;Axis>.basic.out.acceptExternalWorkOffset</code>. The following is performed in the channel:</p><ul class="table"><li><p>Stop all traversal movements in the channel (other than command and PLC axes)</p></li><li><p>Preprocessing stop with subsequent reorganization (STOPRE)</p></li><li><p>Coarse offset of active frame $P_EXTFRAME[&lt;axis>] = $AA_ETRANS[&lt;axis>] </p></li><li><p>Coarse offset of data storage frame $P_EXTFR[&lt;axis>] = $AA_ETRANS[&lt;axis>] </p></li><li><p>Recalculation of the active total frame $P_ACTFRAME</p></li><li><p>Retraction of the offset in the programmed axes.</p></li><li><p>Continuation of the interrupted traversing motion or of the NC program</p></li></ul></td></tr></table></p><h4 class="Blocklabel">Programming</h4><ul><li><p>Syntax</p><p><code>$AA_ETRANS[&lt;axis>] = &lt;value></code></p></li><li><p>Meaning</p><a id="table_40dbfb02-570c-a1f3-d93f-8c579001124f"></a> <a id="table_1"></a> <a id="table_40dbfb02-570c-a1f3-d93f-8c579001124f"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default_list" border="1"><colgroup><col width="35.0%"><col width="65.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>$AA_ETRANS</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">System variable for buffering the external zero offset</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;axis></code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Channel axis</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;value></code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Offset value</p></td></tr></table></p></li></ul><h4 class="Blocklabel">NC/PLC interface signal</h4><p><code>&lt;Axis>.basic.out.acceptExternalWorkOffset</code> = 0 → 1 ⇒ $P_EXTFRAME[&lt;Axis>]  = $P_EXTFR[&lt;Axis>]  = $AA_ETRANS[&lt;Axis>] </p><a name="block_1"></a><h3 class="Blocktitle">PLC signals</h3><a id="table_279e2cb5-a871-e1b0-3b7f-ef584af13fa9"></a> <a id="table_2"></a> <a id="table_279e2cb5-a871-e1b0-3b7f-ef584af13fa9"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="45.0%"><col width="35.0%"><col width="20.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Basic Program Plus</p></th><th colspan="2"><p type="p_table_lb" align="left">Basic Program</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Axis>.basic.out.acceptExternalWorkOffset</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_Axis*.A_ExtZO</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB31, … DBX3.0</p></td></tr></table></p></div>
  </body>
</html>