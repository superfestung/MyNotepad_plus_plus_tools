<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Repeat program section (REPEAT, REPEATB, ENDLABEL, P)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Repeat program section (REPEAT, REPEATB, ENDLABEL, P)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Program section repetition allows you to repeat existing program sections within a program in any order. The program sections are called with the keywords REPEAT or REPEATB. The program lines or program sections to be repeated are identified by labels. The number of repeats is programmable.  </p>
      <p>The program line containing the jump label can be before or after the REPEAT/REPEATB statement. The search initially commences towards the start of the program. If the label is not found in this direction, the search continues working toward the end of the program.</p>
      <p>If the program line containing the jump label contains further operations, these are executed again on each repetition. </p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>
      <h4 class="Blocklabel">Repeat individual program line:</h4>
      <a id="table_d9ba269a-bc73-4fc7-95bf-0b067ce9b111">
      </a> <a id="table_0"></a> <a id="table_d9ba269a-bc73-4fc7-95bf-0b067ce9b111"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E2B"><colgroup><col width="66.7%"><col width="33.3%"></colgroup><tr valign="top"><td>&lt;Label>: ...</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>REPEATB &lt;Label> P=&lt;n></td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Repeat program section between label and REPEAT statement:</h4><a id="table_1d4c95b3-14e5-4826-a2e7-07b8ebad1575"></a> <a id="table_1"></a> <a id="table_1d4c95b3-14e5-4826-a2e7-07b8ebad1575"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EUC"><colgroup><col width="66.7%"><col width="33.3%"></colgroup><tr valign="top"><td>&lt;Label>: ...</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>REPEAT &lt;Label> P=&lt;n></td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">If the program section between the jump label and the REPEAT statement needs to be repeated, the program line with the jump label must be <b>before</b> the REPEAT statement because, in this case, the search runs <b>only</b> toward the beginning of the program.</p></td></tr></table><h4 class="Blocklabel">3. Repeat section between two labels:</h4><a id="table_850ec9e5-c7c1-4f61-8f06-8bebd56cc025"></a> <a id="table_2"></a> <a id="table_850ec9e5-c7c1-4f61-8f06-8bebd56cc025"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EVD"><colgroup><col width="66.7%"><col width="33.3%"></colgroup><tr valign="top"><td>&lt;Label_1>: ...</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>&lt;Label_2>: ...</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>REPEAT &lt;Label_1> &lt;Label_2> P=&lt;n></td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">It is not possible to nest the REPEAT statement with the two jump labels within parentheses. If the first jump label is found before the REPEAT statement and the second jump label is not reached before the REPEAT statement, the repetition is performed between the first jump label and the REPEAT statement.</p></td></tr></table><h4 class="Blocklabel">4. Repeat section between label and ENDLABEL:</h4><a id="table_e5749216-d1c7-4d4f-b0a9-088a3988c77e"></a> <a id="table_3"></a> <a id="table_e5749216-d1c7-4d4f-b0a9-088a3988c77e"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EZE"><colgroup><col width="66.7%"><col width="33.3%"></colgroup><tr valign="top"><td>&lt;Label>: ...</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>ENDLABEL: ...</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>REPEAT &lt;Label> P=&lt;n></td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">It is not possible to bracket the REPEAT statement with the jump label and the ENDLABEL. If the jump label is found before the REPEAT statement and ENDLABEL is not reached before the REPEAT statement, the repetition is performed between the jump label and the REPEAT statement.</p></td></tr></table><a name="block_2"></a><h3 class="Blocktitle">Meaning</h3><a id="table_d36c85fc-a27b-4dd0-940f-050a74d38a6d"></a> <a id="table_4"></a> <a id="table_d36c85fc-a27b-4dd0-940f-050a74d38a6d"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="24.2%"><col width="9.0%"><col width="8.4%"><col width="58.4%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>REPEATB</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Command for repeating a program line</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>REPEAT</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Command for repeating a program section</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Label></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Jump label</p><p type="p_table_l" align="left">The jump label denotes either the program line to be repeated (in the case of REPEATB) or the start of the program section to be repeated (in the case of REPEAT).</p><p type="p_table_l" align="left">Jump labels are always located at the beginning of a block. If a block number exists, the jump label is located immediately after the block number.</p><p type="p_table_l" align="left">The following rules apply when naming jump labels:</p><ul class="table"><li><p>Number of characters:</p><ul><li><p>Minimum 2</p></li><li><p>Maximum 32</p></li></ul></li><li><p>Permissible characters are:</p><ul><li><p>Letters</p></li><li><p>Numbers</p></li><li><p>Underscores</p></li></ul></li><li><p>The first two characters must be letters or underscores.</p></li><li><p>The name of the jump label is followed by a colon (":").</p></li></ul></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Label_1></code> </p><p type="p_table_l" align="left"><code>&lt;Label_2></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Jump labels that identify the program section to be repeated (in the case of REPEAT) if the repetition is not to extend as far as the REPEAT statement</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Label_1></code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The first jump label marks the start of a program section to be repeated.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Label_2></code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The second jump label marks the end of a program section to be repeated.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ENDLABEL</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The end of a program section to be repeated can also be identified with the keyword ENDLABEL.</p><p type="p_table_l" align="left">If the program line with ENDLABEL contains further operations, these are executed again on each repetition.</p><p type="p_table_l" align="left">ENDLABEL can be used more than once in the program.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>P</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Address for specifying the number of repetitions</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;n></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Number of program section repetitions</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Type:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The program section to be repeated is repeated &lt;n> times. After the last repetition, the program is continued at the line following the REPEAT/REPEATB line.</p><p type="p_table_l" align="left"><b>Note:</b><br />If no number is specified for P=&lt;n>, the program section is repeated just once.</p></td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Examples</h3><h4 class="Blocklabel">Example 1: Repeat individual program line</h4><a id="table_54dc855e-b702-4a1c-b477-acc5fdb63580"></a> <a id="table_5"></a> <a id="table_54dc855e-b702-4a1c-b477-acc5fdb63580"></a> <a id="table_5"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E4CAC"><colgroup><col width="40.0%"><col width="60.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 POSITION1: X10 Y20</td><td> </td></tr><tr valign="top"><td>N20 POSITION2: CYCLE(0,,9,8)</td><td>;Position cycle</td></tr><tr valign="top"><td>N30 ...</td><td> </td></tr><tr valign="top"><td>N40 REPEATB POSITION1 P=5</td><td>; Execute BLOCK N10 five times.</td></tr><tr valign="top"><td>N50 REPEATB POSITION2</td><td>; Execute block N20 once.</td></tr><tr valign="top"><td>N60 ...</td><td> </td></tr><tr valign="top"><td>N70 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Example 2: Repeat program section between label and REPEAT statement:</h4><a id="table_85279388-c665-406a-ac78-2b977169005c"></a> <a id="table_6"></a> <a id="table_85279388-c665-406a-ac78-2b977169005c"></a> <a id="table_6"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EPEAC"><colgroup><col width="34.1%"><col width="65.9%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N5 R10=15</td><td> </td></tr><tr valign="top"><td>N10 Begin: R10=R10+1</td><td>;Width</td></tr><tr valign="top"><td>N20 Z=10-R10</td><td> </td></tr><tr valign="top"><td>N30 G1 X=R10 F200</td><td> </td></tr><tr valign="top"><td>N40 Y=R10</td><td> </td></tr><tr valign="top"><td>N50 X=-R10</td><td> </td></tr><tr valign="top"><td>N60 Y=-R10</td><td> </td></tr><tr valign="top"><td>N70 Z=10+R10</td><td> </td></tr><tr valign="top"><td>N80 REPEAT BEGIN P=4</td><td>; Execute section from N10 to N70 four times.</td></tr><tr valign="top"><td>N90 Z10</td><td> </td></tr><tr valign="top"><td>N100 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Example 3: Repeat section between two jump markers</h4><a id="table_b58071da-b4a3-4d76-96b6-6398479dbd3c"></a> <a id="table_7"></a> <a id="table_b58071da-b4a3-4d76-96b6-6398479dbd3c"></a> <a id="table_7"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EVGAC"><colgroup><col width="38.7%"><col width="61.3%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N5 R10=15</td><td> </td></tr><tr valign="top"><td>N10 Begin: R10=R10+1</td><td>;Width</td></tr><tr valign="top"><td>N20 Z=10-R10</td><td> </td></tr><tr valign="top"><td>N30 G1 X=R10 F200</td><td> </td></tr><tr valign="top"><td>N40 Y=R10</td><td> </td></tr><tr valign="top"><td>N50 X=-R10</td><td> </td></tr><tr valign="top"><td>N60 Y=-R10</td><td> </td></tr><tr valign="top"><td>N70 END: Z=10</td><td> </td></tr><tr valign="top"><td>N80 Z10</td><td> </td></tr><tr valign="top"><td>N90 CYCLE(10,20,30)</td><td> </td></tr><tr valign="top"><td>N100 REPEAT BEGIN END P=3</td><td>; Execute section from N10 to N70 three times.</td></tr><tr valign="top"><td>N110 Z10</td><td> </td></tr><tr valign="top"><td>N120 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Example 4: Repeat section between jump marker and ENDLABEL</h4><a id="table_450f6ffb-737b-468d-ae9a-542121d5df51"></a> <a id="table_8"></a> <a id="table_450f6ffb-737b-468d-ae9a-542121d5df51"></a> <a id="table_8"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EFJAC"><colgroup><col width="34.1%"><col width="65.9%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 G1 F300 Z-10</td><td> </td></tr><tr valign="top"><td>N20 BEGIN1:</td><td> </td></tr><tr valign="top"><td>N30 X10</td><td> </td></tr><tr valign="top"><td>N40 Y10</td><td> </td></tr><tr valign="top"><td>N50 BEGIN2:</td><td> </td></tr><tr valign="top"><td>N60 X20</td><td> </td></tr><tr valign="top"><td>N70 Y30</td><td> </td></tr><tr valign="top"><td>N80 ENDLABEL: Z10</td><td> </td></tr><tr valign="top"><td>N90 X0 Y0 Z0</td><td> </td></tr><tr valign="top"><td>N100 Z-10</td><td> </td></tr><tr valign="top"><td>N110 BEGIN3: X20</td><td> </td></tr><tr valign="top"><td>N120 Y30</td><td> </td></tr><tr valign="top"><td>N130 REPEAT BEGIN3 P=3</td><td>; Execute section from N110 to N120 three times.</td></tr><tr valign="top"><td>N140 REPEAT BEGIN2 P=2</td><td>; Execute section from N50 to N80 twice.</td></tr><tr valign="top"><td>N150 M100</td><td> </td></tr><tr valign="top"><td>N160 REPEAT BEGIN1 P=2</td><td>; Execute section from N20 to N80 twice.</td></tr><tr valign="top"><td>N170 Z10</td><td> </td></tr><tr valign="top"><td>N180 X0 Y0</td><td> </td></tr><tr valign="top"><td>N190 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Example 5: Milling, drilling position with different technologies</h4><a id="table_6c81da71-b63f-40b3-9370-634c7c4b7d73"></a> <a id="table_9"></a> <a id="table_6c81da71-b63f-40b3-9370-634c7c4b7d73"></a> <a id="table_9"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="ETMAC"><colgroup><col width="31.7%"><col width="68.3%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 CENTER DRILL()</td><td>; Load centering drill.</td></tr><tr valign="top"><td>N20 POS_1:</td><td>; Drilling positions 1</td></tr><tr valign="top"><td>N30 X1 Y1</td><td> </td></tr><tr valign="top"><td>N40 X2</td><td> </td></tr><tr valign="top"><td>N50 Y2</td><td> </td></tr><tr valign="top"><td>N60 X3 Y3</td><td> </td></tr><tr valign="top"><td>N70 ENDLABEL:</td><td> </td></tr><tr valign="top"><td>N80 POS_2:</td><td>; Drilling positions 2</td></tr><tr valign="top"><td>N90 X10 Y5</td><td> </td></tr><tr valign="top"><td>N100 X9 Y-5</td><td> </td></tr><tr valign="top"><td>N110 X3 Y3</td><td> </td></tr><tr valign="top"><td>N120 ENDLABEL:</td><td> </td></tr><tr valign="top"><td>N130 DRILL()</td><td>; Change drill and drilling cycle.</td></tr><tr valign="top"><td>N140 THREAD(6)</td><td>; Load tap M6 and threading cycle.</td></tr><tr valign="top"><td>N150 REPEAT POS_1</td><td>; Repeat program section once from POS_1 up to ENDLABEL.</td></tr><tr valign="top"><td>N160 DRILL()</td><td>; Change drill and drilling cycle.</td></tr><tr valign="top"><td>N170 THREAD(8)</td><td>; Load tap M8 and threading cycle.</td></tr><tr valign="top"><td>N180 REPEAT POS_2</td><td>; Repeat program section once from POS_2 up to ENDLABEL.</td></tr><tr valign="top"><td>N190 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p></div>
    <p>See also:<br />    <a href="156662561803.html">Repeat program section (REPEAT, REPEATB, ENDLABEL, P): Further Information</a></p>
  </body>
</html>