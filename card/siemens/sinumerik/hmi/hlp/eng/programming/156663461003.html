<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Read tool lengths and/or tool length components (GETTCOR)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Read tool lengths and/or tool length components (GETTCOR)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>The GETTCOR function is used to read out tool lengths or tool length components.</p>
      <p>The parameters can be used to specify which components are considered and the conditions under which the tool is used.</p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>&lt;Status> = GETTCOR(&lt;Len>[, &lt;Comp>, &lt;Stat>, &lt;T>, &lt;D>, &lt;DL>])<a name="block_2"></a><h3 class="Blocktitle">Meaning</h3><a id="table_dc7626fe-3412-4464-9c5d-7e46e8fb435e"></a> <a id="table_0"></a> <a id="table_dc7626fe-3412-4464-9c5d-7e46e8fb435e"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="4.0%"><col width="16.0%"><col width="10.0%"><col width="7.5%"><col width="11.0%"><col width="5.0%"><col width="46.5%"></colgroup><tr valign="top"><td rowspan="2" colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>GETTCOR(...)</code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Predefined function to read tool lengths or to read tool length components</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Alone in the block:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Yes</p></td></tr><tr valign="top"><td rowspan="12" colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Status></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Function return value. Negative values indicate error states.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td rowspan="10"><p type="p_table_l" style="margin-top: 4px" align="left">Value:</p><p type="p_table_l" align="left"></p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Function OK</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-1</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">No memory reserved for tool environments:</p><p type="p_table_l" align="left">MD18116 $MN_MM_NUM_TOOL_ENV = 0</p><p type="p_table_l" align="left">This means that the "tool environments" functionality is not available.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-2</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">A tool environment with the name specified under &lt;Stat> does not exist.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-3</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Invalid string in parameter &lt;Comp>.</p><p type="p_table_l" align="left">Causes of this error can be invalid characters or characters programmed twice.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-4</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Invalid T number</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-5</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Invalid D number</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-6</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Invalid DL number</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-7</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Attempt to access a non-existent memory module.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-8</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Attempt to access a non-existent option (programmable tool orientation, tool management).</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-9</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The &lt;Comp> string contains a colon (identifier for the specification of a coordinate system), but it is not followed by a valid character denoting the coordinate system.</p></td></tr><tr valign="top"><td colspan="7"><p type="p_table_l" style="margin-top: 4px" align="left"><b>Parameters</b></p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Len></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Result vector</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">REAL[11]</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">The vector components are arranged in the following order:</p><ul class="table"><li><p>&lt;Len> [0]: Tool type</p></li><li><p>&lt;Len> [1]: Cutting edge position</p></li><li><p>&lt;Len> [2]: Abscissa</p></li><li><p>&lt;Len> [3]: Ordinate</p></li><li><p>&lt;Len> [4]: Applicate</p></li><li><p>&lt;Len> [5]: Tool radius</p></li></ul><p type="p_table_l" align="left">The coordinate system defined in &lt;Comp> and &lt;Stat> is used as the reference coordinate system for the length components. If a coordinate system is not defined in &lt;Comp>, then tool lengths are displayed in the machine coordinate system.</p><p type="p_table_l" align="left">The assignment of the abscissa, ordinate and applicate to the geometry axes depends on the active plane used in the tool environment. This means, for G17, the abscissa is parallel to X, with G18 it is parallel to Z, etc.</p><p type="p_table_l" align="left">Components &lt;Len>[6] to &lt;Len>[10] contain the additional parameters, which can be used to specify the geometry description of a tool (e.g. $TC_DP7 to $TC_DP11 for the geometry and the corresponding components for wear or sum and setup offsets).</p><p type="p_table_l" align="left">These 5 additional elements and the tool radius are only defined for components E, G, S, and W. Their evaluation does not depend on &lt;Stat>. The corresponding values in &lt;Len>[6] to &lt;Len>[10] can thus only be not equal to zero if at least one of the four specified components is involved in the tool length calculation. The remaining components do not influence the result. The dimensions refer to the control's basic system (inch or metric).</p></td></tr><tr valign="top"><td rowspan="21"><p type="p_table_l" style="margin-top: 4px" align="left">2</p></td><td rowspan="21"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Comp></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Tool length components (optional)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">STRING</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">The character string consists of two substrings, which are separated from one another by a colon.</p><p type="p_table_l" align="left">General form: <code>"&lt;SubStr_1> [: &lt;SubStr_2]"</code></p></td></tr><tr valign="top"><td rowspan="10" colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;SubStr_1></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The <b>first substring</b> designates the tool length components to be taken into account when calculating the tool length.</p><p type="p_table_l" align="left">The order of the characters in the substrings, and their notation (upper or lower case), is arbitrary. Any number of blanks or white spaces can be inserted between the characters. </p><p type="p_table_l" align="left"><b>Note:</b><br />It is <b>not permissible</b> that the characters in the substring are programmed twice.</p></td></tr><tr valign="top"><td rowspan="8"><p type="p_table_l" style="margin-top: 4px" align="left">Characters: </p></td><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>-</code> </p><p type="p_table_c" align="center"></p><p type="p_table_c" align="center"></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Minus symbol (only allowed as first character)</p><p type="p_table_l" align="left">The complete tool length is calculated, minus the components specified in the next string.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>C</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Adapter or tool base dimension (whichever of the two alternative components is active for the tool in use)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>E</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Setup offsets</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>G</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Geometry</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>K</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Kinematic transformation (is only evaluated for generic 3, 4 and 5-axis transformation)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>S</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Summed offsets</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>T</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Toolholder with orientation capability</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>W</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Wear</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">If the first substring is empty (except for white spaces), the complete tool length is calculated allowing for all components. This applies even if the &lt;Comp> parameter is not specified.</p></td></tr><tr valign="top"><td rowspan="8" colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Substr_2></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The optional <b>second substring</b> identifies the coordinate system, in which the tool length is to be output.</p><p type="p_table_l" align="left">The second substring only comprises one single relevant character. </p></td></tr><tr valign="top"><td rowspan="6"><p type="p_table_l" style="margin-top: 4px" align="left">Characters:</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>A</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Adjustable coordinate system (ACS)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>B</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Basic coordinate system (BCS)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>K</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Tool coordinate system of kinematic transformation (KCS)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>M</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Machine coordinate system (MCS)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>T</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Tool coordinate system (TCS)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>W</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Workpiece coordinate system (WCS)</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">If no coordinate system is specified, the evaluation is performed in the MCS (machine coordinate system). If any rotations are to be taken into account, they are specified in the tool environment defined in &lt;Stat>.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">3</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;_Stat></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Name of the data set for describing a tool environment (optional)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">STRING</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">If the value of this parameter is the null string (""), or is not specified, then the current status is used. The current tool is used if a tool is not specified.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">4</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;T></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Internal T number of the tool (optional).</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">If this parameter is not specified or if its value is "0", then the tool stored in &lt;Stat> is used.</p><p type="p_table_l" align="left">If the value of this parameter is "-1", then the T number of the active tool is used. It is also possible to explicitly specify the number of the active tool.</p><p type="p_table_l" align="left"><b>Note:</b><br />If &lt;Stat> is not specified, the actual status is used as the tool environment. Since &lt;T> = 0 refers to the T number saved in the tool environment, the active tool is used in this environment, i.e. parameters &lt;T> = 0 and &lt;T> = -1 have the same meaning in this special case.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">5</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;D></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Cutting edge of the tool (optional).</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">If this parameter is not specified, or if its value is "0", then the D number used is based on the source of the T number. If the T number from the tool environment is used, then the D number of the tool environment is also read, otherwise the D number of the currently active tool is read.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">6</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;DL></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Number of the offset dependent on the location (optional).</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">If this parameter is not specified, then the DL number used is based on the source of the T number. If the T number from the tool environment is used, then the D number of the tool environment is also read, otherwise the D number of the currently active tool is read.</p></td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Examples</h3><a id="table_9ea9554e-5c8a-4a36-b9fa-2928543cf8fb"></a> <a id="table_1"></a> <a id="table_9ea9554e-5c8a-4a36-b9fa-2928543cf8fb"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>GETTCOR(_LEN)</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Calculates the tool length of the currently active tool in the machine coordinate system allowing for all components.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>GETTCOR(_LEN,"CGW:W")</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Calculates the tool length for the active tool, consisting of the adapter or tool base dimension, geometry and wear. Further components, such as toolholder with orientation capability or kinematic transformation, are not considered. Output in the workpiece coordinate system.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>GETTCOR (_LEN,"-K:B")</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Calculates the complete tool length of the active tool without allowing for the length components of a possibly active kinematic transformation. Output in the basic coordinate system.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>GETTCOR (_LEN,":M","Testenv1",,3)</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Calculates the complete tool length in the machine coordinate system for the tool stored in the tool environment named "Testenv1". However, the calculation is performed for cutting edge number D3, regardless of the cutting edge number stored.</p></td></tr></table></p><p class="comment"></p></div>
    <p>See also:<br />    <a href="156663464971.html">Reading tool length or tool length components (GETTCOR): Additional information</a><br />    <a href="156663433611.html">Working with tool environments: Overview</a></p>
  </body>
</html>