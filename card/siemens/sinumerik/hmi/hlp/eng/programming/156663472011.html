<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Change tool components (SETTCOR) Examples</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowSample">
        <h1 class="title">Change tool components (SETTCOR) Examples</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <a name="block_1">
      </a>
      <h3 class="BlocktitleFirst">Examples</h3>
      <h4 class="Blocklabel">Example 1</h4>
      <a id="table_7ce143c6-ffac-de6e-9bd7-8921b3f2deb3">
      </a> <a id="table_0"></a> <a id="table_7ce143c6-ffac-de6e-9bd7-8921b3f2deb3"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EHB"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 DEF REAL _CORVAL[3]</td><td> </td></tr><tr valign="top"><td>N20 $TC_DP1[1,1]=120</td><td>; Milling tool</td></tr><tr valign="top"><td>N30 $TC_DP3[1,1]=10.0</td><td>; Geometry L1</td></tr><tr valign="top"><td>N40 $TC_DP12[1,1]=1.0</td><td>; Wear L1</td></tr><tr valign="top"><td>N50 _CORVAL[0]=0.333</td><td> </td></tr><tr valign="top"><td>N60 T1 D1 G17 G0</td><td> </td></tr><tr valign="top"><td>N70 R1=<b>SETTCOR(_CORVAL,"G",0,0,2)</b></td><td> </td></tr><tr valign="top"><td>N80 T1 D1 X0 Y0 Z0</td><td>; ==> MCS position X0.000 Y0.000 <b>Z1.333</b></td></tr><tr valign="top"><td>N90 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>&lt;CorComp> is "0", therefore, the coordinate value of the geometry component acting in the Z direction must be replaced by the offset value 0.333.</p><p>The resulting total tool length is thus: L1 = 0.333 + 1.000 = 1.333</p><h4 class="Blocklabel">Example 2</h4><a id="table_c02c46cb-c48d-fc41-58b7-4c7245023420"></a> <a id="table_1"></a> <a id="table_c02c46cb-c48d-fc41-58b7-4c7245023420"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EED"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 DEF REAL _CORVAL[3]</td><td> </td></tr><tr valign="top"><td>N20 $TC_DP1[1,1]=120</td><td>; Milling tool</td></tr><tr valign="top"><td>N30 $TC_DP3[1,1]=10.0</td><td>; Geometry L1</td></tr><tr valign="top"><td>N40 $TC_DP12[1,1]=1.0</td><td>; Wear L1</td></tr><tr valign="top"><td>N50 _CORVAL[0]=0.333</td><td> </td></tr><tr valign="top"><td>N60 T1 D1 G17 G0</td><td> </td></tr><tr valign="top"><td>N70 R1=<b>SETTCOR(_CORVAL,"W",0,1,2)</b></td><td> </td></tr><tr valign="top"><td>N80 T1 D1 X0 Y0 Z0</td><td>; ==> MCS position X0.000 Y0.000 Z11.333</td></tr><tr valign="top"><td>N90 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>&lt;CorComp> is "1", this means that the offset value of 0.333 – acting in the Z axis – is added to the wear value of 1.0.</p><p>The resulting total tool length is thus: L1 = 10.0 + 1.333 = 11.333</p><h4 class="Blocklabel">Example 3</h4><a id="table_0d912001-e863-6294-7dba-f1655021af7a"></a> <a id="table_2"></a> <a id="table_0d912001-e863-6294-7dba-f1655021af7a"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E6E"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 DEF REAL _CORVAL[3]</td><td> </td></tr><tr valign="top"><td>N20 $TC_DP1[1,1]=120</td><td>; Milling tool</td></tr><tr valign="top"><td>N30 $TC_DP3[1,1]=10.0</td><td>; Geometry L1</td></tr><tr valign="top"><td>N40 $TC_DP12[1,1]=1.0</td><td>; Wear L1</td></tr><tr valign="top"><td>N50 _CORVAL[0]=0.333</td><td> </td></tr><tr valign="top"><td>N60 T1 D1 G17 G0</td><td> </td></tr><tr valign="top"><td>N70 R1=<b>SETTCOR(_CORVAL,"GW",0,2,2)</b></td><td> </td></tr><tr valign="top"><td>N80 T1 D1 X0 Y0 Z0</td><td>; ==> MCS position X0.000 Y0.000 Z0.333</td></tr><tr valign="top"><td>N90 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>&lt;CorComp> is "2", therefore, the offset effective in the Z axis is entered in the geometry component (the old value is overwritten) and the wear value is deleted.</p><p>The resulting total tool length is thus: L1 = 0.333 + 0.0 = 0.333</p><h4 class="Blocklabel">Example 4</h4><a id="table_7b1e4088-0c93-7e2a-b8ef-b83342075f11"></a> <a id="table_3"></a> <a id="table_7b1e4088-0c93-7e2a-b8ef-b83342075f11"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E1G"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 DEF REAL _CORVAL[3]</td><td> </td></tr><tr valign="top"><td>N20 $TC_DP1[1,1]=120</td><td>; Milling tool</td></tr><tr valign="top"><td>N30 $TC_DP3[1,1]=10.0</td><td>; Geometry L1</td></tr><tr valign="top"><td>N40 $TC_DP12[1,1]=1.0</td><td>; Wear L1</td></tr><tr valign="top"><td>N50 _CORVAL[0]=0.333</td><td> </td></tr><tr valign="top"><td>N60 T1 D1 G17 G0</td><td> </td></tr><tr valign="top"><td>N70 R1=<b>SETTCOR(_CORVAL,"GW",0,3,2)</b></td><td> </td></tr><tr valign="top"><td>N80 T1 D1 X0 Y0 Z0</td><td>; ==> MCS position X0.000 Y0.000 Z11.333</td></tr><tr valign="top"><td>N90 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>&lt;CorComp> is "3", therefore, the wear value and compensation value are added to the geometry component and the wear component is deleted.</p><p>The resulting total tool length is thus: L1 = 11.333 + 0.0 = 11.333</p><h4 class="Blocklabel">Example 5</h4><a id="table_8f444948-7808-21ea-050b-aeb99728bb80"></a> <a id="table_4"></a> <a id="table_8f444948-7808-21ea-050b-aeb99728bb80"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EWAAC"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 DEF REAL _CORVAL[3]</td><td> </td></tr><tr valign="top"><td>N20 $TC_DP1[1,1]=120</td><td>; Milling tool</td></tr><tr valign="top"><td>N30 $TC_DP3[1,1]=10.0</td><td>; Geometry L1</td></tr><tr valign="top"><td>N40 $TC_DP12[1,1]=1.0</td><td>; Wear L1</td></tr><tr valign="top"><td>N50 _CORVAL[0]=0.333</td><td> </td></tr><tr valign="top"><td>N60 T1 D1 G17 G0</td><td> </td></tr><tr valign="top"><td>N70 R1=<b>SETTCOR(_CORVAL,"GW",0,3,0)</b></td><td> </td></tr><tr valign="top"><td>N80 T1 D1 X0 Y0 Z0</td><td>; ==> MCS position X0.333 Y0.000 Z11.000</td></tr><tr valign="top"><td>N90 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>&lt;CorComp> is "3", as in the previous example, but the compensation is now effective on the geometry axis with index "0" (X axis), which for a milling tool, is assigned to tool component L3 due to G17. As a consequence, when calling SETTCOR, tool parameters $TC_DP3 and $TC_DP12 are not influenced. Instead, the compensation value is entered in $TC_DP5.</p><h4 class="Blocklabel">Example 6</h4><a id="table_4c0bf7b1-263d-37cc-9a18-7b325d301b6c"></a> <a id="table_5"></a> <a id="table_4c0bf7b1-263d-37cc-9a18-7b325d301b6c"></a> <a id="table_5"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EQCAC"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 DEF REAL _CORVAL[3]</td><td> </td></tr><tr valign="top"><td>N20 $TC_DP1[1,1]=500</td><td>; Turning tool</td></tr><tr valign="top"><td>N30 $TC_DP3[1,1]=10.0</td><td>; Geometry L1</td></tr><tr valign="top"><td>N40 $TC_DP4[1,1]=15.0</td><td>; Geometry L2</td></tr><tr valign="top"><td>N50 $TC_DP12[1,1]=10.0</td><td>; Wear L1</td></tr><tr valign="top"><td>N60 $TC_DP13[1,1]=0.0</td><td>; Wear L2</td></tr><tr valign="top"><td>N70 _CORVAL[0]=5.0</td><td> </td></tr><tr valign="top"><td>N80 ROT Y-30</td><td> </td></tr><tr valign="top"><td>N90 T1 D1 G18 G0</td><td> </td></tr><tr valign="top"><td>N100 R1=<b>SETTCOR(_CORVAL,"GW",0,3,1)</b></td><td> </td></tr><tr valign="top"><td>N110 T1 D1 X0 Y0 Z0</td><td>; ==> MCS position X24.330 Y0.000 Z17.500</td></tr><tr valign="top"><td>N120 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>The tool is a turning tool. A frame rotation is activated in N80, causing the basic coordinate system (BCS) to be rotated in relation to the workpiece coordinate system (WCS). In the WCS, the compensation value (N70) acts on the geometry axis with index 1, i.e. on the X axis because G18 is active. Since &lt;CorMode> = 3, the tool wear in the direction of the X axis of the WCS must become zero once N100 has been executed.</p><p>The contents of the relevant tool parameters at the end of the program are thus:</p><p>$TC_DP3[1,1]: 21.830 ; geometry L1</p><p>$TC_DP4[1,1] : 21.830 ; geometry L2</p><p>$TC_DP12[1,1] : 2.500 ; wear L1</p><p>$TC_DP13[1,1] : -4.330  ; wear L2</p><p>The geometrical relationships are shown in the figure below: The total wear including _CORVAL is mapped onto the X' direction in the WCS. This produces point P2. The coordinates of this point (measured in X/Y coordinates) are entered in the geometry component of the tool. The difference vector P<sub>2</sub> - P<sub>1</sub> remains in the wear. The wear thus no longer has a component in the direction of _CORVAL.</p><a id="image_817827083_0"></a> <img border="0" src="images/167537855755.png" width="454" height="302"/><p>If the program example is continued after N110 with the following instructions, then the remaining wear is included completely in the geometry because the compensation is now effective in the Z' axis (parameter &lt;GeoAx> = 0):</p><a id="table_8f976dc6-cc43-794f-dd16-b502df0e9e9e"></a> <a id="table_6"></a> <a id="table_8f976dc6-cc43-794f-dd16-b502df0e9e9e"></a> <a id="table_6"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EJFAC"><colgroup><col width="100.0%"></colgroup><tr valign="top"><td>N120 _CORVAL[0]=0.0</td></tr><tr valign="top"><td>N130 R1=SETTCOR(_CORVAL,"GW",0,3,0)</td></tr><tr valign="top"><td>N140 T1 D1 X0 Y0 Z0 ; ==> MCS position X24.330 Y0.000 Z17.500</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Since the new compensation value is "0", the total tool length and thus the position approached in N140 may not change. If _CORVAL were not equal to "0" in N120, a new total tool length and thus a new position in N140 would result, however, the wear component of the tool length would always be zero, i.e. the total tool length is subsequently always contained in the geometry component of the tool.</p><p>The same result as that achieved by calling the SETTCOR function with the &lt;CorComp> = 0 parameter twice can also be reached by calling &lt;CorComp> = 1 (vectorial compensation) just once:</p><a id="table_5bf9af5f-ba77-4b2f-9677-d02caac0a5ee"></a> <a id="table_7"></a> <a id="table_5bf9af5f-ba77-4b2f-9677-d02caac0a5ee"></a> <a id="table_7"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E3FAC"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 DEF REAL _CORVAL[3]</td><td> </td></tr><tr valign="top"><td>N20 $TC_DP1[1,1]=500</td><td>; Turning tool</td></tr><tr valign="top"><td>N30 $TC_DP3[1,1]=10.0</td><td>; Geometry L1</td></tr><tr valign="top"><td>N40 $TC_DP4[1,1]=15.0</td><td>; Geometry L2</td></tr><tr valign="top"><td>N50 $TC_DP12[1,1]=10.0</td><td>; Wear L1</td></tr><tr valign="top"><td>N60 $TC_DP13[1,1]=0.0</td><td>; Wear L2</td></tr><tr valign="top"><td>N70 _CORVAL[0]=0.0</td><td> </td></tr><tr valign="top"><td>N71 _CORVAL[1]=5.0</td><td> </td></tr><tr valign="top"><td>N72 _CORVAL[2]=0.0</td><td> </td></tr><tr valign="top"><td>N80 ROT Y-30</td><td> </td></tr><tr valign="top"><td>N90 T1 D1 G18 G0</td><td> </td></tr><tr valign="top"><td>N100 R1=<b>SETTCOR(_CORVAL,"GW",1,3,1)</b></td><td> </td></tr><tr valign="top"><td>N110 T1 D1 X0 Y0 Z0</td><td>; ==> MCS position X24.330 Y0.000 Z17.500</td></tr><tr valign="top"><td>N120 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>In this case, all wear components of the tool are set to zero immediately after the first call of SETTCOR in N100.</p><h4 class="Blocklabel">Example 7</h4><a id="table_0d2f0538-bb38-b1f7-21d4-507f92e29a41"></a> <a id="table_8"></a> <a id="table_0d2f0538-bb38-b1f7-21d4-507f92e29a41"></a> <a id="table_8"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EMIAC"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 DEF REAL _CORVAL[3]</td><td> </td></tr><tr valign="top"><td>N20 $TC_DP1[1,1]=500</td><td>; Turning tool</td></tr><tr valign="top"><td>N30 $TC_DP3[1,1]=10.0</td><td>; Geometry L1</td></tr><tr valign="top"><td>N40 $TC_DP4[1,1]=15.0</td><td>; Geometry L2</td></tr><tr valign="top"><td>N50 $TC_DP12[1,1]=10.0</td><td>; Wear L1</td></tr><tr valign="top"><td>N60 $TC_DP13[1,1]=0.0</td><td>; Wear L2</td></tr><tr valign="top"><td>N70 _CORVAL[0]=5.0</td><td> </td></tr><tr valign="top"><td>N80 ROT Y-30</td><td> </td></tr><tr valign="top"><td>N90 T1 D1 G18 G0</td><td> </td></tr><tr valign="top"><td>N100 R1=<b>SETTCOR(_CORVAL,"GW",3,3)</b></td><td> </td></tr><tr valign="top"><td>N110 T1 D1 X0 Y0 Z0</td><td>; ==> MCS position X25.000 Y0.000 Z15.000</td></tr><tr valign="top"><td>N120 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>When compared to example 6, parameter &lt;CorComp> = 3, and so the &lt;GeoAx> parameter can be omitted. The value contained in _CORVAL[0] now acts immediately on the tool length component L1, the rotation in N80 has no effect on the result, the wear components in $TC_DP12 are included in the geometry component together with _CORVAL[0], with the result that the total tool length is stored in the geometry component of the tool, due to $TC_DP13, after the first SETTCOR call in N100.</p><h4 class="Blocklabel">Example 8</h4><a id="table_d08f45ba-84bf-9bcf-1ef3-37d49c352937"></a> <a id="table_9"></a> <a id="table_d08f45ba-84bf-9bcf-1ef3-37d49c352937"></a> <a id="table_9"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EUKAC"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 DEF REAL _CORVAL[3]</td><td> </td></tr><tr valign="top"><td>N20 $TC_DP1[1,1]=500</td><td>; Turning tool</td></tr><tr valign="top"><td>N30 $TC_DP3[1,1]=10.0</td><td>; Geometry L1</td></tr><tr valign="top"><td>N40 $TC_DP4[1,1]=15.0</td><td>; Geometry L2</td></tr><tr valign="top"><td>N50 $TC_DP5[1,1]=20.0</td><td>; Geometry L3</td></tr><tr valign="top"><td>N60 $TC_DP12[1,1]=10.0</td><td>; Wear L1</td></tr><tr valign="top"><td>N70 $TC_DP13[1,1]=0.0</td><td>; Wear L2</td></tr><tr valign="top"><td>N80 $TC_DP14[1,1]=0.0</td><td>; Wear L3</td></tr><tr valign="top"><td>N90 $SC_WEAR_SIGN=TRUE</td><td> </td></tr><tr valign="top"><td>N100 _CORVAL[0]=10.0</td><td> </td></tr><tr valign="top"><td>N110 _CORVAL[1]=15.0</td><td> </td></tr><tr valign="top"><td>N120 _CORVAL[2]=5.0</td><td> </td></tr><tr valign="top"><td>N130 ROT Y-30</td><td> </td></tr><tr valign="top"><td>N140 T1 D1 G18 G0</td><td> </td></tr><tr valign="top"><td>N150 R1=<b>SETTCOR(_CORVAL,"W",1,1)</b></td><td> </td></tr><tr valign="top"><td>N160 T1 D1 X0 Y0 Z0</td><td>; ==> MCS position X7.990 Y25.000 Z31.160</td></tr><tr valign="top"><td>N170 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Setting data:SD42930 $SC_WEAR_SIGN is enabled in N90, i.e. the wear must be evaluated with a negative sign. The compensation is vectorial (&lt;CorComp> = 1), and the compensation vector must be added to the wear (&lt;CorMode> = 1). The geometrical relationships in the Z/X plane are shown in the diagram below:</p><a id="image_817841803_0"></a> <img border="0" src="images/167538003723.png" width="454" height="302"/><a id="table_"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_legend" border="0"><colgroup><col width="6.9%"><col width="93.1%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">①</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Geometry L1 = 10, L2 = 15</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">②</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Wear L1 = 10, L2 = 0 (negative evaluation)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">③</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Original tool length</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">④</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Resulting wear component</p></td></tr></table></p><p>The geometry component of the tool remains unchanged due to &lt;CorMode> = 1. The compensation vector defined in the WCS (rotation around the y axis) must be included in the wear component such that the total tool length in Fig. 3 refers to point P<sub>2</sub>. Therefore, the resulting wear component of the tool is given by the distance of the two points P<sub>1</sub> and P<sub>2</sub>.<br />However, since the wear is evaluated negatively, due to setting data SD42930 $SC_WEAR_SIGN, the compensation determined in this way has to be entered in the compensation memory with a negative sign. The contents of the relevant tool parameters at the end of the program are thus:</p><p>$TC_DP3[1,1]: 10.000 ; geometry L1 (unchanged)</p><p>$TC_DP4[1,1] : 15.000 ; geometry L2 (unchanged)</p><p>$TC_DP5[1,1]: 10.000 ; geometry L3 (unchanged)</p><p>$TC_DP12[1,1] : 2.010 ; wear L1 (= 10 - 15 * cos(30) + 10 * sin(30))</p><p>$TC_DP13[1,1] : -16.160 ; wear L2 (= -15 * sin(30) - 10 * cos(30))</p><p>$TC_DP14[1,1] : -5.000 ; wear L3</p><p>The effect of setting data SD42930 $SC_WEAR_SIGN on the L3 component in the Y direction can be recognized without the additional complication caused by the frame rotation.</p></div>
  </body>
</html>