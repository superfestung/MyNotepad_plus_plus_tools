<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Traversing axes, to position (POS)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Traversing axes, to position (POS)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>With the <code>POS</code> command, an axis can be traversed using a synchronized action. The axis is then called the command axis. It is possible to traverse the axis alternating via the part program and the synchronized action. If a command axis traversed via synchronized actions is subsequently traversed via the part program, a preprocessing stop with reorganization (<code>STOPRE</code>) is executed in the channel of the part program.  </p>
      <p>Example 1: Alternate traversing via part program and synchronized action</p>
      <a id="table_bd87dbfe-3153-4678-8d95-8f2f7453981c">
      </a> <a id="table_0"></a> <a id="table_bd87dbfe-3153-4678-8d95-8f2f7453981c"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E5"><colgroup><col width="46.9%"><col width="53.1%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 G01 <b>X100</b> Y200 F1000</td><td>; Traversing via part program</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; Traversing via static synchronized action when input 1 is set</td></tr><tr valign="top"><td colspan="2">N20 ID=1 WHEN $A_IN[1]==1 DO <b>POS[X]=150</b> FA[X]=200</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td>CANCEL(1)</td><td>; Deselect synchronized action</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; Traversing again via part program => implicit preprocessing stop ; with reorganization, if the X axis in the meantime has been ; traversed via synchronized action</td></tr><tr valign="top"><td colspan="2">N100 G01 <b>X240</b> Y200 F1000</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Example 2: Alternate traversing of the X-axis via two synchronized actions</p><p>If the traversing motion of one synchronized action is still active when the traversing motion of the other synchronized action is started, the second traversing motion replaces the first.</p><a id="table_4d878a6b-57b3-43bb-818a-0ba8e76481ed"></a> <a id="table_1"></a> <a id="table_4d878a6b-57b3-43bb-818a-0ba8e76481ed"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EAD"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Program code</p></th></tr><tr valign="top"><td>; 1st traversing motion</td></tr><tr valign="top"><td>ID=1 EVERY $A_IN[1]>=1 DO POS[V]=100 FA[V]=560</td></tr><tr valign="top"><td>; 2nd traversing motion</td></tr><tr valign="top"><td>ID=2 EVERY $A_IN[2]>=1 DO POS[V]=$AA_IM[V] FA[V]=790</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_1"></a><h3 class="Blocktitle">Dimensions: Absolute/incremental</h3><p>The commands <code>G90</code>/<code>G91</code> to specify the dimensions (absolute/incremental) cannot be programmed in synchronized actions. Therefore by default, the dimensions that were active in the part program at the time of execution of the synchronized action are also effective in the synchronized action.</p><p>The following commands can be programmed in the action part to specify the dimensions within a synchronized action:</p><a id="table_292dd62f-7f3a-43bb-b8cf-9f993020e72f"></a> <a id="table_2"></a> <a id="table_292dd62f-7f3a-43bb-b8cf-9f993020e72f"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="15.6%"><col width="84.3%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Command</p></th><th><p type="p_table_lb" align="left">Meaning</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>IC(…)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Incremental</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>AC(…)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Absolute</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>DC(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Direct (position rotary axis via shortest route)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ACN(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Position modulo rotary axis absolutely in negative direction of motion</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ACP(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Position modulo rotary axis absolutely in positive direction of motion</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CAC(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Traverse axis to coded position absolutely</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CIC(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Traverse axis to coded position incrementally</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CDC(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Traverse rotary axis to coded position via shortest route</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CACN(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Traverse modulo rotary axis to coded position in negative direction</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CACP(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Traverse modulo rotary axis to coded position in positive direction</p></td></tr></table></p><p>Examples:</p><a id="table_9327da41-2d78-403a-96ed-e3cf93efcd87"></a> <a id="table_3"></a> <a id="table_9327da41-2d78-403a-96ed-e3cf93efcd87"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EEH"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Program code</p></th></tr><tr valign="top"><td>; Incremental traversing by 10 mm</td></tr><tr valign="top"><td>ID=1 EVERY G710 $AA_IM[B]>75 DO<b> </b>POS[X]=<b>IC(10)</b></td></tr><tr valign="top"><td>...</td></tr><tr valign="top"><td>; Absolute traversing</td></tr><tr valign="top"><td>ID=1 EVERY G710 $AA_IM[B]>75 DO POS[X]=<b>AC($AA_MW[V]-$AA_IM[W]+13.5)</b></td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_2"></a><h3 class="Blocktitle">Behavior with active axis-specific frames</h3><p>Whether programmable and settable axis-specific frames and tool length compensations are included in synchronized actions, depends on the following MD setting:</p><p>MD32074 $MA_FRAME_OR_CORRPOS_NOTALLOWED</p><a id="table_5a370777-c3a4-aa65-42c1-b4acccf9159c"></a> <a id="table_4"></a> <a id="table_5a370777-c3a4-aa65-42c1-b4acccf9159c"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="7.5%"><col width="15.0%"><col width="77.5%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Bit</p></th><th><p type="p_table_lb" align="left">Value</p></th><th><p type="p_table_lb" align="left">Meaning</p></th></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">9</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">0 (default)</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The active axis-specific frame and/or tool length compensation which is active in the part program at the time of execution takes effect in the synchronized action which is executed parallel to the part program. </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Axis-specific frames and tool length compensation are <b>not</b> considered for command axes.</p></td></tr></table></p><p>Example 1: Traversing with <b>active</b> frames / tool length compensations (bit 9 == 0):</p><a id="table_14651225-f1c1-4f82-b21c-4ca2c5a1cd86"></a> <a id="table_5"></a> <a id="table_14651225-f1c1-4f82-b21c-4ca2c5a1cd86"></a> <a id="table_5"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E5BAC"><colgroup><col width="46.9%"><col width="53.1%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N100 TRANS X20</td><td>; Work offset in X: 20 mm.</td></tr><tr valign="top"><td colspan="2">; Synchronized action: The X axis traverses to position 60 mm</td></tr><tr valign="top"><td colspan="2">IDS=1 EVERY G710 $A_IN==1 DO POS[X]=40</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; Work offset in X: -10 mm. => ; Synchronized action: The X axis now traverses to position 30 mm</td></tr><tr valign="top"><td colspan="2">N130 TRANS X-10</td></tr><tr valign="top"><td colspan="2">...</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Example 2: Traversing with <b>deactivated</b> frames / tool length compensations (bit 9 == 1):</p><a id="table_b4162caa-d234-42d1-999a-80d045e0dfc3"></a> <a id="table_6"></a> <a id="table_b4162caa-d234-42d1-999a-80d045e0dfc3"></a> <a id="table_6"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EPDAC"><colgroup><col width="37.3%"><col width="62.7%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N100 TRANS X=0.001</td><td>; Work offset in X: 0.001 degrees</td></tr><tr valign="top"><td>N120 POS[X]=270</td><td>; X traverses to position 270.001 degrees</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; With $A_IN=1, X traverses to position 180.000 degrees.</td></tr><tr valign="top"><td colspan="2">IDS=1 EVERY G710 $A_IN==1 DO POS[X]=180</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; X traverses to position 90.001 degrees</td></tr><tr valign="top"><td colspan="2">N130 POS[X]=90</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; Coded position 1 = 100 degrees => X traverses to 100.001 degrees</td></tr><tr valign="top"><td colspan="2">N140 POS[X]=CAC(1)</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; Coded position 2 = 200 degrees => X traverses to 200.000 degrees</td></tr><tr valign="top"><td colspan="2">N150 POS[X]=CIC(1)</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">If a command axis travels to indexing positions incrementally, the axis-specific frames have <b>no</b> effect on this command axis.</p></td></tr></table><h4 class="Blocklabel">Non-modal suppression of the active frame with G153</h4><p>If MD32074 is set so that active axis-specific frames and tool offsets always have to be taken into account for command axes (bit 9 == 0), the active frame can be suppressed in a non-modal synchronized action, if necessary, with <code>G153</code>. For this purpose, the block must be turned into an executable block with the <code>G153</code> command via program code <code>G4 F0.1</code>. In this case, it must be ensured that the dwell time is at least 0.1. This is the only way to ensure that the processing time in the interpolator is sufficient.</p><p class="comment">Examples:</p><a id="table_ba346f07-d798-ff55-50f7-6d4e7cc6eac6"></a> <a id="table_7"></a> <a id="table_ba346f07-d798-ff55-50f7-6d4e7cc6eac6"></a> <a id="table_7"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EIGAC"><colgroup><col width="91.8%"><col width="8.2%"></colgroup><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>WHEN TRUE DO POS[Z]=401 FA[Z]=$MA_MAX_AX_VELO[Z]</td><td> </td></tr><tr valign="top"><td><b>G153 G4 F0.1</b></td><td> </td></tr><tr valign="top"><td colspan="2">...</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a id="table_98720d85-ab8e-138e-1584-3f602b52c55d"></a> <a id="table_8"></a> <a id="table_98720d85-ab8e-138e-1584-3f602b52c55d"></a> <a id="table_8"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EBHAC"><colgroup><col width="91.8%"><col width="8.2%"></colgroup><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>WHILE $AA_IM[Z]&lt;400</td><td> </td></tr><tr valign="top"><td>ENDWHILE</td><td> </td></tr><tr valign="top"><td>WHEN TRUE DO POS[Z]=400</td><td> </td></tr><tr valign="top"><td><b>G153 G4 F0.1</b></td><td> </td></tr><tr valign="top"><td colspan="2">...</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_3"></a><h3 class="Blocktitle">Takeover of the control of a command axis by the PLC</h3><p>The control of a command axis that has been started via a static synchronized action (<code>IDS</code>) is taken over by the PLC irrespective of the status of the part program containing the synchronized action:</p><p class="comment"><code>&lt;Axis>.plcCtrl.out.requestPlcCtrl</code> (request control by the PLC for autonomous single-axis operations)</p><h4 class="Blocklabel">References</h4><p class="comment">Function Manual Axes and Spindles</p><a name="block_4"></a><h3 class="Blocktitle">Parameterizable axis status</h3><p>The behavior with regard to the axis status after the end of the part program and NC Reset can be parameterized via the following machine data:</p><p>MD30450 $MA_IS_CONCURRENT_POS_AX[&lt;axis>] = &lt;value>   </p><a id="table_ad662fbd-f90c-489f-ba1d-82a2d6d48dba"></a> <a id="table_9"></a> <a id="table_ad662fbd-f90c-489f-ba1d-82a2d6d48dba"></a> <a id="table_9"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="10.6%"><col width="44.7%"><col width="44.7%"></colgroup><tr valign="top"><th><p type="p_table_cb" align="center">&lt;value></p></th><th><p type="p_table_cb" align="center">Axis status before PP end / NC RESET <sup>1)</sup></p></th><th><p type="p_table_cb" align="center">Axis status after PP end / NC RESET <sup>1)</sup></p></th></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Channel axis</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Channel axis</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Command axis</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Channel axis</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">1</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Channel axis</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Command axis</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">1</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Command axis</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Command axis</p></td></tr></table></p><a name="block_5"></a><h3 class="Blocktitle">PLC signals</h3><a id="table_e849b817-f8dd-d3c2-26d6-a2643b47f3c7"></a> <a id="table_10"></a> <a id="table_e849b817-f8dd-d3c2-26d6-a2643b47f3c7"></a> <a id="table_10"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="45.0%"><col width="35.0%"><col width="20.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Basic Program Plus</p></th><th colspan="2"><p type="p_table_lb" align="left">Basic Program</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Axis>.plcCtrl.out.requestPlcCtrl</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_Axis*.A_PLCAxis</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB31, ... .DBX28.7</p></td></tr></table></p></div>
  </body>
</html>