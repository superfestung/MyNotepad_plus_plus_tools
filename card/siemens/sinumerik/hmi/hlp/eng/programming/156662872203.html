<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Spline interpolation (ASPLINE, BSPLINE, CSPLINE, BAUTO, BNAT, BTAN, EAUTO, ENAT, ETAN, PW, SD, PL)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Spline interpolation (ASPLINE, BSPLINE, CSPLINE, BAUTO, BNAT, BTAN, EAUTO, ENAT, ETAN, PW, SD, PL)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Randomly curved workpiece contours cannot be precisely defined in an analytic form. This is the reason why these type of contours are approximated using a limited number of points along curves, e.g. when digitizing surfaces. The points along the curve must be connected to define a contour in order to generate the digitized surface of a workpiece. Spline interpolation permits this.</p>
      <p>A spline defines a curve which is formed from polynomials of 2nd or 3rd degree. The characteristics of the points along the curve of a spline can be defined <b>depending on the spline type being used</b>. </p>
      <a id="image_792273547_0">
      </a> <img border="0" src="images/167483849867.png" width="340" height="302"/><p>For SINUMERIK solution line, the following spline types are available:</p><ul><li><p>A spline</p></li><li><p>B spline</p></li><li><p>C spline</p></li></ul><a name="block_1"></a><h3 class="Blocktitle">Syntax</h3><p>General:</p>ASPLINE X... Y... Z... A... B... C...BSPLINE X... Y... Z... A... B... C...CSPLINE X... Y... Z... A... B... C...<p>For a B spline, the following can be additionally programmed:</p>PW=&lt;n>SD=2PL=&lt;value><p>For A and C splines, the following can be additionally programmed:</p><p><code>BAUTO</code> / <code>BNAT</code> / <code>BTAN</code></p><p><code>EAUTO</code> / <code>ENAT</code> / <code>ETAN</code></p><a name="block_2"></a><h3 class="Blocktitle">Meaning</h3><a id="table_cd39e7f9-b08a-4a67-a84d-328c0af1f127"></a> <a id="table_0"></a> <a id="table_cd39e7f9-b08a-4a67-a84d-328c0af1f127"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="26.5%"><col width="20.4%"><col width="11.3%"><col width="41.7%"></colgroup><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><b>Spline interpolation type:</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ASPLINE</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Command to activate A spline interpolation</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>BSPLINE</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Command to activate B spline interpolation</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CSPLINE</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Command to activate C spline interpolation</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The <code>ASPLINE</code>, <code>BSPLINE</code> and <code>CSPLINE</code> commands are modally effective and belong to the group of motion commands.</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><b><br />Points along a curve and check points:</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>X... Y... Z...</code><br /><code>A... B... C...</code></p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Positions in Cartesian coordinates</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><br /><b>Point weight (only B spline):</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>PW</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Using the <code>PW</code> command, a so-called "point weight" can be programmed for every point along the curve.</p></td></tr><tr valign="top"><td rowspan="5"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;n></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">"Point weight"</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Range of values:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">0 ≤ n ≤ 3</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Increment:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">0.0001</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Effect:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">n > 1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The checkpoint attracts the curve more significantly.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">n &lt; 1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The checkpoint attracts the curve less significantly.</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><b><br />Spline degree (only B spline):</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>SD</code>:<br /></p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">A third degree polygon is used as standard, However, a second degree polygon can also be used by programming <code>SD=2</code>.</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><b><br />Distance between nodes (only B spline):</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>PL</code> :</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The distances between nodes are suitably calculated internally. The control can also machine pre-defined node clearances that are specified in the so-called parameter-interval-length using the <code>PL</code> command.</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;value></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Parameter interval length</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Range of values:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">As for path dimension</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><b><br />Transitional behavior at the start of the spline curve (only A or C spline):</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>BAUTO</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">No specifications for the transitional behavior. The start is determined by the position of the first point.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>BNAT</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Zero curvature</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>BTAN</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Tangential transition to the previous block (delete position)</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><b><br />Transitional behavior at the end of the spline curve (only A or C spline):</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>EAUTO</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">No specifications for the transitional behavior. The end is determined by the position of the last point.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ENAT</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Zero curvature</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ETAN</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Tangential transition to the previous block (delete position)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"></p><a id="image_792303883_0"></a> <img border="0" src="images/167483949579.png" width="321" height="302"/><p type="p_table_l" align="left"></p> </td></tr></table></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">The programmable transitional behavior has no influence on the B spline. The B spline is always tangential to the check polygon at its start and end points.</p></td></tr></table><a name="block_3"></a><h3 class="Blocktitle">Supplementary conditions</h3><ul><li><p>Tool radius compensation may be used.</p></li><li><p>Collision monitoring is carried out in the projection in the plane.</p></li></ul><a name="block_4"></a><h3 class="Blocktitle">Examples</h3><h4 class="Blocklabel">Example 1: B spline</h4><a id="table_f2fd115c-7e19-419e-bb82-a6792c60f40d"></a> <a id="table_1"></a> <a id="table_f2fd115c-7e19-419e-bb82-a6792c60f40d"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EEHAC"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th>Program code 1 (all weights 1)</th></tr><tr valign="top"><td>N10 G1 X0 Y0 F300 G64</td></tr><tr valign="top"><td>N20 BSPLINE</td></tr><tr valign="top"><td>N30 X10 Y20</td></tr><tr valign="top"><td>N40 X20 Y40</td></tr><tr valign="top"><td>N50 X30 Y30</td></tr><tr valign="top"><td>N60 X40 Y45</td></tr><tr valign="top"><td>N70 X50 Y0</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a id="table_bc7e9dd8-7c6f-461d-a652-d39e68cc606a"></a> <a id="table_2"></a> <a id="table_bc7e9dd8-7c6f-461d-a652-d39e68cc606a"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EFIAC"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th>Program code 2 (different weights)</th></tr><tr valign="top"><td>N10 G1 X0 Y0 F300 G64</td></tr><tr valign="top"><td>N20 BSPLINE </td></tr><tr valign="top"><td>N30 X10 Y20 PW=2</td></tr><tr valign="top"><td>N40 X20 Y40</td></tr><tr valign="top"><td>N50 X30 Y30 PW=0.5</td></tr><tr valign="top"><td>N60 X40 Y45</td></tr><tr valign="top"><td>N70 X50 Y0</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a id="table_f1c4a6bf-4ef7-41f7-b197-181234c4db7c"></a> <a id="table_3"></a> <a id="table_f1c4a6bf-4ef7-41f7-b197-181234c4db7c"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EGJAC"><colgroup><col width="60.0%"><col width="40.0%"></colgroup><tr valign="top"><th>Program code 3 (check polygon)</th><th>Comment</th></tr><tr valign="top"><td>N10 G1 X0 Y0 F300 G64</td><td> </td></tr><tr valign="top"><td>N20 </td><td>; n.a.</td></tr><tr valign="top"><td>N30 X10 Y20</td><td> </td></tr><tr valign="top"><td>N40 X20 Y40</td><td> </td></tr><tr valign="top"><td>N50 X30 Y30</td><td> </td></tr><tr valign="top"><td>N60 X40 Y45</td><td> </td></tr><tr valign="top"><td>N70 X50 Y0</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a id="image_792346123_0"></a> <img border="0" src="images/167484066955.png" width="340" height="321"/><p></p><h4 class="Blocklabel">Example 2: C spline, zero curvature at the start and at the end</h4><a id="table_322a28d1-c927-4466-ae0e-12af2fcafac5"></a> <a id="table_4"></a> <a id="table_322a28d1-c927-4466-ae0e-12af2fcafac5"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="E6KAC"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th>Program code</th></tr><tr valign="top"><td>N10 G1 X0 Y0 F300</td></tr><tr valign="top"><td>N15 X10</td></tr><tr valign="top"><td>N20 BNAT ENAT</td></tr><tr valign="top"><td>N30 CSPLINE X20 Y10</td></tr><tr valign="top"><td>N40 X30</td></tr><tr valign="top"><td>N50 X40 Y5</td></tr><tr valign="top"><td>N60 X50 Y15</td></tr><tr valign="top"><td>N70 X55 Y7</td></tr><tr valign="top"><td>N80 X60 Y20</td></tr><tr valign="top"><td>N90 X65 Y20</td></tr><tr valign="top"><td>N100 X70 Y0</td></tr><tr valign="top"><td>N110 X80 Y10</td></tr><tr valign="top"><td>N120 X90 Y0</td></tr><tr valign="top"><td>N130 M30</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a id="image_792334219_0"></a> <img border="0" src="images/167484003083.png" width="340" height="227"/><p></p><h4 class="Blocklabel">Example 3: Spline interpolation (A spline) and coordinate transformation (ROT)</h4><p>Main program:</p><a id="table_d770e0c4-6d35-4d95-8a30-116aadb127a4"></a> <a id="table_5"></a> <a id="table_d770e0c4-6d35-4d95-8a30-116aadb127a4"></a> <a id="table_5"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E5MAC"><colgroup><col width="43.4%"><col width="56.6%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 G00 X20 Y18 F300 G64</td><td>; Approach starting point.</td></tr><tr valign="top"><td>N20 ASPLINE</td><td>; Activate interpolation type A spline.</td></tr><tr valign="top"><td>N30 CONTOUR</td><td>; First subprogram call.</td></tr><tr valign="top"><td>N40 ROT Z-45</td><td>; Coordinate transformation: Rotation of the WCS through -45° around the Z axis.</td></tr><tr valign="top"><td>N50 G00 X20 Y18</td><td>; Approach contour starting point.</td></tr><tr valign="top"><td>N60 CONTOUR</td><td>; Second subprogram call.</td></tr><tr valign="top"><td>N70 M30</td><td>; End of program</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p></p><p>Subprogram "contour" (includes the coordinates of the points along the curve):</p><a id="table_6012b692-d520-49e9-9dc4-553f29a76bbe"></a> <a id="table_6"></a> <a id="table_6012b692-d520-49e9-9dc4-553f29a76bbe"></a> <a id="table_6"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EROAC"><colgroup><col width="66.7%"><col width="33.3%"></colgroup><tr valign="top"><th>Program code</th><th> </th></tr><tr valign="top"><td>N10 X20 Y18</td><td> </td></tr><tr valign="top"><td>N20 X10 Y21</td><td> </td></tr><tr valign="top"><td>N30 X6 Y31</td><td> </td></tr><tr valign="top"><td>N40 X18 Y31</td><td> </td></tr><tr valign="top"><td>N50 X13 Y43</td><td> </td></tr><tr valign="top"><td>N60 X22 Y42</td><td> </td></tr><tr valign="top"><td>N70 X16 Y58</td><td> </td></tr><tr valign="top"><td>N80 X33 Y51</td><td> </td></tr><tr valign="top"><td>N90 M1</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>In addition to the spline curve, resulting from the example program (ASPLINE), the following diagram also contains the spline curves that would have been obtained when activating either B or C spline interpolation (BSPLINE, CSPLINE):</p><a id="image_9125448459_0"></a> <img border="0" src="images/167484237451.png" width="340" height="321"/></div>
    <p>See also:<br />    <a href="156662875915.html">Spline interpolation (ASPLINE, BSPLINE, CSPLINE, BAUTO, BNAT, BTAN, EAUTO, ENAT, ETAN, PW, SD, PL): Further Information</a><br />    <a href="156662878603.html">Spline group (SPLINEPATH)</a></p>
  </body>
</html>