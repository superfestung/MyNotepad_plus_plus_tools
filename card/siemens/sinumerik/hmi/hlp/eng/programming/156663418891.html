<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Activating the modification of the offset data for rotatable tools (CUTMOD, CUTMODK): Further information</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Activating the modification of the offset data for rotatable tools (CUTMOD, CUTMODK): Further information</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">More information</h3>
      <h4 class="Blocklabel">Reading modified offset data</h4>
      <p>The modified offset data is provided in the following system variables and OPI variables:</p>
      <a id="table_871c29fe-fc15-99f7-b294-46867ba4b8ee">
      </a> <a id="table_0"></a> <a id="table_871c29fe-fc15-99f7-b294-46867ba4b8ee"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="33.3%"><col width="33.3%"><col width="33.3%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Meaning</p></th><th><p type="p_table_lb" align="left">System variable</p></th><th><p type="p_table_lb" align="left">OPI variable</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Cutting edge position</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_AD[2] </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">cuttEdgeParam2</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Holder angle</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_AD[10]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">cuttEdgeParam10</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Cutting direction</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_AD[11]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">cuttEdgeParam11</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Clearance angle</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_AD[24]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">cuttEdgeParam24</p></td></tr></table></p><p>The data is always modified with respect to the corresponding tool parameters ($TC_DP2[..., ...] etc.) when the "Modification of the offset data for rotatable tools" function was activated with the <code>CUTMOD</code> or <code>CUTMODK</code> command and the tool was rotated by an orientable tool carrier or a suitable orientation transformation.</p><h4 class="Blocklabel">Further function-relevant system variables</h4><a id="table_ada02793-60c2-4ea0-aa30-c84b4c876734"></a> <a id="table_1"></a> <a id="table_ada02793-60c2-4ea0-aa30-c84b4c876734"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="24.0%"><col width="8.0%"><col width="68.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">System variable</p></th><th colspan="2"><p type="p_table_lb" align="left">Meaning</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_CUTMOD_ANG /</p><p type="p_table_l" align="left">$AC_CUTMOD_ANG</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Returns the angle through which a tool was rotated in the active machining plane and the modified cutting edge data available for the CUTMOD and CUTMODK functions.</p><p type="p_table_l" align="left"></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_CUTMOD /</p><p type="p_table_l" align="left">$AC_CUTMOD</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Reads the currently valid value that was last programmed with the CUTMOD command (number of the tool carrier for which the modification of the offset data should be activated).</p><p type="p_table_l" align="left">If the last programmed value was <code>CUTMOD = -2</code> (activation with the currently active orientable tool carrier), then the value "-2" is not returned in the system variable, but rather the number of the orientable tool carrier active at the time of programming.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_CUTMODK /</p><p type="p_table_l" align="left">$AC_CUTMODK</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Reads the name of the transformation under which the currently valid data set for the "Modification of the offset data" was created.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_CUT_INV /</p><p type="p_table_l" align="left">$AC_CUT_INV</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Supplies the value TRUE if the tool is rotated so that the spindle direction of rotation must be inverted. To do this, the following four conditions must be fulfilled in the block to which the read operations refer:</p><ol class="table"><li><p>If a turning or grinding tool is active<br />(tool types 400 to 599 and / or SD42950 $SC_TOOL_LENGTH_TYPE = 2).</p></li><li><p>The modification of the offset data was activated with the <code>CUTMOD</code> or <code>CUTMODK</code> command.</p></li><li><p>An orientable tool carrier or an orientation transformation defined with kinematic chains is active, which was selected with the CUTMOD or CUTMODK command.</p></li><li><p>The tool is rotated by the orientable tool carrier or the kinematic orientation transformation so that the resulting normal of the tool cutting edge is rotated with respect to the initial position by more than 90° (typically 180°).</p></li></ol><p type="p_table_l" align="left">If at least one of the specified four conditions is not fulfilled, the variable returns the value FALSE. For tools whose cutting edge position is not defined, the value of the variable is always FALSE.</p></td></tr><tr valign="top"><td rowspan="11"><p type="p_table_l" style="margin-top: 4px" align="left">$P_CUTMOD_ERR</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Error state after the last call of the CUTMOD function</p><p type="p_table_l" align="left">The CUTMOD function can also be called implicitly for a tool change. At a reset, the variable is reset to zero. It is reset at every tool change and, if required, rewritten.</p><p type="p_table_l" align="left">The variable is bit-coded. The bits have the following meanings:</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 0:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">No valid cut direction is defined for the active tool.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 1:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The cutting edge angle (clearance angle and holder angle) of the active tool are both zero.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 2:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The clearance angle of the active tool has an impermissible value (&lt; 0° or > 180°).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 3:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The holder angle of the active tool has an impermissible value (&lt; 0° or > 90°).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 4:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The plate angle of the active tool has an impermissible value (&lt; 0° or > 90°).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 5:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The cutting edge position - holder angle combination of the active tool is not permitted (the holder angle must be ≤ 90° for cutting edge position 1 to 4; for cutting edge positions 5 to 8 it must be ≥ 90°).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 6:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Illegal rotation of the active tool.</p><p type="p_table_l" align="left">The tool was rotated out of the active machining plane by ± 90° (with a tolerance of about 1°). The cutting edge position is therefore no longer defined in the machining plane.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 7:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The cutting plate is not in the machining plane and the angle between the cutting plate and the machining plane exceeds the upper limit specified with the setting data SD42998 $SC_CUTMOD_PLANE_TOL.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 8:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The cutting plate is not in the machining plane. Angle α is greater than 1°. Angle α is the angle of rotation around the coordinate axis which is perpendicular to the axis of rotation of angle β as well as to the axis of rotation of angle γ (the X axis for G18).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 9:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Orientable tool carrier is active when CUTMOD = -3.</p></td></tr></table></p><p>All main run variables can be read in synchronized actions. A read access operation from the preprocessing generates a preprocessing stop.</p><h4 class="Blocklabel">Plane change</h4><p>To determine the modified cutting edge position, cutting direction and holder or clearance angle, the evaluation of the cutting edge in the active plane (G17 ... G19) is decisive.</p><p>However, if setting data SD42940 $SC_TOOL_LENGTH_CONST (change of the tool length component when selecting the plane) has a valid non-zero value (plus or minus 17, 18 or 19), its contents define the plane in which the relevant quantities are evaluated.</p><p>This priority rule of the setting data over the G code can be deactivated by setting bit 18 of the machine data $MC_TOOL_PARAMETER_DEF_MASK. This means that when this bit is set, the plane defined with the G command of group 6 is still valid.</p><h4 class="Blocklabel">Effectiveness of the modified cutting data</h4><p>The modified cutting edge position and the modified cutting edge reference point are immediately effective when programming, even for a tool that is already active. A tool does not have to be re-selected for this purpose.</p></div>
  </body>
</html>