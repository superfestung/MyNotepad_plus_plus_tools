<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Oscillation controlled by synchronized actions (OSCILL)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Oscillation controlled by synchronized actions (OSCILL)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>With this mode of oscillation, an infeed motion may only be executed at the reversal points or within defined reversal areas.     </p>
      <p>Depending on the requirements, the oscillation movement can be continued or stopped until the infeed has been executed completely.  </p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Programming</h3>
      <h4 class="Blocklabel">1. Define oscillation parameters</h4>
      <p>The parameters for oscillation should be defined before the movement block containing the assignment of infeed and oscillating axes and the infeed definition (see "<a href="156664094219.html">Asynchronous oscillation (OS, OSP1, OSP2, OST1, OST2, OSCTRL, OSNSC, OSE, OSB)</a>").</p>
      <a id="table_ef9b3464-7182-4a3f-bf55-6db60288592a">
      </a> <a id="table_0"></a> <a id="table_ef9b3464-7182-4a3f-bf55-6db60288592a"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="37.8%"><col width="62.1%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>OSP1[&lt;oscillating axis>]=</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Position of reversal point 1</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>OSP2[&lt;oscillating axis>]=</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Position of reversal point 2</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>OST1[&lt;oscillating axis>]=</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Stopping time at reversal point 1 in seconds</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>OST2[&lt;oscillating axis>]=</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Stopping time at reversal point 2 in seconds</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>FA[&lt;oscillating axis>]=</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Feed for oscillating axis</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>OSCTRL[&lt;oscillating axis>]=</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Set or reset options</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>OSNSC[&lt;oscillating axis>]=</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Number of sparking-out strokes</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>OSE[&lt;oscillating axis>]=</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">End position</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>WAITP(&lt;oscillating axis>)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Enable axis for oscillation</p></td></tr></table></p><h4 class="Blocklabel">2. Define motion-synchronous actions</h4><p>The following synchronization conditions can be defined:</p><ul><li><p>Suppress infeed until the oscillating axis is located within a reversal area(ii1, ii2) or at a reversal point (U1, U2).</p></li><li><p>Stop oscillation motion during infeed at reversal point.</p></li><li><p>Restart oscillation movement on completion of partial infeed.</p></li><li><p>Define start of next partial infeed.</p></li></ul><a id="table_df29ed23-0efe-4f15-b665-16d4e2207278"></a> <a id="table_1"></a> <a id="table_df29ed23-0efe-4f15-b665-16d4e2207278"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="32.0%"><col width="68.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>WHEN… … DO</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">when…, do…</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>WHENEVER … DO</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">whenever…, do…</p></td></tr></table></p><h4 class="Blocklabel">3. Assigning axes and defining infeed</h4><p>Assigning oscillating and infeed axes:</p>OSCILL[&lt;oscillating axis>]=(&lt;infeed axis 1>,&lt;infeed axis 2>,&lt;infeed axis 3>)Defining total and partial infeed:POSP[&lt;infeed axis>]=(&lt;end position>,&lt;partial length>,&lt;mode>)<a id="table_b0c0e1d8-bd25-41ed-b503-4f0a4ad491b0"></a> <a id="table_2"></a> <a id="table_b0c0e1d8-bd25-41ed-b503-4f0a4ad491b0"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="19.7%"><col width="80.2%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>OSCILL</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Assign infeed axis or axes for oscillating axis</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>POSP</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Define complete and partial infeeds (see Section "File and Program Management")</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>End position</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">End position for the infeed axis after all partial infeeds have been traversed.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>Partial length</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Length of the partial infeed at reversal point/reversal area</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>Mode</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Division of the complete infeed into partial infeeds</p><p type="p_table_l" align="left">= Two residual steps of equal size (default);</p><p type="p_table_l" align="left">= All partial infeeds of equal size</p></td></tr></table></p><a name="block_2"></a><h3 class="Blocktitle">Example</h3><p>No infeed must take place at reversal point 1. At reversal point 2, the infeed is to start at a distance of ii2 before reversal point 2 and the oscillating axis is not to wait at the reversal point for the end of the partial infeed. Axis Z is the oscillating axis and axis X the infeed axis.</p><a id="image_795318411_0"></a> <img border="0" src="images/167570265867.png" width="340" height="283" alt=""/><p class="imgtitle"></p><h4 class="Blocklabel">Parameters for oscillation</h4><a id="table_96f41312-fb1e-4ef7-8321-3c0807e7fb8a"></a> <a id="table_3"></a> <a id="table_96f41312-fb1e-4ef7-8321-3c0807e7fb8a"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E1AAC"><colgroup><col width="40.0%"><col width="60.0%"></colgroup><tr valign="top"><th>Program code </th><th>Comment</th></tr><tr valign="top"><td>DEF INT ii2</td><td>; Define variable for reversal area 2</td></tr><tr valign="top"><td>OSP1[Z]=10 OSP2[Z]=60</td><td>; Define reversal points 1 and 2</td></tr><tr valign="top"><td>OST1[Z]=0 OST2[Z]=0</td><td>; Reversal point 1: Exact stop fineReversal point 2: Exact stop fine</td></tr><tr valign="top"><td>FA[Z]=150 FA[X]=0.5</td><td>; Oscillating axis Z feedrate, infeed axis X feedrate</td></tr><tr valign="top"><td>OSCTRL[Z]=(2+8+16.1)</td><td>; Switch off oscillation motion at reversal point 2; After delete distance-to-go, spark-out and approach end position; After delete distance-to-go, approach reversal position</td></tr><tr valign="top"><td>OSNC[Z]=3</td><td>; Sparking-out strokes</td></tr><tr valign="top"><td>OSE[Z]=70</td><td>; End position = 70</td></tr><tr valign="top"><td>ii2=2</td><td>; Set reversal point range</td></tr><tr valign="top"><td>WAITP(Z)</td><td>; Enable oscillation for Z axis</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Motion-synchronous action</h4><a id="table_01a23ac3-6e76-492b-9086-60b6a7fc1d6e"></a> <a id="table_4"></a> <a id="table_01a23ac3-6e76-492b-9086-60b6a7fc1d6e"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EZCAC"><colgroup><col width="65.0%"><col width="35.0%"></colgroup><tr valign="top"><th>Program code </th><th>Comment</th></tr><tr valign="top"><td>WHENEVER $AA_IM[Z]&lt;$SA_OSCILL_REVERSE_POS2[Z] DO $AA_OVR[X]=0 $AC_MARKER[0]=0</td><td>; If the actual position of oscillating axis Z in MCS is less than the start of reversal range 2, then always set the axial override of the infeed axis X to 0% and the bit memory with index 0 to the value 0.</td></tr><tr valign="top"><td>WHENEVER $AA_IM[Z]>=$SA_OSCILL_REVERSE_POS2[Z] DO $AA_OVR[Z]=0</td><td>; If the actual position of the oscillating axis Z in MCS is greater than the reversal position 2, then always set the axial override of the oscillating axis Z to 0%.</td></tr><tr valign="top"><td>WHENEVER $AA_DTEPW[X] == 0 DO $AC_MARKER[0]=1</td><td>; If the remaining distance to go of the partial infeed is 0, then always set the bit memory with index 0 to the value 1.</td></tr><tr valign="top"><td>WHENEVER $AC_MARKER[0]==1 DO $AA_OVR[X]=0 $AA_OVR[Z]=100</td><td>; Whenever the bit memory with index 0 is equal to 1, then set the axial override of the infeed axis X to 0%. As a consequence, a premature infeed is prevented (oscillating axis Z has still not left reversal area 2, but infeed axis X is ready for a new infeed). Set the axial override of oscillating axis Z from 0% (action of the 2nd synchronized action) back to 100% to move.</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">3. Start oscillation</h4><a id="table_014e1e8c-4dd8-4098-8b10-b30f908f6c5d"></a> <a id="table_5"></a> <a id="table_014e1e8c-4dd8-4098-8b10-b30f908f6c5d"></a> <a id="table_5"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E3DAC"><colgroup><col width="40.0%"><col width="60.0%"></colgroup><tr valign="top"><th>Program code </th><th>Comment</th></tr><tr valign="top"><td>OSCILL[Z]=(X) POSP[X]=(5,1,1)</td><td>; Start the axes; Oscillating axis Z is assigned axis X as infeed axis.; Up to end position 5, axis X should travel in steps of 1.</td></tr><tr valign="top"><td>M30</td><td>; End of program</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p></p></div>
    <p>See also:<br />    <a href="156664103947.html">Oscillation controlled by synchronized actions (OSCILL): Further information</a></p>
  </body>
</html>