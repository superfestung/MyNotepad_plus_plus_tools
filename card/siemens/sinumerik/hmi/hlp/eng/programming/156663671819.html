<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Define curve tables (CTABDEF, CATBEND)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Define curve tables (CTABDEF, CATBEND)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>A curve table represents a part program or a section of a part program enclosed by CTABDEF at the start and CTABEND at the end.</p>
      <p>Within this part program section, unique following axis positions are assigned to individual positions of the leading axis using motion operations; these following axis positions are used as intermediate points when calculating the curve definition in the form of a polynomial up to the 5th order. </p>
      <a id="image_794866827_0">
      </a> <img border="0" src="images/167568374155.png" width="340" height="302"/><a name="block_1"></a><h3 class="Blocktitle">Requirement</h3><p>The MD must be configured accordingly to ensure that sufficient memory space is reserved for the definition of curve tables (→ machine manufacturer).</p><a name="block_2"></a><h3 class="Blocktitle">Syntax</h3>CTABDEF(&lt;following axis>,&lt;leading axis>,&lt;n>,&lt;periodicity>[,&lt;memory location>])...CTABEND<a name="block_3"></a><h3 class="Blocktitle">Meaning</h3><a id="table_818147d7-c1b9-4831-9c05-9be01a59a59f"></a> <a id="table_0"></a> <a id="table_818147d7-c1b9-4831-9c05-9be01a59a59f"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="24.2%"><col width="6.8%"><col width="6.8%"><col width="62.1%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CTABDEF( )</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Start of curve table definition</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CTABEND</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">End of curve table definition</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;following axis></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Axis whose motion is to be calculated using the curve table</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;leasing axis></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Axis providing the master values for the calculation of the following axis motion</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;n></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Number (<b>ID</b>) of curve table</p><p type="p_table_l" align="left">The number of a curve table is unique and independent of the memory location. It is not possible for there to be tables with the same number in the static and dynamic NC memory.</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;periodicity></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Table periodicity</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>0</code></p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Table is non-periodic (table is processed only once, even for rotary axes)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>1</code></p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Table is periodic with regard to the leading axis</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>2</code></p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Table is periodic with regard to leading axis and following axis</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;memory location></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Specification of memory location (optional)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>"SRAM"</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The curve table is created in the <b>static</b> NC memory.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>"DRAM"</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The curve table is created in the <b>dynamic</b> NC memory.</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><b>Note:</b><br />If a value is not programmed for this parameter, the default memory location set with MD20905 $MC_CTAB_DEFAULT_MEMORY_TYPE is used.</p></td></tr></table></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel">Overwrite</h4><p class="safety">A curve table is overwritten as soon as its number (<code>&lt;n></code>) is used in another table definition. (exception: the curve table is either active in an axis coupling or locked with <code>CTABLOCK</code>). <b>No warning is output when curve tables are overwritten.</b></p></td></tr></table><a name="block_4"></a><h3 class="Blocktitle">Examples</h3><h4 class="Blocklabel">Example 1: Program section as curve table definition</h4><p>A program section is to be used unchanged for defining a curve table. The <code>STOPRE</code> command for preprocessing stop can remain and is reactivated immediately as soon as the program section is no longer being used for table definition and <code>CTABDEF</code> and <code>CTABEND</code> have been removed.</p><a id="table_6e3bd464-b996-4403-8b89-7499c2c0ab5b"></a> <a id="table_1"></a> <a id="table_6e3bd464-b996-4403-8b89-7499c2c0ab5b"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EIAAC"><colgroup><col width="36.4%"><col width="63.6%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>…</td><td> </td></tr><tr valign="top"><td>CTABDEF(Y,X,1,1)</td><td>; Definition of a curve table.</td></tr><tr valign="top"><td>…</td><td> </td></tr><tr valign="top"><td>IF NOT ($P_CTABDEF)</td><td> </td></tr><tr valign="top"><td>STOPRE</td><td> </td></tr><tr valign="top"><td>ENDIF</td><td> </td></tr><tr valign="top"><td>…</td><td> </td></tr><tr valign="top"><td>CTABEND</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Example 2: Definition of a non-periodic curve table</h4><a id="image_794854667_0"></a> <img border="0" src="images/167568222347.png" width="340" height="283"/><a id="table_726640a2-4797-49d7-b541-9571aba0a71d"></a> <a id="table_2"></a> <a id="table_726640a2-4797-49d7-b541-9571aba0a71d"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EFCAC"><colgroup><col width="34.1%"><col width="65.9%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N100 CTABDEF(Y,X,3,0)</td><td>; Beginning of the definition of a ;non-periodic curve table with number 3.</td></tr><tr valign="top"><td>N110 X0 Y0</td><td>; 1st motion operation, defines the starting values and 1st intermediate point:Master value: 0, Following value: 0</td></tr><tr valign="top"><td>N120 X20 Y0</td><td>; 2nd interpolation point:Master value: 0…20, Following value: starting value…0</td></tr><tr valign="top"><td>N130 X100 Y6</td><td>; 3rd interpolation point:Master value: 20…100, Following value: 0…6</td></tr><tr valign="top"><td>N140 X150 Y6</td><td>; 4th interpolation point:Master value: 100…150, Following value: 6…6</td></tr><tr valign="top"><td>N150 X180 Y0</td><td>; 5th interpolation point:Master value: 150…180, Following value: 6…0</td></tr><tr valign="top"><td>N200 CTABEND</td><td>; End of the definition. The curve table is generated in its internal representation as a polynomial of up to the 5th order. The calculation of the curve definition with the specified intermediate points is dependent on the modally selected interpolation type (circular, linear, spline interpolation). The part program state before starting the definition is restored.</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Example 3: Definition of a periodic curve table</h4><p class="comment">Definition of a periodic curve table with number 2, master value range 0 to 360, following axis motion from 0 to 45 and back to 0:</p><a id="table_59593f02-1a30-48a7-8508-0b0ed95cdbce"></a> <a id="table_3"></a> <a id="table_59593f02-1a30-48a7-8508-0b0ed95cdbce"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E4DAC"><colgroup><col width="58.6%"><col width="41.4%"></colgroup><tr valign="top"><th>Program code</th><th>Comment</th></tr><tr valign="top"><td>N10 DEF REAL DEPPOS</td><td> </td></tr><tr valign="top"><td>N20 DEF REAL GRADIENT</td><td> </td></tr><tr valign="top"><td>N30 CTABDEF(Y,X,2,1)</td><td>; Start of definition.</td></tr><tr valign="top"><td>N40 G1 X=0 Y=0</td><td> </td></tr><tr valign="top"><td>N50 POLY</td><td> </td></tr><tr valign="top"><td>N60 PO[X]=(45.0)</td><td> </td></tr><tr valign="top"><td>N70 PO[X]=(90.0) PO[Y]=(45.0,135.0,-90)</td><td> </td></tr><tr valign="top"><td>N80 PO[X]=(270.0)</td><td> </td></tr><tr valign="top"><td>N90 PO[X]=(315.0) PO[Y]=(0.0,-135.0,90)</td><td> </td></tr><tr valign="top"><td>N100 PO[X]=(360.0)</td><td> </td></tr><tr valign="top"><td>N110 CTABEND</td><td>; End of the definition.</td></tr><tr valign="top"><td colspan="2">;Test of the curve by coupling Y to X:</td></tr><tr valign="top"><td>N120 G1 F1000 X0</td><td> </td></tr><tr valign="top"><td>N130 LEADON(Y,X,2)</td><td> </td></tr><tr valign="top"><td>N140 X360</td><td> </td></tr><tr valign="top"><td>N150 X0</td><td> </td></tr><tr valign="top"><td>N160 LEADOF(Y,X)</td><td> </td></tr><tr valign="top"><td> </td><td> </td></tr><tr valign="top"><td>N170 DEPPOS=CTAB(75.0,2,GRADIENT)</td><td>; Read the table function for master value 75.0.</td></tr><tr valign="top"><td>N180 G0 X75 Y=DEPPOS</td><td>; Positioning leading and following axes.</td></tr><tr valign="top"><td colspan="2">;After activating the coupling, no synchronization of the following axis is required.</td></tr><tr valign="top"><td>N190 LEADON(Y,X,2)</td><td> </td></tr><tr valign="top"><td>N200 G1 X110 F1000</td><td> </td></tr><tr valign="top"><td>N210 LEADOF(Y,X)</td><td> </td></tr><tr valign="top"><td>N220 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p></div>
    <p>See also:<br />    <a href="156663675531.html">Define curve tables (CTABDEF, CATBEND):  Further information</a><br />    <a href="156663666443.html">Curve tables: Function and application</a></p>
  </body>
</html>