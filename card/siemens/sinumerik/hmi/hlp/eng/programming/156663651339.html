<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Read/write drive parameters in the part program (DRVPRD, DRVPWR): More information</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Read/write drive parameters in the part program (DRVPRD, DRVPWR): More information</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <a name="block_1">
      </a>
      <h3 class="BlocktitleFirst">More information</h3>
      <h4 class="Blocklabel">Diagnostics via return values</h4>
      <p>Access to a drive parameter is invalid if the return value of the voice command returns a non-zero value.</p>
      <p>Two number ranges are reserved for the return value:</p>
      <a id="table_eb71a490-846c-81e8-df89-6953b31c4a25">
      </a> <a id="table_0"></a> <a id="table_eb71a490-846c-81e8-df89-6953b31c4a25"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="7.5%"><col width="92.5%"></colgroup><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><b>Return values when the voice command is called:</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">No access error.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Impermissible value.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">2</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Axis not available.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">3</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Drive not available.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">4</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Missing access rights.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">5</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Not possible in block search/program test.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">6</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Access to the drive is not possible.</p></td></tr></table></p><a id="table_1683e080-25d0-f2e1-3f9d-e54fa879317e"></a> <a id="table_1"></a> <a id="table_1683e080-25d0-f2e1-3f9d-e54fa879317e"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="7.5%"><col width="92.5%"></colgroup><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><b>Return values when writing/reading the drive parameter:</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1000</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Impermissible parameter number.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1001</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Parameter value cannot be changed.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1002</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Lower or upper limit violated.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1003</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Sub-index incorrect.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1004</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">No array, no sub-index.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">...</p></td><td> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1107</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Write access not allowed when controller is enabled.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1110</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Write access only permitted in the commissioning state: Motor (p0010 = 3).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">...</p></td><td> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1204</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">No write access.</p></td></tr></table></p><p>To distinguish the return values of the voice command from the return values of the drive, the value 1000 is added.</p><p><b>More information:</b> SINUMERIK Diagnostics Manual, alarm 201042 "Parameter error during project download"</p><h4 class="Blocklabel">Behavior during program simulation</h4><p>The available drive parameters depend on the type and scope of drive simulation used. If the drive simulation is missing, the voice command returns the return value 3.</p><p>With the variable $P_SIM, the machine manufacturer has the possibility to provide a special treatment for the program simulation.</p><h4 class="Blocklabel">Interaction with other functions</h4><ul><li><p>Parallel write/read accesses</p><p>Parallel read/write accesses from the HMI or other clients can have an effect on the execution time of the voice command.</p></li><li><p>REPOS</p><p>If the execution of the voice command is interrupted by a REORG event, the command is repeated.</p></li><li><p>Block search / program test</p><p>In the block search and program test (also SERUPRO), the voice command for reading and writing drive parameters is not supported. The result variable returns access error 5.</p><p>A query with the system variables $P_SEARCH and $P_ISTEST in the part program as to whether block search or program test is active makes it possible, for example, to skip DRVPRD and DRVPWR and implement a replacement strategy.</p></li></ul><h4 class="Blocklabel">Constraints</h4><p>The following conditions must be observed during programming:</p><ul><li><p>Use in synchronized actions</p><p>The voice command cannot be programmed in synchronized actions because a synchronized action does not wait for the non-cyclic access to be executed.</p><p>When using the voice command in a synchronized action, alarm 12571 is output.</p></li><li><p>Readable/writable drive parameters</p><p>Only axis-specific drive parameters of a SERVO DO or HLA DO and parameters of PROFIdrive standard drives that are assigned to NC axes can be read or written.</p><p>It is not possible to read/write parameters of the following DOs: CU_I, CU_NX, CU3x, TM, HUB, INFEED.</p></li></ul></div>
  </body>
</html>