<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Definition and initialization of array variables (DEF, SET, REP)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Definition and initialization of array variables (DEF, SET, REP)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>A user variable can be defined as a 1- up to a maximum of a 3-dimensional array.</p>
      <h4 class="Blocklabel">Data types</h4>
      <p>User variables can be defined as arrays for the following data types: BOOL, CHAR, INT, REAL, STRING, AXIS, FRAME</p>
      <h4 class="Blocklabel">Assignment of values to array elements     </h4>
      <p>Values can be assigned to array elements at the following points in time:</p>
      <ul>
        <li>
          <p>For the array definition (initialization values)</p>
        </li>
        <li>
          <p>During program execution</p>
        </li>
      </ul>
      <p>Values can be assigned by means of:</p>
      <ul>
        <li>
          <p>Explicit specification of an array element</p>
        </li>
        <li>
          <p>Explicit specification of an array element as a starting element and specification of a value list (SET)</p>
        </li>
        <li>
          <p>Explicit specification of an array element as a starting element and specification of a value and the frequency at which it is repeated (REP)</p>
        </li>
      </ul>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Note</b>
          </td>
        </tr>
        <tr>
          <td>
            <p class="safety">FRAME data type user variables cannot be assigned initialization values.</p>
          </td>
        </tr>
      </table>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>
      <h4 class="Blocklabel">Definition (data type: BOOL, CHAR, INT, REAL, AXIS, FRAME) </h4>
      <ul>
        <li>
          <p>1-dimensional array:</p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>]</code>
          </p>
        </li>
        <li>
          <p>2-dimensional array:</p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>,&lt;m>]</code>
          </p>
        </li>
        <li>
          <p>3-dimensional array:</p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>,&lt;m>,&lt;o>]</code>
          </p>
        </li>
      </ul>
      <h4 class="Blocklabel">Definition (data type: STRING)</h4>
      <ul>
        <li>
          <p>1-dimensional array:</p>
          <p>
            <code>DEF STRING[&lt;StringLength>] &lt;VarName>[&lt;n>]</code>
          </p>
        </li>
        <li>
          <p>2-dimensional array:</p>
          <p>
            <code>DEF STRING[&lt;StringLength>] &lt;VarName>[&lt;n>,&lt;m>]</code>
          </p>
        </li>
      </ul>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Note</b>
          </td>
        </tr>
        <tr>
          <td>
            <p class="safety">STRING data type user variables can be defined up to a maximum as 2-dimensional arrays.</p>
          </td>
        </tr>
      </table>
      <h4 class="Blocklabel">Value assignment using value list</h4>
      <ul>
        <li>
          <p>Initialization when defining the array:</p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = SET(&lt;Value_1>,&lt;Value_2>,...)</code>
          </p>
          <p>Equivalent to:</p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = (&lt;Value_1>,&lt;Value_2>,...)</code>
          </p>
          <table cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td>
                <font size="1px">
                </font>
              </td>
            </tr>
          </table>
          <table class="safety" border="1" bgcolor="#eeeeee">
            <colgroup>
              <col width="5%">
              <col width="95%">
            </colgroup>
            <tr>
              <td>
                <b>Note</b>
              </td>
            </tr>
            <tr>
              <td>
                <p class="safety">Specifying SET when initializing via a value list is optional.</p>
              </td>
            </tr>
          </table>
        </li>
        <li>
          <p>Assignment during program execution:</p>
          <p>
            <code>&lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = SET(&lt;Value_1>,&lt;Value_2>,...)</code>
          </p>
        </li>
      </ul>
      <h4 class="Blocklabel">Value assignment using value</h4>
      <ul>
        <li>
          <p>Initialization when defining the array:</p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = REP(&lt;Value>)</code>
          </p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = REP(&lt;Value>,&lt;Num_ArrayElements>)<br /></code>
          </p>
        </li>
        <li>
          <p>Assignment during program execution:</p>
          <p>
            <code>&lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = REP(&lt;Value>)</code>
          </p>
          <p>
            <code>&lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = REP(&lt;Value>,&lt;Num_ArrayElements>)</code>
          </p>
        </li>
      </ul>
      <a name="block_2">
      </a>
      <h3 class="Blocktitle">Meaning</h3>
      <a id="table_78c332be-5f1d-4d1b-9514-29db249777ad">
      </a> <a id="table_0"></a> <a id="table_78c332be-5f1d-4d1b-9514-29db249777ad"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="40.6%"><col width="9.0%"><col width="11.3%"><col width="38.9%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>DEF</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Command to define variables</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;DataType></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Data type of variables</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Range of values:</p><ul class="table"><li><p>for system variables:</p><p>BOOL, CHAR, INT, REAL, STRING, AXIS</p></li><li><p>for GUD or LUD variables:</p><p>BOOL, CHAR, INT, REAL, STRING, AXIS, FRAME</p></li></ul></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;StringLength></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Maximum number of characters for a STRING data type</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;VarName></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Variable name</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>[&lt;n>,&lt;m>,&lt;o>]</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Array sizes or array indices</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;n></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Array size or array index for 1st dimension</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Type:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">INT (for system variables, also AXIS)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Range of values:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Max. array size: 32767</p><p type="p_table_l" align="left">Array index: 0 ≤ n ≤ 32767</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;m></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Array size or array index for 2nd dimension</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Type:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">INT (for system variables, also AXIS)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Range of values:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Max. array size: 32767</p><p type="p_table_l" align="left">Array index: 0 ≤ m ≤ 32767</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;o></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Array size or array index for 3rd dimension</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Type:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">INT (for system variables, also AXIS)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Range of values:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Max. array size: 32767</p><p type="p_table_l" align="left">Array index: 0 ≤ o ≤ 32767</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>SET</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Value assignment using specified value list</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>(&lt;Value_1>,&lt;Value_2>,...)</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Value list</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>REP</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Value assignment using the specified value</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Value></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Value, which the array elements should be written when initializing with REP.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Num_ArrayElements></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Number of array elements that should be written with the specified value.</p><p type="p_table_l" align="left">The following apply to the remaining array elements, dependent on the point in time:</p><ul class="table"><li><p>Initialization when defining the array:</p><p>→ Zero is written to the remaining array elements.</p></li><li><p>Assignment during program execution:</p><p>→ The actual values of the array elements remain unchanged.</p></li></ul><p type="p_table_l" align="left">If the parameter is not programmed, then the specified value is written to all array elements.</p><p type="p_table_l" align="left">If the parameter equals zero, the following apply dependent on the point in time:</p><ul class="table"><li><p>Initialization when defining the array:</p><p>→ All elements are pre-assigned zero</p></li><li><p>Assignment during program execution:</p><p>→ The actual values of the array elements remain unchanged.</p></li></ul></td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Array index   </h3><p>The implicit sequence of the array elements, e.g. in the case of value assignment using SET or REP, is right to left due to iteration of the array index.</p><p>Example: Initialization of a 3-dimensional array with 24 array elements:</p><a id="table_c6f7551c-5b80-46f9-ac3b-9ea25d1e4c21"></a> <a id="table_1"></a> <a id="table_c6f7551c-5b80-46f9-ac3b-9ea25d1e4c21"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="2.7%"><col width="28.6%"><col width="68.6%"></colgroup><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>DEF INT ARRAY[2,3,4] = REP(1,24)</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,0,0] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">1st array element</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,0,1] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">2nd array element</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,0,2] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">3rd array element</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,0,3] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">4th array element</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>...</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,1,0] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">5th array element</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,1,1] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">6th array element</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>...</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,2,3] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">12th array element</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[1,0,0] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">13th array element</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[1,0,1] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">14th array element</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>...</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[1,2,3] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">24th array element</p></td></tr></table></p><p class="comment">Corresponding to:</p><a id="table_de05c96f-7f83-4dfa-80b1-83895fc6ad6a"></a> <a id="table_2"></a> <a id="table_de05c96f-7f83-4dfa-80b1-83895fc6ad6a"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="2.7%"><col width="3.6%"><col width="2.7%"><col width="90.9%"></colgroup><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>FOR n=0 TO 1</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>FOR m=0 TO 2</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>FOR o=0 TO 3</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>ARRAY[n,m,o] = 1</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>ENDFOR</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>ENDFOR</code></p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>ENDFOR</code></p></td></tr></table></p><a name="block_4"></a><h3 class="Blocktitle">Example: Initializing complete variable arrays</h3><a id="table_40db890c-bfb1-4133-bf12-dd23901c041a"></a> <a id="table_3"></a> <a id="table_40db890c-bfb1-4133-bf12-dd23901c041a"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E5LAC"><colgroup><col width="99.0%"><col width="1.0%"></colgroup><tr valign="top"><th>Program code</th><th> </th></tr><tr valign="top"><td>N10 DEF REAL ARRAY1[10,3]=SET(0,0,0,10,11,12,20,20,20,30,30,30,40,40,40,)</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N40 ARRAY1[0,0]=REP(100)</td><td> </td></tr><tr valign="top"><td>N50 ARRAY1[5,0]=REP(-100)</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N80 ARRAY1[0,0]=SET(0,1,2,-10,-11,-12,-20,-20,-20,-30, , , ,-40,-40,-50,-60,-70)</td><td> </td></tr><tr valign="top"><td>N90 ARRAY1[8,1]=SET(8.1,8.2,9.0,9.1,9.2)</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a id="image_180068423691_0"></a> <img border="0" src="images/180068432779.png" width="500" height="216"/><a id="table_"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_legend" border="0"><colgroup><col width="5.0%"><col width="95.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">①</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">N10</p><p>Initialization for the array definition</p><p>Array elements [5,2] ... [9,2]: Initialization with default value (0.0)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">②</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">N40/N50</p><p>Value assignment during program execution with identical value</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">③</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">N80/N90</p><p>Value assignment during program execution using value list</p><p type="p_table_l" align="left">Array elements [3,1] ... [4,0]: Assignment, default value (0.0)</p><p>Array elements [6,0] ... [8,0]: No change</p></td></tr></table></p></div>
    <p>See also:<br />    <a href="156662419595.html">Definition and initialization of array variables (DEF, SET, REP):  Further Information</a><br />    <a href="156662348683.html">Variables: General information</a></p>
  </body>
</html>