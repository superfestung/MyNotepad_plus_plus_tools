<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Modifying the orientable tool carrier according to the machine measurement (CORRTC)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Modifying the orientable tool carrier according to the machine measurement (CORRTC)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Measured kinematic chain elements of a tool carrier can be written to special correction elements with the <code>CORRTC</code> function. </p>
      <p>
      </p>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Note</b>
          </td>
        </tr>
        <tr>
          <td>
            <p class="safety">The correction values written with the CORRTC function are not immediately effective in the tool carrier. The correction values only become active after deselecting the tool carrier, NEWCONF and selecting the tool carrier.</p>
          </td>
        </tr>
      </table>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>&lt;_Corr_Status> = CORRTC(&lt;_Corr_Vect>, &lt;_Corr_Index>, &lt;_Corr_Mode>, [ &lt;_No_Alarm>])<a name="block_2"></a><h3 class="Blocktitle">Meaning</h3><a id="table_c377441f-3a81-405b-b709-21228bfdf632"></a> <a id="table_0"></a> <a id="table_c377441f-3a81-405b-b709-21228bfdf632"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="21.0%"><col width="12.5%"><col width="5.0%"><col width="3.0%"><col width="3.0%"><col width="55.5%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CORRTC</code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Function call</p></td></tr><tr valign="top"><td rowspan="13"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;_Corr_Status></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Function return value</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td rowspan="11"><p type="p_table_l" style="margin-top: 4px" align="left">Values:</p></td><td><p type="p_table_r" style="margin-top: 4px" align="right">0</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The function was executed without an error.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">1</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">No tool carrier is active.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">2</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The active tool carrier was not defined with kinematic chains.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">10</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The <code>&lt;_Corr_Index></code> call parameter is negative.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">11</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The <code>&lt;_Corr_Mode></code> call parameter is negative.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">12</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Invalid reference to a section of a subchain (_CORR_INDEX).</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">13</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">No correction element has been defined in the section referred to by the _CORR_INDEX parameter ($TC_CARR_CORR_ELEM).</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">20</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The hundreds position of &lt;_CORR_MODE> is invalid. Only the values 0 and 1 are permissible.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">21</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The thousands position of &lt;_CORR_MODE> is invalid. Only the values 0 and 1 are permissible.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">30</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">For the correction of an offset vector, the deviation from the current value in at least one coordinate is greater than the maximum value specified by the setting data SD41612 $SN_CORR_TRAFO_LIN_MAX.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">31</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">The attempt to write a system variable was rejected because of missing write rights.</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;_</code><code>Corr_Vect</code><code>></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Correction vector</p><p type="p_table_l" align="left">The content of the correction vector is defined by the following parameters &lt;_Corr_Index> and <code>&lt;_Corr_Mode></code>.</p><p type="p_table_l" align="left">If <code>&lt;_Corr_Status> = 30</code>, the content of the vector is overwritten (see above).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">REAL</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">&lt;_<code>Corr_Index</code>>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Designates the section for which the direction vector of the correction element is to be corrected.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td rowspan="14"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;</code><code>_Corr_Mode</code><code>>:</code></p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Correction mode</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">The <code>&lt;Corr_Index></code> parameter is decimal coded (ones to thousands position):</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Unit<br />position:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Reserved</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Tens<br />position:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Specifies how the correction element to which the content of <code>&lt;_Corr_Index></code> refers, is to be modified.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right">xx<b>0</b>x</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">The correction vector is written immediately to the correction element.</p><p type="p_table_l" align="left">This variant can be used to immediately write the correction element without the index &lt;n> of the relevant system data ($NK_OFF_DIR[&lt;n>, ...]) having to be known.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right">xx<b>1</b>x</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">As 0, but with the difference that the transferred correction value is interpreted in world coordinates.</p><p type="p_table_l" align="left">A difference between variants 0 and 1 can always occur when the kinematic chain in the initial state (positions of all rotary axes equal to 0) contains other rotations.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right">xx<b>2</b>x</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">As 1, but with the difference that the correction value refers to the entire section, i.e. a value is entered in the correction element so that the entire section reaches the length defined by the correction value.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Hundreds<br />position:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Specifies how the content of the <code>&lt;_Corr_Vect></code> parameter is to be interpreted.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right">x<b>0</b>xx</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">The transferred correction vector <code>&lt;_Corr_Vect></code> contains the entire new length of the correction element or the section to which the <code>&lt;_Corr_Index></code> in conjunction with the tens position of <code>&lt;_Corr_Mode></code> refers (absolute correction).</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right">x<b>1</b>xx</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">The transferred correction vector <code>&lt;_Corr_Vect></code> only contains the difference compared to the current length of the correction element or the section to which the <code>&lt;_Corr_Index></code> in conjunction with the tens position of <code>&lt;_Corr_Mode></code> refers (incremental correction).</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Thousands<br />position:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Determines whether or not the maximum permissible correction is to be limited by the setting data $SN_ CORR_TOCARR_LIN_MAX.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right"><b>0</b>xxx</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Threshold value monitoring is active.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right"><b>1</b>xxx</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">The threshold value monitoring is suppressed.</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;</code><code>_No_Alarm</code><code>></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Response in the event of an error (return value > 0) (<b>optional</b>) </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Data type:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">BOOL</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Value:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">FALSE (default)</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">In the event of an error, the program execution is stopped and an alarm displayed.</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">TRUE</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">In the event of an error, the program processing is not stopped and no alarm is displayed. </p><p type="p_table_l" align="left">Application: User-specific response corresponding to the return value</p></td></tr></table></p></div>
    <p>See also:<br />    <a href="156663397515.html">Modifying the orientable tool carrier according to the machine measurement (CORRTC) Further information</a></p>
  </body>
</html>