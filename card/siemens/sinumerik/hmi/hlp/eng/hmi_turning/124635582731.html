<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>User log</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">User log</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <a name="block_1">
      </a>
      <h3 class="BlocktitleFirst">Function</h3>
      <p>With this function, the user freely defines the contents of the log lines and stores them in an array of string variables (string length 200).</p>
      <p>The contents of the string array are logged when a new CYCLE160 is called. The logging always begins with array index 0 and continues until an empty string (i.e. string length 0) is found.</p>
      <p>For simple applications, an NCK-global array of string variables is predefined in the PGUD block:</p>
      <p>DEF NCK STRING[200] S_LOGTXT[10]</p>
      <p>This means that 10 lines can be immediately logged.</p>
      <p>If this is not sufficient, the user can alternatively create a second string array of any length with the predefined name S_USERTXT[n] in a separate GUD block (e.g. MGUD or UGUD):   </p>
      <p>DEF NCK STRING[200] S_USERTXT[n]</p>
      <p>The logging function checks whether the S_USERTXT array is available. If it is available, the contents of this array are logged, if not, the contents of S_LOGTXT.</p>
      <p>At the program position where CYCLE160 is called, the logging is performed according to the logging destination set by the CYCLE150 call – exactly the same as the logging of measurement results.</p>
      <p>This function can be used to output a complete user-specific log (without any reference to the measuring) or to insert additional lines in standard logs.</p>
      <p>If additional lines are to be written in standard logs in tabular format, the user must ensure the column formatting in these strings (insert separators ";").</p>
      <a name="block_2">
      </a>
      <h3 class="Blocktitle">Procedure</h3>
      <p>"User log" is selected in the CYCLE150 screen form for the log control.</p>
      <p>There is no difference between text format and tabular format – the user determines the contents. The corresponding selection field is hidden for the user log.</p>
      <p>If the path is entered, it is performed with the same dialog as for the standard log.</p>
      <a id="image_67147309707_0">
      </a> <img border="0" src="images/67147318795.png" width="500" height="375" alt="User log screen form"/><p class="imgtitle">User log screen form</p><p>The following must be written in the part program:</p><ul><li><p> CYCLE150 call to activate the user log</p></li><li><p> Assignment of the log contents to the predefined string variables</p></li><li><p>CYCLE160 for the output of the log contents</p></li></ul><p>CYCLE160 has no transfer parameters.  The user must program it without a screen form.</p><h4 class="Blocklabel">Freely-definable user log</h4><p>Programming example:</p><a id="table_04b94434-414a-42ec-a363-25246103b980"></a> <a id="table_0"></a> <a id="table_04b94434-414a-42ec-a363-25246103b980"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">...</p></td><td> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N50 CYCLE150(10,1111,“MY_PROT.TXT“)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">; Logging ON  </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N51 S_USERTXT[0]=REP("")</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">; Delete old data array</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N52 S_USERTXT[0]="MACHINE: ABC_12345"</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">; Compile log contents</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>N53 S_USERTXT[1]="LOGFILE COMPENSATION DATA"</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N54 S_USERTXT[2]=" "</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">; Programming of empty line: 1 x blank</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N55 S_USERTXT[3]="VALUE1 = "&lt;&lt;R101</code></p></td><td> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N56 S_USERTXT[4]="VALUE2 = "&lt;&lt;R102</code></p></td><td> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N60 CYCLE160</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">; Write user log</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">...</p></td><td> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>M30</code></p></td><td> </td></tr></table></p><p class="comment"><b>Log extract:</b></p><p class="comment"><code>MACHINE: ABC_12345</code></p><p class="comment"><code>LOGFILE COMPENSATION DATA </code></p><p class="comment"></p><p class="comment"><code>VALUE1 = 123.456</code></p><p class="comment"><code>VALUE2 = 789.333</code></p><p class="comment">Explanations:</p><ul class="comment"><li class="comment"><p class="comment">N50 … Logging is switched on</p><ul class="comment"><li class="comment"><p class="comment">Destination: In the same path as the calling program</p></li><li class="comment"><p class="comment">The log is appended</p></li><li class="comment"><p class="comment">Log type: User log</p></li><li class="comment"><p class="comment">Logging "on"</p></li></ul></li><li class="comment"><p class="comment">N52 - N56 log content</p></li><li class="comment"><p class="comment">N60 … CYCLE160 call: Data is now written</p></li><li class="comment"><p class="comment">Value 1 and value 2 mirror the contents of the R-parameters R101 and R102 at the time of the log output. </p></li></ul><a name="block_3"></a><h3 class="Blocktitle">Standard log with additional user data</h3><p>Programming example:</p><a id="table_1db0ebe1-8920-a19d-1c4c-aff7a611930f"></a> <a id="table_1"></a> <a id="table_1db0ebe1-8920-a19d-1c4c-aff7a611930f"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">---</p></td><td> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N50 CYCLE150(10,1001,…)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">; Logging ON, write header</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N51 S_LOGTXT[0]=REP("")</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">; Delete old data array</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N52 S_LOGTXT[0]="HOLE DM 20H7"</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">; Write user data</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N53 S_LOGTXT[1]="LARGESTDIMENSION:20.021"</code></p></td><td> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N54 S_LOGTXT[2]="SMALLESTDIMENSION:20.000"</code></p></td><td> </td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>N55 S_LOGTXT[3]="SPINDLETEMPERATURE:"&lt;&lt;R99&lt;&lt;" DEG"</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N60 CYCLE160</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">; Write user data to log</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>T="3D_PROBE_FR" D1 M6</code></p></td><td> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>G0 X0 Y0 Z5</code></p></td><td> </td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>N70 CYCLE977(201,,4000001,1,24,,,2,8,0,1,1,,,1," ",,0,1.01,1.01,-1.01,0.34,1,0,,1,1)</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">...</p></td><td> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>M30</code></p></td><td> </td></tr></table></p><p class="comment">Log extract:</p><a id="table_4fcce232-0de8-7de4-0d71-6182cddcf89a"></a> <a id="table_2"></a> <a id="table_4fcce232-0de8-7de4-0d71-6182cddcf89a"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">**************************************************************************************************</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Date    :  2013-08-0</code>5 </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Time:  11:59:10</code></p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Protocol: /_N_WKS_DIR/_N_WP1_WPD/_PROT_TE_977_BOHR_TXT</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Program : _N_TE_977_BOHR_MPF</code></p></td><td> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Workpiece no.: 123</code></p></td><td> </td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">*************************************************************************************************</p></td></tr></table></p><p class="comment"><code>HOLE DM 20H7</code></p><p class="comment"><code>LARGESTDIMENSION:20.021</code></p><p class="comment"><code>SMALLESTDIMENSION:20.000</code></p><p class="comment"><code>SPINDLETEMPERATURE:68.7 DEG</code></p><a id="table_6ff91ed7-73c9-7831-39d0-120d96c63d9a"></a> <a id="table_3"></a> <a id="table_6ff91ed7-73c9-7831-39d0-120d96c63d9a"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="33.5%"><col width="33.1%"><col width="33.3%"></colgroup><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">----------------------------------------------------------------------------------------------------------------</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">:<code> 977 / 101</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Time: 11:58:10</code></p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Results measure: 1 Hole / CYCLE977</code></p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">----------------------------------------------------------------------------------------------------------------</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Correction into: Work offset, coarse</code></p></td></tr><tr valign="top"><td> </td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>G508</code></p></td><td> </td></tr><tr valign="top"><td> </td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Coarse [mm]</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Rotation [deg]</code></p></td></tr><tr valign="top"><td> </td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">--------------------------------------------------------------------------</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>X</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>-0.0200</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code> 0.0000    </code> </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Y</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code> 0.0300</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>45.0000</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Z</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>-0.0128</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code> 0.0000 </code></p></td></tr><tr valign="top"><td> </td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">--------------------------------------------------------------------------</p></td></tr></table></p><a id="table_3d721400-af4c-de58-6c63-b9f3c381d5a9"></a> <a id="table_4"></a> <a id="table_3d721400-af4c-de58-6c63-b9f3c381d5a9"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="25.0%"><col width="25.3%"><col width="25.4%"><col width="24.3%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Results:</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Setpoint </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Measured</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Difference</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>X</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>12.9900</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>12.9700</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>-0.0200  mm</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Y</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code> 7.5000</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code> 7.5300</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code> 0.0300  mm</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>Diameter</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>24.0000</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>23.8400</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>-0.1600  mm</code></p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">---------------------------------------------------------------------------------------------------------------</p></td></tr></table></p></div>
  </body>
</html>