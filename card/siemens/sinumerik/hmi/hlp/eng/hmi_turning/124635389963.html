<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Calculating kinematics and activating the swivel data sets</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Calculating kinematics and activating the swivel data sets</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <a name="block_1">
      </a>
      <h3 class="BlocktitleFirst">Calculating and activating the swivel data sets</h3>
      <p>After measuring the three sphere positions that are required in each case for all the relevant rotary axes, the entire set of swivel data sets can be calculated by means of CYCLE996. CYCLE996 should be parameterized and called for this purpose.</p>
      <a name="block_2">
      </a>
      <h3 class="Blocktitle">Correction target</h3>
      <p>In the "Calculate kinematics" screen form, in the "offset target" field, you can set whether vectors will "only" be calculated (measuring only) or whether the calculated vectors will be saved in the swivel data set. Before saving, the user can decide whether the calculated swivel data set will be displayed and changed. If the calculated swivel data set should not be displayed, the user can decide whether the swivel data set should be immediately overwritten. In all other cases, before saving the swivel data set, the operator is prompted to make a selection.</p>
      <a id="table_0">
      </a> <TableTitle>Display options in the "Calculate kinematics" screen form</TableTitle><a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="35.7%"><col width="15.8%"><col width="15.8%"><col width="15.8%"><col width="16.7%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Parameter</p></th><th colspan="2"><p type="p_table_lb" align="left">Measuring only</p></th><th colspan="2"><p type="p_table_lb" align="left">Swivel data set</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Display data set</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Yes</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">No</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">No</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Yes</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Data set can be changed</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">-</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">-</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">-</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Yes/no</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Confirm the change</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">-</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">-</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Yes/no</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">-</p></td></tr></table></p><p></p><p>In addition, the swivel data set can be saved as data file ("save data set").</p><p>The data file is stored in the current workpiece folder "WKS.DIR", "MPF.DIR", or "SPF.DIR". The storage location of the data file is in the current NC data path (if nested, in the path of the smallest program level). The file name corresponds to the name of the swivel data set, and is generated with a count index "_M1" to "_M99".</p><p>The data file contains the syntax of the parameters of the swivel data set of the NC function TCARR, e.g. :</p><p>$TC_CARR1[1]=-426.708853 $TC_CARR2[1]=-855.050806 … ;I1xyz.</p><p>If a transformation type &lt;> 72 is set in the machine data for the dynamic transformation (TRAORI), the calculated vectors are saved in the protocol file also as machine data.</p><a name="block_3"></a><h3 class="Blocktitle">Saving the log file</h3><p>When calculating the kinematics, before calling CYCLE996, the log cycle (CYCLE150) can be called. A log file is created with the measured and calculated vectors of the kinematics.</p><a name="block_4"></a><h3 class="Blocktitle">Tolerance limits</h3><p>Activating tolerance limits when parameterizing CYCLE996 (compare Starting values – calculated values), allows conclusions to be drawn regarding unusual changes in the mechanical kinematic chain. The unintentional automatic overwriting of starting values can be avoided by adjusting the tolerance limits. </p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety"><b>The rotary axis vectors V1/V2 (orientation of the rotary axes) are never automatically overwritten.</b></p></td></tr></table><p>Primarily, the calculated rotary axis vectors enable an assessment to be made regarding the mechanical desired/actual state of the kinematics. Depending on the kinematics configuration, even the smallest and corrected deviations in the position of the rotary axis vectors can result in large compensating movements. </p><a name="block_5"></a><h3 class="Blocktitle">Normalizing = setting a fixed value</h3><p>Through normalizing, a new fixed value can be calculated in an axis direction (XYZ) for each rotary axis. This is required particularly for table kinematics because the result of the kinematics calculation refers to the measurement height of the calibration sphere. By normalizing, you can, for example, calculate the Z component to the reference point of the workpiece table.</p><p>In head kinematics, the initial state of the 1st measurement of rotary axis 2 (if available, otherwise rotary axis 1) is calculated during the calculation of the kinematics. Normalizing is therefore usually not required for head kinematics. With orthogonal machine kinematics, the normalizing of a rotary axis only makes sense for a specific axis direction.</p><p>Example:<br />Table kinematics<br />Rotary axis 2(C) rotates around Z -> normalizing of rotary axis 2(C) in axis direction Z makes sense.</p><p>With normalizing "Yes," the value of the normalizing (fixed value) is written to the following linear vectors:</p><a id="table_08a8b1b4-e37b-8e2b-6e3f-b6137b1bd422"></a> <a id="table_1"></a> <a id="table_08a8b1b4-e37b-8e2b-6e3f-b6137b1bd422"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="33.3%"><col width="33.3%"><col width="33.3%"></colgroup><tr valign="top"><th> </th><th><p type="p_table_c" align="center">Rotary axis 1</p></th><th><p type="p_table_c" align="center">Rotary axis 2</p></th></tr><tr valign="top"><td><p style="margin-top: 4px">Head kinematics</p></td><td><p style="margin-top: 4px">I2</p></td><td><p style="margin-top: 4px">I3</p></td></tr><tr valign="top"><td><p style="margin-top: 4px">Table kinematics</p></td><td><p style="margin-top: 4px">I2</p></td><td><p style="margin-top: 4px">I3</p></td></tr><tr valign="top"><td><p style="margin-top: 4px">Mixed kinematics</p></td><td><p style="margin-top: 4px">I2</p></td><td><p style="margin-top: 4px">I3</p></td></tr></table></p><p>Example:<br />Table kinematics, rotary axis 1(A) rotates around X, rotary axis 2(C) rotates around Z.<br />Normalizing of rotary axis 1(A) X=100 -> I2x=100<br />Normalizing of rotary axis 2(Z) Z=0 -> I3z=0</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee" style="margin-bottom:10px"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel"></h4><p class="safety">Whether or not the fixed values are to be set for the closing vectors or the kinematics writing vectors can be switched with bit 7 in the setting data SD55740: $SCS_MEA_FUNCTION_MASK/.</p></td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><h4 class="Blocklabel">Normalizing (setting a fixed value) the vectors when measuring the kinematics</h4><p class="safety">SD55740: $SCS_MEA_FUNCTION_MASK/ bit 7 (corresponded to _CHBIT[29]) activated.</p><ul class="safety"><li class="safety"><p class="safety">Bit 7 = 0: Normalizing on the basis of the calculated orientation vectors (V1xyz, V2xyz)</p></li><li class="safety"><p class="safety">Bit 7 = 1: Normalizing on the basis of the orientation vectors entered in the swivel data set (TCARR) or with TRAORI, in the machine data.</p></li></ul><p class="safety">It is recommended that SD55740 bit 7 = 1 be set, as a machine test has proved that this further improves the accuracy of the calculated offset vectors.</p></td></tr></table></div>
  </body>
</html>