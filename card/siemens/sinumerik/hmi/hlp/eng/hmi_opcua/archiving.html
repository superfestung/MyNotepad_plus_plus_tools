<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Archiving dialog</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Archiving dialog</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <a name="block_1">
      </a>
      <h3 class="BlocktitleFirst">Overview</h3>
      <p>Archiving feature enables the user to generate a backup of OPC UA Server so that in case of need, all settings and data can be restored. Also, user can generate a setup archive for serial commissioning and update new machines with setup archive. </p>
      <p>From Archiving screen user can:</p>
      <ul>
        <li>
          <p>Generate OPC UA Server backup archive (i.e, full archive) </p>
        </li>
        <li>
          <p>Generate OPC UA Server setup archive for serial commissioning </p>
        </li>
        <li>
          <p>Restore backup archive </p>
        </li>
        <li>
          <p>Read in setup archive for serial commissioning</p>
        </li>
      </ul>
      <a name="block_2">
      </a>
      <h3 class="Blocktitle">
        <b>Prerequisite</b>
      </h3>
      <p>OPC UA archive is only part of Operate archive, if the archive service in OPC UA has been done before. Therefore create an OPC UA backup first, before taking full backup of Operate.</p>
      <a name="block_3">
      </a>
      <h3 class="Blocktitle">OPC UA Server backup archiving</h3>
      <p>The user can generate a backup archive of OPC UA Server (including configuration, user management, models, and certificates) and restore it back when required. The OPC UA back up archive can only be restored on the same controller or the same SD card, since the server certificate is part of the backup.</p>
      <h4 class="Blocklabel">Generating Archive</h4>
      <ol>
        <li>
          <p>Press the "OPC UA" softkey.</p>
        </li>
        <li>
          <p>Press the extended softkey as shown in the below image.</p>
          <a id="image_139274421259_0">
          </a> <img border="0" src="images/175242327179.png" width="500" height="239" alt="Softkey Extended"/><p class="imgtitle">Softkey Extended</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">If the OPC UA server license is not active, then the extended softkey is disabled.</p></td></tr></table></li>
        <li>
          <p>Press the "Archive" softkey.</p>
        </li>
        <li>
          <p>The "OPC UA Archives" dialog will appear. Select "All data of this OPC UA server (backup)" radio button under "Generate archive".</p>
          <table cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td>
                <font size="1px">
                </font>
              </td>
            </tr>
          </table>
          <table class="safety" border="1" bgcolor="#eeeeee" style="margin-bottom:10px">
            <colgroup>
              <col width="5%">
              <col width="95%">
            </colgroup>
            <tr>
              <td>
                <b>Note</b>
              </td>
            </tr>
            <tr>
              <td>
                <p class="safety">The radio button "All data of this OPC UA server (backup)" is enabled by default only for manufacturer, service and user access levels.</p>
              </td>
            </tr>
          </table>
          <table cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td>
                <font size="1px">
                </font>
              </td>
            </tr>
          </table>
          <table class="safety" border="1" bgcolor="#eeeeee">
            <colgroup>
              <col width="5%">
              <col width="95%">
            </colgroup>
            <tr>
              <td>
                <b>Note</b>
              </td>
            </tr>
            <tr>
              <td>
                <p class="safety">If additionally, you want the backup file to be copied to the SINUMERIK filesystem, then select "Export additionally to SINUMERIK files system" check box. After Pressing "OK", a popup window appears. Select the location in the SINUMERIK filesystem where you want to save the backup file.</p>
              </td>
            </tr>
          </table>
          <a id="image_137816101259_0">
          </a> <img border="0" src="images/162892988171.png" width="500" height="296" alt="OPC UA Server generate backup archiving"/><p class="imgtitle">OPC UA Server generate backup archiving</p></li>
        <li>
          <p>Then press "OK". The popup window appears with message, "OPC UA archive generated successfully". </p>
          <a id="image_137816651659_0">
          </a> <img border="0" src="images/145609673483.png" width="379" height="135" alt="Generate archive popup"/><p class="imgtitle">Generate archive popup</p></li>
        <li>
          <p>Press "OK". The backup file is saved automatically in the local folder (internal memory) and in the SINUMERIK file system as selected. The internal path for NCU will be "/card/user/sinumerik/hmi/cfg" and for PCU/IPC "C:\Program Files (x86)\Siemens\MotionControl/user/sinumerik/hmi/cfg".</p>
        </li>
      </ol>
      <p>
      </p>
      <p>
      </p>
      <h4 class="Blocklabel">Restoring backup archive</h4>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee" style="margin-bottom:10px">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Note</b>
          </td>
        </tr>
        <tr>
          <td>
            <ul class="safety">
              <li class="safety">
                <p class="safety">Backup archives can only be restored on the backed up target system.</p>
              </li>
              <li class="safety">
                <p class="safety">By restoring backup archive, all the current settings and data of the OPC UA Server will be replaced with the backup file data.</p>
              </li>
            </ul>
          </td>
        </tr>
      </table>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Note</b>
          </td>
        </tr>
        <tr>
          <td>
            <h4 class="Blocklabel">
            </h4>
            <p class="safety">Restoring the backup archive does not open the firewall port for the OPC UA Server automatically. Due to security reasons, this port must be manually opened in the firewall.</p>
          </td>
        </tr>
      </table>
      <ol>
        <li>
          <p>Select "Backup archive (internal)" radio button under "Read in Archive".</p>
          <a id="image_137816664459_0">
          </a> <img border="0" src="images/162890905355.png" width="500" height="296" alt="OPC UA Server restore backup archiving"/><p class="imgtitle">OPC UA Server restore backup archiving</p><p>In case, if you have saved and want to select the backup file from the SINUMERIK file system, then select "Read in backup/setup archive from SINUMERIK file system" radio button. After Pressing "OK", a popup window appears. Select the backup file from the SINUMERK file system.</p></li>
        <li>
          <p>Then Press "OK". With the valid input file, a popup window appears with message, "Read in completed successfully".</p>
          <a id="image_137816690059_0">
          </a> <img border="0" src="images/137816698891.png" width="379" height="135" alt="Read in archive success popup"/><p class="imgtitle">Read in archive success popup</p></li>
        <li>
          <p>Press "OK". The backup file is restored.</p>
        </li>
      </ol>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Note</b>
          </td>
        </tr>
        <tr>
          <td>
            <p class="safety">The changes become effective only after the restart of the SINUMERIK Operate.</p>
          </td>
        </tr>
      </table>
      <a name="block_4">
      </a>
      <h3 class="Blocktitle">OPC UA Server setup archiving for serial commissioning</h3>
      <p>The user generates a setup archive of OPC UA Server for serial commissioning (including configuration, user management, and models) and update new machines with setup archive.</p>
      <h4 class="Blocklabel">Generating Archive</h4>
      <ol>
        <li>
          <p>Select "Data for a machine series (setup)" radio button under "Generate archive".</p>
          <table cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td>
                <font size="1px">
                </font>
              </td>
            </tr>
          </table>
          <table class="safety" border="1" bgcolor="#eeeeee">
            <colgroup>
              <col width="5%">
              <col width="95%">
            </colgroup>
            <tr>
              <td>
                <b>Note</b>
              </td>
            </tr>
            <tr>
              <td>
                <p class="safety">This option is enabled only with manufacturer’s access levels.</p>
              </td>
            </tr>
          </table>
          <a id="image_137816702859_0">
          </a> <img border="0" src="images/162892061963.png" width="500" height="295" alt="OPC UA Server generate setup archiving for serial commissioning"/><p class="imgtitle">OPC UA Server generate setup archiving for serial commissioning</p></li>
        <li>
          <p>Press "OK". A popup window appears.</p>
        </li>
        <li>
          <p>Select the location in the SINUMERIK file system where you want to save the setup file.</p>
        </li>
        <li>
          <p>Then press "OK". The popup window appears with message, "OPC UA archive generated successfully".</p>
          <a id="image_137816651659_1">
          </a> <img border="0" src="images/145609673483.png" width="379" height="135" alt="Generate archive success popup"/><p class="imgtitle">Generate archive success popup</p></li>
        <li>
          <p>Press "OK". The setup file is saved in the USB/network share as selected.</p>
        </li>
      </ol>
      <p>
      </p>
      <p>
      </p>
      <h4 class="Blocklabel">Setup archive</h4>
      <ol>
        <li>
          <p>Select "Read in backup/setup archive from SINUMERIK file system" radio button under "Read in Archive".</p>
          <a id="image_137816728459_0">
          </a> <img border="0" src="images/162890465547.png" width="500" height="296" alt="OPC UA Server setup archiving for serial commissioning"/><p class="imgtitle">OPC UA Server setup archiving for serial commissioning</p><p>In case, if you have saved and want to select the setup file from local folder (internal memory), then select "Setup archive (internal)" radio button. The internal path for NCU will be "/card/user/sinumerik/hmi/cfg" and for PCU/IPC "C:\Program Files (x86)\Siemens\MotionControl/user/sinumerik/hmi/cfg".</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">The "Setup archive (internal)" option is enabled only with manufacturer’s access levels.</p></td></tr></table></li>
        <li>
          <p>Press "OK". A popup window appears.</p>
          <a id="image_137816741259_0">
          </a> <img border="0" src="images/163068953995.png" width="472" height="171" alt="Setup archive USB_Networkshare popup"/><p class="imgtitle">Setup archive USB_Networkshare popup</p></li>
        <li>
          <p>Select the setup file from the SINUMERIK file system. Then Press "OK".</p>
        </li>
        <li>
          <p>With the valid input file, a popup window appears with message, "Read in completed successfully".</p>
          <a id="image_137816690059_1">
          </a> <img border="0" src="images/137816698891.png" width="379" height="135" alt="Read in archive success popup"/><p class="imgtitle">Read in archive success popup</p></li>
        <li>
          <p>Press "OK". The setup archive is completed.</p>
        </li>
      </ol>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Note</b>
          </td>
        </tr>
        <tr>
          <td>
            <p class="safety">The changes become effective only after the restart of the SINUMERIK Operate.</p>
          </td>
        </tr>
      </table>
      <a name="block_5">
      </a>
      <h3 class="Blocktitle">Possible scenarios and error messages</h3>
      <a id="table_7addf2bb-63ac-1c32-75ed-840281aa98c9">
      </a> <a id="table_0"></a> <a id="table_7addf2bb-63ac-1c32-75ed-840281aa98c9"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="5.4%"><col width="34.5%"><col width="36.6%"><col width="23.5%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>Sl no</b>.</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>Selection</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>Scenario description</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>Error message</b></p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Generate backup archive</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Generation of any archive, if completed without any issues.</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">OPC UA archive generated successfully.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">OR</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Generate setup archive</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">2</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Generate backup archive (internal memory)</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">If there is no sufficient memory available.</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Insufficient memory on IPC/NCU.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">3</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Generate backup archive (on SINUMERIK file system)</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">If there is no sufficient memory available.</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Insufficient file system memory</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">OR</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Generate setup archive (on SINUMERIK file system)</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">4</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Generate backup archive (on SINUMERIK file system)</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">If the selected location is write protected or not accessible.</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">No write permission on the selected medium.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">OR</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Generate setup archive (on SINUMERIK file system)</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">5</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Generate backup archive (on SINUMERIK file system)</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">If the selected location is write protected or not accessible.</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Access to drive is not possible.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">OR</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Generate setup archive (on SINUMERIK file system)</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">6</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Read in Backup archive</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">No valid OPC UA archive file is found in internal memory.</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">No OPC UA archive is available on internal memory</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Or</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Read in Setup archive</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">7</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Read in Backup archive</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">No error in reading in file.</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Read in completed successfully.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Or</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Read in Setup archive</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">8</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Read in Backup archive</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">If the selected file is not a valid OPC UA Archive or the file is tampered by editing.</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Read in failed. Invalid file.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Or</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Read in Setup archive</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">9</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Read in Backup archive (external memory)</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">If backup archive is not from the same machine</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Read in failed. Backup Archive is generated on different Sinumerik device.</p></td></tr></table></p></div>
  </body>
</html>