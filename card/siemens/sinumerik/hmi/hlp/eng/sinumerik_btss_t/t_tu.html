<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <title>Block T/TU: Tool data: User-defined data</title>
   </head>
   <body>
      <div id="nsbanner">
         <div id="TitleRowDefault">
            <h1 class="title">Block T/TU: Tool data: User-defined data</h1>
         </div>
      </div>(Previous designation: TUD)<br/>
      <br/>
      The TUD data module is defined as a two-dimensional variable array. The module contains user-defined data for all tools. Each
      element can be addressed via a column and line index:<br/>
      The column index is the number of the user-defined tool parameter. The number of tool parameters (columns) is given by the
      variable "<a href="../sinumerik_btss_N/N_Y.html#355">numToolParams_tu</a>" in module Y in area N. <br/>
      The line index is the tool number. If non-existent tools are accessed, the request is acknowledged negatively.<br/>
      <br/>
      The user-defined tool data are all of the same type.<br/>
      
      <div><a name="5695"></a>
         &nbsp;
      </div>
      <table cellspacing="0" cellpadding="2" style="border:2px solid black; border-collapse:collapse; empty-cells:show;" width="100%">
         <tr>
            <td width="20%" style="border:1px solid black"><b>data</b></td>
            <td colspan="3" style="border:1px solid black">OEM-defined tool parameters</td>
            <td width="20%" style="border:1px solid black">$TC_TPCx[y] x = ParameterNo y = ToolNo</td>
         </tr>
         <tr>
            <td width="20%" valign="top" style="border:1px solid black"></td>
            <td width="20%" valign="top" style="border:1px solid black"><span style="font-size: 8pt">Column index:<br></span>Parameter number
            </td>
            <td width="20%" valign="top" style="border:1px solid black"><span style="font-size: 8pt">Line index:<br></span>Tool number<br>Tool number
            </td>
            <td width="20%" valign="top" style="border:1px solid black"><span style="font-size: 8pt">Max. line index:<br></span>SLMAXTOOLNUMBER
            </td>
            <td width="20%" style="border:1px solid black"></td>
         </tr>
         <tr>
            <td colspan="5" style="border:1px solid black">OEM-defined parameter for the tools with all permissible data types, except the data type "String".<br/>
               The OEM data are made available with the MD settings MD bits $MN_MM_TOOL_MANAGEMENT_MASK, bit2=1 and MD18094 $MN_MM_NUM_CC_TDA_PARAM&gt;0.<br/>
               The data type of the individual parameters is specified by MD18095 $MN_MM_TYPE_CC_TDA_PARAM, and can be determined from the
               file _N_COMPLETE_TOA_ACX. The transfer in the OPI is always as TYPE_DOUBLE.<br/>
               If the data is the type "String", the variable can be read and written under "dataStr".<br/>
               If there is read access to an OEM-defined tool parameter of the data type "String", the value=0 is returned.<br/>
               If there is write access to an OEM-defined tool parameter of the data type "String", an error code is returned.<br/>
               
            </td>
         </tr>
         <tr>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Type<br></span>TYPE_DOUBLE
            </td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Unit<br></span>No unit
            </td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Default Value<br></span></td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Minimum Value<br></span></td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Maximum Value<br></span></td>
         </tr>
         <tr>
            <td colspan="5" style="border:1px solid black"><span style="font-size: 8pt">Access Path HMI:</span> /Tool/User/data[u&lt;Tool Area&gt;, c&lt;Column Index&gt;, &lt;Line Index&gt;]
            </td>
         </tr>
      </table>
      <div><a name="6010"></a>
         &nbsp;
      </div>
      <table cellspacing="0" cellpadding="2" style="border:2px solid black; border-collapse:collapse; empty-cells:show;" width="100%">
         <tr>
            <td width="20%" style="border:1px solid black"><b>dataStr</b></td>
            <td colspan="3" style="border:1px solid black">OEM-defined tool parameter (string type)</td>
            <td width="20%" style="border:1px solid black">$TC_TPCx[y] x = ParameterNo y = ToolNo</td>
         </tr>
         <tr>
            <td width="20%" valign="top" style="border:1px solid black"></td>
            <td width="20%" valign="top" style="border:1px solid black"><span style="font-size: 8pt">Column index:<br></span>1000 + no. of the user-defined tool parameter
            </td>
            <td width="20%" valign="top" style="border:1px solid black"><span style="font-size: 8pt">Line index:<br></span>Tool number<br>Tool number T
            </td>
            <td width="20%" valign="top" style="border:1px solid black"><span style="font-size: 8pt">Max. line index:<br></span>32000
            </td>
            <td width="20%" style="border:1px solid black"></td>
         </tr>
         <tr>
            <td colspan="5" style="border:1px solid black">OEM-defined tool parameters of type "String", column index = parameter number + 1000<br/>
               If there is read access to an OEM-defined tool parameter that is not of the data type "String", an empty string is returned.<br/>
               If there is write access to an OEM-defined tool parameter that is not of the data type "String", an error code is returned.<br/>
               Addressing needs an offset of 1000 for the access only if the access is programmed directly. When accessing via an HMI or
               from the PLC, the offset is added internally and the addition of "1000" generates an error.<br/>
               
            </td>
         </tr>
         <tr>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Type<br></span>TYPE_STRING
            </td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Unit<br></span>No unit
            </td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Default Value<br></span></td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Minimum Value<br></span></td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Maximum Value<br></span></td>
         </tr>
         <tr>
            <td colspan="5" style="border:1px solid black"><span style="font-size: 8pt">Access Path HMI:</span> /Tool/User/dataStr[u&lt;Tool Area&gt;, c&lt;Column Index&gt;, &lt;Line Index&gt;]
            </td>
         </tr>
      </table>
      <p></p>
   </body>
</html>