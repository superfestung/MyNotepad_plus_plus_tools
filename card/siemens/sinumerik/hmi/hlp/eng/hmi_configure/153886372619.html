<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Menus</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Menus</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>In addition to applications, menus can also be displayed in the frames of a display. These menus are typically used to display certain applications in another frame or to switch displays.</p>
      <p>A menu configuration consists of four parts:</p>
      <ul>
        <li>
          <p>Description of the individual menu items (section <code>[menuitems]</code>)</p>
        </li>
        <li>
          <p>Description of the look and feel of the menu items (section <code>[menuitemstyle]</code>)</p>
        </li>
        <li>
          <p>Description of the menu structure (section <code>[menus]</code>)</p>
        </li>
        <li>
          <p>Description of the look and feel of the menu (section <code>[menustyle]</code>)</p>
        </li>
      </ul>
      <p>The <code>[menuitems]</code> section defines the menu items (keys/buttons). Each entry corresponds to a key/button. The properties of the menu items can be configured.</p>
      <p>The following properties are available:</p>
      <a id="table_cc8f8312-d1d3-7503-9f0b-4c8ffc153545">
      </a> <a id="table_0"></a> <a id="table_cc8f8312-d1d3-7503-9f0b-4c8ffc153545"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="29.0%"><col width="71.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Property</p></th><th><p type="p_table_lb" align="left">Meaning</p></th></tr><tr valign="top"><td>name</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Unique name of the menu item.</p></td></tr><tr valign="top"><td>onClicked</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Action to be triggered by clicking on this menu item. The actions that are possible are described in the "Menu actions" section.</p></td></tr><tr valign="top"><td>text</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Text displayed on the menu item. Line breaks can be generated with <code>\n</code> or <code>%n</code>.</p></td></tr><tr valign="top"><td>textID</td><td><p type="p_table_l" style="margin-top: 4px" align="left">A text ID that references a language-dependent text. If the text can be read, it replaces the text specified in the "text" property.</p></td></tr><tr valign="top"><td>textContext</td><td><p type="p_table_l" style="margin-top: 4px" align="left">The context associated with the text ID. The context can also be specified when configuring a menu or globally on the file level. Specifying a context in the menu item overwrites any existing context information in the menu or on the file level. Specifying a context in the menu overwrites any existing context information on the file level.</p></td></tr><tr valign="top"><td>image</td><td><p type="p_table_l" style="margin-top: 4px" align="left">File name of the icon that is displayed on the menu item.</p><p type="p_table_l" align="left">Special case for display button:<br />For buttons that are used to switch displays, the icon to be displayed on the button can be generated automatically by the Display Manager. To do this, you specify the name of the display to be switched with the file extension ".auto" as the file name. A schematic drawing of the display is then displayed as an icon. The stroke width and stroke color used for this representation can be specified with the properties strokeWidth and strokeColor.</p><p type="p_table_l" align="left">Display buttons have no text and no "imagePressed" icon.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>strokeWidth</code><sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Stoke width of the schematic drawing for display buttons (see Property image). Default: 1.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>strokeColor</code><sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Color of the stokes of the schematic drawing for display buttons (see Property image).</p><p type="p_table_l" align="left">Default: Qt::lightGray</p></td></tr><tr valign="top"><td>imagePressed</td><td><p type="p_table_l" style="margin-top: 4px" align="left">File name of the icon displayed on the menu item in the pressed state. As an alternative to specifying this property, a file named "&lt;image>_activated" is automatically used, if available; &lt;image> is the name specified in the "image" property.</p></td></tr><tr valign="top"><td>accessLevel</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Access level from which the menu item is displayed:</p><p type="p_table_l" align="left">System, Manufacturer, Service, Customer, Key_3, Key_2, Key_1, Key_0 or numerical equivalent (0-7)</p><p type="p_table_l" align="left">Default: Key_0 (7)</p></td></tr><tr valign="top"><td>menuItemStyle</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Style of the menu item that defines all visual properties of the menu item.</p></td></tr><tr valign="top"><td> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>Note</b></p><p type="p_table_l" align="left">All of the properties described below can be specified for configuring the respective menu items as well as for defining the MenuItemStyles. An entry in the menu item overwrites the corresponding entry in the MenuItemStyle.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>textSize</code><sup>2)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Font size</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>textAlignment</code><sup>2)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Alignment of the text of the menu item:</p><p type="p_table_l" align="left">Left, Right, Top, Bottom, TopLeft, TopRight, BottomLeft, BottomRight (analog Qt::Alignment)</p><p type="p_table_l" align="left">You can also specify the values of the Qt flag field in hex (0x00) or decimal.</p><p type="p_table_l" align="left">Default: Qt::AlignCenter</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>imageAlignment</code><sup>2)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Alignment of the icon of the menu item:</p><p type="p_table_l" align="left">Left, Right, Top, Bottom, TopLeft, TopRight, BottomLeft, BottomRight (analog Qt::Alignment)</p><p type="p_table_l" align="left">You can also specify the values of the Qt flag field in hex (0x00) or decimal.</p><p type="p_table_l" align="left">Default: Qt::AlignCenter</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>width</code><sup>2)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Width of the menu item in pixels.</p><p type="p_table_l" align="left">Default behavior:</p><p type="p_table_l" align="left">The menu items equally share the available space in the menu (horizontal menu) less spacing, or are as wide as the menu minus the margin (column menu).</p><p type="p_table_l" align="left">For grid menus, the menu items equally share height and width.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>height</code><sup>2)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Height of the menu item in pixels.</p><p type="p_table_l" align="left">Default behavior:</p><p type="p_table_l" align="left">The menu items equally share the available space in the menu (vertical menu) less spacing, or are as tall as the menu minus the margin (row menu).</p><p type="p_table_l" align="left">For grid menus, the menu items equally share height and width.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>color</code><sup>2)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Color of the menu item.</p><p type="p_table_l" align="left">See paragraph "Color definitions".</p><p type="p_table_l" align="left">Default: Qt::lightGray</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>pressedColor</code><sup>2)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Color of the menu item in the pressed state.</p><p type="p_table_l" align="left">See paragraph "Color definitions".</p><p type="p_table_l" align="left">Default: Qt::blue</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>textColor</code><sup>2)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Color of the menu item text</p><p type="p_table_l" align="left">See paragraph "Color definitions".</p><p type="p_table_l" align="left">Default: Qt::black</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>pressedTextColor</code><sup>2)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Color of the menu item text in the pressed state of the menu item</p><p type="p_table_l" align="left">See paragraph "Color definitions".</p><p type="p_table_l" align="left">Default: Qt::white</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>borderWidth</code><sup>2)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Width of the border of the menu item in pixels</p><p type="p_table_l" align="left">Default: 1.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>borderColor</code><sup>2)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Color of the border of the menu item</p><p type="p_table_l" align="left">See paragraph "Color definitions".</p><p type="p_table_l" align="left">Default: Qt::darkGray</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>textRect</code><sup>2)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Rectangle relative to the menu item (widget coordinate system, i.e. TopLeft of the menu item is coordinate 0,0) in which the text is aligned.</p><p type="p_table_l" align="left">The following should be specified:</p><p type="p_table_l" align="left">x, y, width, height. For example, textRect:="0,10,40,30" or textRect:=0/10/40/30 or textRect:=0 10 40 30</p><p type="p_table_l" align="left">Note the required quotes when commas are used as delimiters, because commas are also the separator between the properties.</p><p type="p_table_l" align="left">Default: The rectangle within the border; for borderWidth = 0 this is the rectangle of the complete menu item.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>imageRect</code><sup>2)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Rectangle relative to the menu item (widget coordinate system, i.e. TopLeft of the menu item is coordinate 0,0) in which the icon is aligned.</p><p type="p_table_l" align="left">The following should be specified:</p><p type="p_table_l" align="left">x, y, width, height. For example, imageRect:="0,10,40,30" or imageRect:=0/10/40/30 or imageRect:=0 10 40 30</p><p type="p_table_l" align="left">Note the required quotes when commas are used as delimiters, because commas are also the separator between the properties.</p><p type="p_table_l" align="left">Default: The rectangle within the border; for borderWidth = 0 this is the rectangle of the complete menu item.</p></td></tr></table></p><p><sup>1)</sup> Only relevant for display buttons</p><p><sup>2) </sup>Applies to menuItem and menuItemStyle</p><a name="block_1"></a><h3 class="Blocktitle">Example 1</h3>[menuitems]MENUITEM001= name:=menuitem1, onClicked:=showDisplay(display1), text:="Display1"MENUITEM002= name:=menuitem2, onClicked:=showDisplay(display2), text:="Display2", accessLevel:=Customer, width:=100MENUITEM003= name:=miPdf, menuItemStyle:=misMenu, onClicked:="showApp(defaultFrame, appPdf)", image:=dm_pdf.png, text:="PDF"MENUITEM004= name:=miBrowser, menuItemStyle:=misMenu, onClicked:="showApp(defaultFrame, appBrowser)", image:=dm_browser.png, textID:=TEXT_ID_BROWSER<p>In the <code>[menuitemstyles]</code> section, styles can be defined for menu items in which all visual properties of a menu item are defined. The individual properties can in turn be overwritten in the menu item. The summary of all visual attributes saves typing work, because you usually have many menu items that generally should all look the same. If a property should then be different for a menu item, it can be overwritten individually.</p><p>Description of MenuItemStyle properties: See above.</p><a name="block_2"></a><h3 class="Blocktitle">Example 2</h3>[menuitemstyles]MENUITEMSTYLE001= name:=misMenu, textSize:=10, textAlignment:=bottom, imageAlignment:=top, color:=37/53/63, textColor:=153/173/185, pressedColor:=52/87/140, pressedTextColor:=White, borderColor:=37/53/63, pressedBorderColor:=52/87/140, borderWidth:=5, height:=66, width:=66<p>For unspecified properties, the corresponding default values (see above) take effect.</p><p>In the <code>[menus]</code> section, one or more <code>menuItems</code> are combined into a menu. This is done using the <code>menuItems</code> property, which contains a list of the menu items (buttons/buttons) to be displayed in a certain menu. The available properties are listed in the following table:</p><a id="table_3620c63c-6d7c-e926-0991-5632fd11e73a"></a> <a id="table_1"></a> <a id="table_3620c63c-6d7c-e926-0991-5632fd11e73a"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="29.1%"><col width="70.9%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left" class="comment">Property</p></th><th><p type="p_table_lb" align="left" class="comment">Meaning</p></th></tr><tr valign="top"><td>menuItems</td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">List of menu items.</p><p type="p_table_l" align="left" class="comment">Comma-separated list of menu item names</p><p type="p_table_l" align="left" class="comment">With the "grid" menu layout, the menu items are specified as follows to determine their position within the menu:</p><p type="p_table_l" align="left" class="comment">menuItem(row, col, rowSpan=1, colSpan=1)</p><p type="p_table_l" align="left" class="comment">The indexes "row" and "col" start with the value 0.</p><p type="p_table_l" align="left" class="comment">Specifying "rowSpan" and "colSpan" is optional, default value is 1 (analogous to QGridLayout::addWidget ())</p><p type="p_table_l" align="left" class="comment">With the "row" or "col" menu layout, you can also use the specification of spacing (pixel) and stretch (factor = 0):</p><ul class="table"><li class="comment"><p class="comment">Spacing inserts "int" pixels of additional spacing between the menu items (analogous to QBoxLayout::addSpacing ())</p></li><li class="comment"><p class="comment">Stretch inserts a stretchable additional distance between the menu items, an expansion factor can be optionally specified (analogous to QBoxLayout::addStretch ())</p></li></ul></td></tr><tr valign="top"><td>defaultFrame</td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Name of the frame on which the menu items of the menu are to act and that use the "defaultFrame" string as target specification in the showApp statement. This allows menu items to be reused in multiple menus.</p></td></tr><tr valign="top"><td>textContext</td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">The context for the text ID of the menu items (see above).</p></td></tr><tr valign="top"><td>itemAccessLevel / accessLevel</td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Access level from which the menu items are displayed:</p><p type="p_table_l" align="left" class="comment">System, Manufacturer, Service, Customer, Key_3, Key_2, Key_1, Key_0 or numerical equivalent (0-7)</p><p type="p_table_l" align="left" class="comment">Default: Key_0 (7)</p></td></tr><tr valign="top"><td>menuStyle</td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Style of the menu.</p><p type="p_table_l" align="left" class="comment">Sets all visual properties</p></td></tr><tr valign="top"><td> </td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><b>Note</b></p><p type="p_table_l" align="left" class="comment">All of the properties described below can be specified for configuring the respective menus as well as for defining the MenuStyles. An entry in the menu overwrites the corresponding entry in the MenuStyle.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>layout</code><sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Alignment of menu items:</p><p type="p_table_l" align="left" class="comment">"row", "col" or "grid". With a "row" or "col" layout, the menu items are aligned horizontally in a row or vertically in a column.</p><p type="p_table_l" align="left" class="comment">With a "grid" layout, the menu items are arranged in a grid.</p><p type="p_table_l" align="left" class="comment">Default: "row"</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>margin</code><sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Margin between the menu items and the outer edge of the menu.</p><p type="p_table_l" align="left" class="comment">Value in pixels, (analogous to QBoxLayout::setMargin() or QGridLayout::setContentsMargin() (all 4 directions))</p><p type="p_table_l" align="left" class="comment">Default: 1.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>spacing</code><sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Spacing between the menu items.</p><p type="p_table_l" align="left" class="comment">Value in pixels, (analogous to QBoxLayout::setSpacing() or QGridLayout::setSpacing())</p><p type="p_table_l" align="left" class="comment">Default: 1.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>color/ backgroundColor</code><sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Color (background color) of the menu.</p><p type="p_table_l" align="left" class="comment">See paragraph "Color definitions".</p><p type="p_table_l" align="left" class="comment">Default: Qt::gray</p></td></tr></table></p><p class="comment"><sup>1)</sup> Applies to menu and menuStyle</p><a name="block_3"></a><h3 class="Blocktitle">Example 3</h3>[menus]MENU001= name:=menu1, menuItems:="menuitem1, menuitem2, menuitem3"MENU002= name:=menu2, orientation:=vertical, margin:=2, spacing:=2, items:="menuitem4, menuitem5, spacing(50), menuitem6, menuitem7, stretch()", itemHeight:=100MENU003= name:=mMenuOben, menuStyle:=msMenu, defaultFrame:=fTop, items:="miPdf, miBrowser, spacing(10), miOperate, stretch(), miMaximize"MENU004= name:=mGridMenu, menuStyle:=msGrid, defaultFrame:=fBottom, items:="miMachine(0,0), miProgram(0,1), miProgramManager(0,2), miDiagnosis(0,3), miPdf(1,0), miBrowser(1,1), mOperate(1,2,1,2), miMirror(0,3,2,1)"<p>In the <code>[menustyles]</code> section, styles can be defined for menus in which all visual properties of a menu are defined. The individual properties can in turn be overwritten during the configuration of the respective menu.</p><p class="comment">Description of the menu style properties: See above.</p><a name="block_4"></a><h3 class="Blocktitle">Example 4</h3>[menustyles]MENUSTYLE001= name:=msVerticalMenu, color:=59/76/88, layout:=column, margin:=0, spacing:=1MENUSTYLE023= name:=msGrid, color:=59/76/88, layout:=grid, margin:=10, spacing:=1<p>Finally, the menu still needs to be assigned to a frame. The "menu" frame property is used for this:</p>[frames]FRAME003= name:=frame3, x:=0, y:=970, width:=460, height:=110, menu:=menu2</div>
  </body>
</html>