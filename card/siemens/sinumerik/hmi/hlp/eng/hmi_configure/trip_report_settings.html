<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Setting the action log</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Setting the action log</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>In the "Action Log Settings" window you specify whether the operating sequences are to be logged.</p>
      <p>Here, you select which control actions should be logged, so that operator actions and sequences can be tracked and understood at a later date.</p>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Note</b>
          </td>
        </tr>
        <tr>
          <td>
            <h4 class="Blocklabel">No liability</h4>
            <p class="safety">Siemens accepts no responsibility for the completeness of the action log data or for any subsequent data manipulation.</p>
          </td>
        </tr>
      </table>
      <p>When the action log is active, you can display recorded traces in the system data using the following files:</p>
      <ul>
        <li>
          <p>"actual_actionlog.com", actual action log report </p>
        </li>
        <li>
          <p>"actual_crashlog.com", crashlog backup </p>
        </li>
      </ul>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Data that can be logged</h3>
      <a id="table_0">
      </a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="28.8%"><col width="71.1%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Logging on</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Logging is activated or deactivated.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Alarm status change</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Incoming and outgoing alarms are logged.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Keystrokes</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">All actions on the operator panel front and on an external keyboard are logged.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Channel status change</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">NC/PLC states are logged via the information channel status. If this information can be obtained in a timely manner, in many cases these states can be used to verify the operation of the machine control panel.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Window change</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The form and dialog names (assigned by the programmer) are logged each time a window is opened or closed.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Writing NCK/PLC data</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The writing of NCK and PLC variables is logged.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">File accesses</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Copying to the NC is logged.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Function calls in the NCK (PI service)</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Some program calls, for example, ASUB, are logged.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Curr. program status</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Additional information for particular events is activated. For important alarms that require NC stop, NC start, or NC reset, actual values and the current block are recorded for example.</p><p type="p_table_l" align="left">Using the selection lists "Channel" and "Spindle", the program ascertains which channel and which spindle are used for the additional information. It is possible to select two channels and two spindles simultaneously for logging.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">File write interval</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Settings for updating files: </p><ul class="table"><li><p>"automatic": The action log saves the information to an internal buffer. If the buffer is full the entries are written to the CF card.</p><p>The entries may be lost when the controller is switched off.</p></li><li><p>"after every event": All entries are backed up directly, this prevents data loss due to a power failure or similar.</p><p>Notice: As CF cards only permit a limited number of write accesses, this setting is not recommended for normal operation.</p></li><li><p>"time-controlled": New entries are backed-up for a particular length of time. An additional input field appears in which you can specify a period in seconds.</p></li></ul></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Save log as file on alarm(s)</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">The alarm numbers for which a "crash log" is generated are specified. The alarms are entered separated by a comma.</p></td></tr></table></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Note</b></td></tr><tr><td><p class="safety">The settings for data that can be logged are stored in the configuration file sltrp.ini.</p><p class="safety">The settings from the configuration file sltrp.ini for data that can be logged can be transmitted to a separate controller.</p></td></tr></table><a name="block_2"></a><h3 class="Blocktitle">Generating a crashlog file</h3><p>"actual_crashlog.com" is a backup file of the actual log when a critical event occurs (for example, Emergency Stop alarm).</p><p>The file is then no longer stored in the ring buffer of the action log and can no longer be overwritten with new entries.</p><p>The entries in the crash log file are only overwritten when yet another critical events occurs.</p><p>At the beginning, the file has no entries and is only written to after the following events:</p><ul><li><p>Interface signal DB19.DBX0.6 "Save teleprinter log" changes from 0 to 1.</p></li><li><p>The alarm entered in the "Save log as file for alarm(s)" entry field is output.</p></li></ul><p><b>Interface signal</b></p><a id="table_1"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="11.1%"><col width="11.1%"><col width="11.1%"><col width="11.1%"><col width="11.1%"><col width="11.1%"><col width="11.1%"><col width="11.1%"><col width="11.1%"></colgroup><tr valign="top"><th colspan="9"><p type="p_table_lb" align="left">DB19 (PLC → HMI)</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 7</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 6</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 5</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 4</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 3</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 2</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Bit 0</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">DBB00</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left">Save action log</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Procedure</h3><a id="table_2"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="15.2%"><col width="6.8%"><col width="77.9%"></colgroup><tr valign="top"><td><a id="image_1770081419_0"></a> <img border="0" src="images/147446218635.png" width="78" height="76"/> </td><td><p type="p_table_l" style="margin-top: 4px" align="left">1.</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Select the "Setup" operating area.</p></td></tr><tr valign="top"><td><a id="image_4318987659_0"></a> <img border="0" src="images/147443380107.png" width="79" height="36"/><a id="image_8800596619_0"></a> <img border="0" src="images/154881777419.png" width="78" height="44"/><a id="image_8166841483_0"></a> <img border="0" src="images/154882256779.png" width="78" height="44"/> </td><td><p type="p_table_l" style="margin-top: 4px" align="left">2.</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Press the "HMI", "Diagnostics", and "Action log" softkeys</p><p type="p_table_l" align="left"></p><p type="p_table_l" align="left"></p><p type="p_table_l" align="left"></p><p type="p_table_l" align="left"></p><p type="p_table_l" align="left">The "Action Log Settings" window opens.</p><p type="p_table_l" align="left">The "Data selection" area is active by default.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left">3.</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Activate the "Logging on" checkbox to activate the action log.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left">4.</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Check the relevant checkbox if you want to acquire particular events in the action log.</p></td></tr></table></p></div>
    <p>See also:<br />    <a href="trip_recorder.html">Displaying the log file</a></p>
  </body>
</html>