<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Menu actions</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Menu actions</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>The actions to be performed when a menu item is pressed are defined in the onClicked property of the menu items. This property can include one or more command statements (separated by semicolons), which are executed one after the other.</p>
      <p>The following commands are available:</p>
      <a id="table_6ab65cb0-cbec-2d52-45b5-18d4e0924fcd">
      </a> <a id="table_0"></a> <a id="table_6ab65cb0-cbec-2d52-45b5-18d4e0924fcd"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="45.0%"><col width="55.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Command</p></th><th><p type="p_table_lb" align="left">Meaning</p></th></tr><tr valign="top"><td>showDisplay(displayname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Switches to the display named <code>displayname</code></p><p type="p_table_l" align="left">The target display must be configured in the same display configuration file.</p></td></tr><tr valign="top"><td>showApp(framename, appname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Displays application <code>appname</code> in the <code>framename</code> frame</p><p type="p_table_l" align="left">If the application is already visible in another frame of the display, it is moved from there to the frame specified here. If possible, the freed frame is filled with the application displaced from <code>framename</code>. If this happens, it is referred to as application swapping. Which applications can be displayed in the released frame is specified in the "runableApps" property of this frame.</p><p type="p_table_l" align="left">You can prefix the frame name with a display name (<code>displayname.framename</code>) and change the frame assignment in hidden displays.</p><p type="p_table_l" align="left">Instead of <code>appname</code>, you can also specify <code>framename.currentApp</code> or <code>displayname.framename.currentApp</code>. <code>showApp()</code> then moves the displayed application in the <code>framename</code> or <code>displayname.framename</code> frame into the specified frame.</p></td></tr><tr valign="top"><td>showPopup(framename, appname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Displays application <code>appname</code> in the <code>framename</code> frame as popup window.</p><p type="p_table_l" align="left">It is not permissible that frame <code>framename</code> belongs to a display, i.e. it is not specified in the <code>Frames</code> attribute for an existing display. It is automatically displayed with the <code>showPopup()</code> call and placed over the currently active display.</p><p type="p_table_l" align="left">The only applications allowed are the applications created on the basis of the <code>SlGfwSideScreenDialog</code> class. SINUMERIK Operate and OEM frame applications cannot be displayed as popups. If you use an application that was developed based on the <code>SlGfwSideScreenDialog</code> class as a popup, you need to declare its window as a TopLevel window, which means the Qt::WindowStaysOnTopHint bit must be set in the <code>windowFlags()</code>.</p><p type="p_table_l" align="left">Only one popup can be open at a time.</p></td></tr><tr valign="top"><td>hidePopup(appname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Hides an application displayed with <code>showPopup()</code> or <code>togglePopup()</code></p></td></tr><tr valign="top"><td>togglePopup(framename, appname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Displays application <code>appname</code> in the <code>framename</code> frame as popup window. If the <code>appname</code> application is already displayed as popup window, then it is hidden again.</p></td></tr><tr valign="top"><td>showMenu(framename, menuname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Shows the <code>menuname</code> menu in the <code>framename</code> frame.</p></td></tr><tr valign="top"><td>showPopupMenu(framename, menuname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Shows the menu <code>menuname</code> in the <code>framename</code> frame as popup menu.</p></td></tr><tr valign="top"><td>hidePopupMenu(menu name)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Hides a pop-up menu displayed with <code>showPopupMenu()</code> or <code>togglePopupMenu()</code>.</p></td></tr><tr valign="top"><td>togglePopupMenu(framename, menuname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Shows the menu <code>menuname</code> in the <code>framename</code> frame as popup menu. If menu <code>menuname</code> is already displayed as popup menu in the <code>framename</code> frame, then it is hidden again.</p></td></tr><tr valign="top"><td>setMirrorMode(true|false)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Enables (true) or disables (false) mirror mode</p><p type="p_table_l" align="left">When mirror mode is enabled, the frames of all displays in which mirror mode has not been disabled with <code>enableMirrorMode(false)</code> are mirrored horizontally. In other words, frames that were previously displayed on the left are now displayed on the right and vice versa. The size of the frames does not change.</p></td></tr><tr valign="top"><td>toggleMirrorMode()</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Toggles the mirror mode</p><p type="p_table_l" align="left">If it was previously enabled, it is now disabled and vice versa.</p></td></tr><tr valign="top"><td>sendCmd(appname, cmd1, ...)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Sends a command to the <code>appname</code> application. If the target application is <code>appname</code> SINUMERIK Operate (<code>appname="OPERATE"</code>), the operating area of SINUMERIK Operate can be selected in this way,</p><p type="p_table_l" align="left">e.g. <code>sendCmd(OPERATE, AreaMachine)</code></p><p type="p_table_l" align="left">The identifier for the operating area (<code>AreaMachine</code>) can be taken from the <code>systemconfiguration.ini</code> file (see <code>[areas]</code> section). If the target application is an application created on the basis of the <code>SlGfwSideScreenDialog</code> class, this application is given a command of the type <code>SL_GFW_MSG_DISPCONFIG_CMD</code> in its <code>onMessage()</code> implementation.</p><p type="p_table_l" align="left">The commands <code>cmd1,…, cmd10</code> are given as message data in the form of a string in which the individual parameters (<code>cmd1 … cmd10</code>) are separated by the "|" symbol.</p><p type="p_table_l" align="left">Commands to Microsoft Windows applications (.EXE) are not possible with <code>sendCmd()</code>!</p></td></tr></table></p><p></p><a name="block_1"></a><h3 class="Blocktitle">Examples</h3>[menuitems]MENUITEM001= name:=item1, onClicked:= "showApp(frame1,OPERATE);showApp(frame2,myDialog)", text:="HMI"<p>Displays SINUMERIK Operate in "frame1" and the "myDialog" application in "frame2" on the current display.</p><p></p>MENUITEM003= name:=item3, onClicked:="showApp(full.frame1,frame2.currentApp);showDisplay(full)", text:="Full frame"<p>Sets the currently displayed application (<code>currentApp</code>) from "frame2" to "frame1" in the "full" display. Thereafter, the display is switched to "full".</p><p></p>MENUITEM004= name:=item4, onClicked:= "sendCmd(OPERATE,'AreaMachine')", text:="Machine"<p>Selects the machine operating area in SINUMERIK Operate.</p><p></p>MENUITEM005= name:=item5, onClicked:="sendCmd(myDialog,'doFun','42')", text:="Machine"<p>Sends message <code>SL_GFW_MSG_DISPCONFIG_CMD</code> with the data "doFun|42" to the "myDialog" application (requires the use of CreateMyHMI/3GL).</p></div>
  </body>
</html>