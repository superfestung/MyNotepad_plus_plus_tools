<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Kurventabellen definieren (CTABDEF, CATBEND)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Kurventabellen definieren (CTABDEF, CATBEND)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Eine Kurventabelle stellt ein Teileprogramm oder einen Teileprogrammabschnitt dar, welcher durch Voranstellen von CTABDEF und den abschließenden Befehl CTABEND gekennzeichnet ist.</p>
      <p>Innerhalb dieses Teileprogrammabschnitts werden durch Bewegungsanweisungen einzelnen Positionen der Leitachse eindeutige Folgeachspositionen zugeordnet, die als Stützstellen für die Berechnung eines Kurvenzugs in Form eines Polynoms bis zu maximal 5. Grades dienen. </p>
      <a id="image_794866827_0">
      </a> <img border="0" src="images/167568374155.png" width="340" height="302"/><a name="block_1"></a><h3 class="Blocktitle">Voraussetzung</h3><p>Für die Definition von Kurventabellen muss durch entsprechende MD-Projektierung Speicherplatz reserviert sein (→ Maschinenhersteller!).</p><a name="block_2"></a><h3 class="Blocktitle">Syntax</h3>CTABDEF(&lt;Folgeachse>,&lt;Leitachse>,&lt;n>,&lt;Periodizität>[,&lt;Speicherort>])...CTABEND<a name="block_3"></a><h3 class="Blocktitle">Bedeutung</h3><a id="table_818147d7-c1b9-4831-9c05-9be01a59a59f"></a> <a id="table_0"></a> <a id="table_818147d7-c1b9-4831-9c05-9be01a59a59f"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="24.2%"><col width="6.8%"><col width="6.8%"><col width="62.1%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CTABDEF( )</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Beginn der Kurventabellendefinition</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CTABEND</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Ende der Kurventabellendefinition</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Folgeachse></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Achse, deren Bewegung über die Kurventabelle berechnet werden soll</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Leitachse></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Achse, die die Leitwerte zur Berechnung der Folgeachsbewegung liefert</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;n></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Nummer (<b>ID</b>) der Kurventabelle</p><p type="p_table_l" align="left">Die Nummer einer Kurventabelle ist eindeutig und unabhängig vom Speicherort. Es können keine Tabellen mit der gleichen Nummer im statischen und dynamischen NC-Speicher liegen.</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Periodizität></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Tabellenperiodizität</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>0</code></p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Tabelle ist nicht periodisch (wird nur einmal abgearbeitet, auch bei Rundachsen)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>1</code></p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Tabelle ist periodisch bezüglich Leitachse</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>2</code></p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Tabelle ist periodisch bezüglich Leitachse und Folgeachse</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Speicherort></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Angabe des Speicherorts (optional)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>"SRAM"</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Die Kurventabelle wird im <b>statischen</b> NC-Speicher angelegt.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>"DRAM"</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Die Kurventabelle wird im <b>dynamischen</b> NC-Speicher angelegt.</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><b>Hinweis:</b><br />Wenn für diesen Parameter kein Wert programmiert wird, dann wird der mit MD20905 $MC_CTAB_DEFAULT_MEMORY_TYPE eingestellte Standard-Speicherort verwendet.</p></td></tr></table></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><h4 class="Blocklabel">Überschreiben</h4><p class="safety">Eine Kurventabelle wird überschrieben, sobald bei einer neuen Tabellendefinition deren Nummer (<code>&lt;n></code>) benutzt wird (Ausnahme: die Kurventabelle ist in einer Achskopplung aktiv oder mit <code>CTABLOCK</code> gesperrt). <b>Beim Überschreiben wird keine entsprechende Warnung ausgegeben!</b></p></td></tr></table><a name="block_4"></a><h3 class="Blocktitle">Beispiele</h3><h4 class="Blocklabel">Beispiel 1: Programmabschnitt als Kurventabellendefinition</h4><p>Ein Programmabschnitt soll unverändert zur Definition einer Kurventabelle benutzt werden. Der darin auftretende Befehl zum Vorlaufstopp <code>STOPRE</code> kann stehen bleiben und wird sofort wieder aktiv, sobald der Programmabschnitt nicht mehr zur Tabellendefinition benutzt wird und <code>CTABDEF</code> und <code>CTABEND</code> entfernt wurden.</p><a id="table_6e3bd464-b996-4403-8b89-7499c2c0ab5b"></a> <a id="table_1"></a> <a id="table_6e3bd464-b996-4403-8b89-7499c2c0ab5b"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EIAAC"><colgroup><col width="36.4%"><col width="63.6%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>…</td><td> </td></tr><tr valign="top"><td>CTABDEF(Y,X,1,1)</td><td>; Definition einer Kurventabelle.</td></tr><tr valign="top"><td>…</td><td> </td></tr><tr valign="top"><td>IF NOT ($P_CTABDEF)</td><td> </td></tr><tr valign="top"><td>STOPRE</td><td> </td></tr><tr valign="top"><td>ENDIF</td><td> </td></tr><tr valign="top"><td>…</td><td> </td></tr><tr valign="top"><td>CTABEND</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Beispiel 2: Definition einer nichtperiodischen Kurventabelle</h4><a id="image_794854667_0"></a> <img border="0" src="images/167568222347.png" width="340" height="283"/><a id="table_726640a2-4797-49d7-b541-9571aba0a71d"></a> <a id="table_2"></a> <a id="table_726640a2-4797-49d7-b541-9571aba0a71d"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EFCAC"><colgroup><col width="34.1%"><col width="65.9%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>N100 CTABDEF(Y,X,3,0)</td><td>; Beginn der Definition einer nichtperiodischen Kurventabelle mit der Nummer 3.</td></tr><tr valign="top"><td>N110 X0 Y0</td><td>; 1.Bewegungsanweisung, legt Startwerte und 1. Stützstelle fest:Leitwert: 0, Folgewert: 0</td></tr><tr valign="top"><td>N120 X20 Y0</td><td>; 2.Stützstelle:Leitwert: 0…20, Folgewert: Startwert…0</td></tr><tr valign="top"><td>N130 X100 Y6</td><td>; 3.Stützstelle:Leitwert: 20…100, Folgewert: 0…6</td></tr><tr valign="top"><td>N140 X150 Y6</td><td>; 4.Stützstelle:Leitwert: 100…150, Folgewert: 6…6</td></tr><tr valign="top"><td>N150 X180 Y0</td><td>; 5.Stützstelle:Leitwert: 150…180, Folgewert: 6…0</td></tr><tr valign="top"><td>N200 CTABEND</td><td>; Ende der Definition. Die Kurventabelle wird in ihrer internen Darstellung als Polynom maximal 5.Grades erzeugt. Die Berechnung des Kurvenzugs mit den angegebenen Stützstellen ist abhängig von der modal gewählten Interpolationsart (Kreis-, Linear-, Spline-Interpolation). Der Teileprogrammzustand vor Beginn der Definition wird wiederhergestellt.</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Beispiel 3: Definition einer periodischen Kurventabelle</h4><p class="comment">Definition einer periodischen Kurventabelle mit Nummer 2, Leitwertbereich von 0 bis 360, Folgeachsbewegung von 0 nach 45 und zurück nach 0:</p><a id="table_59593f02-1a30-48a7-8508-0b0ed95cdbce"></a> <a id="table_3"></a> <a id="table_59593f02-1a30-48a7-8508-0b0ed95cdbce"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E4DAC"><colgroup><col width="58.6%"><col width="41.4%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>N10 DEF REAL DEPPOS</td><td> </td></tr><tr valign="top"><td>N20 DEF REAL GRADIENT</td><td> </td></tr><tr valign="top"><td>N30 CTABDEF(Y,X,2,1)</td><td>; Beginn der Definition.</td></tr><tr valign="top"><td>N40 G1 X=0 Y=0</td><td> </td></tr><tr valign="top"><td>N50 POLY</td><td> </td></tr><tr valign="top"><td>N60 PO[X]=(45.0)</td><td> </td></tr><tr valign="top"><td>N70 PO[X]=(90.0) PO[Y]=(45.0,135.0,-90)</td><td> </td></tr><tr valign="top"><td>N80 PO[X]=(270.0)</td><td> </td></tr><tr valign="top"><td>N90 PO[X]=(315.0) PO[Y]=(0.0,-135.0,90)</td><td> </td></tr><tr valign="top"><td>N100 PO[X]=(360.0)</td><td> </td></tr><tr valign="top"><td>N110 CTABEND</td><td>; Ende der Definition.</td></tr><tr valign="top"><td colspan="2">;Test der Kurve durch Kopplung von Y an X:</td></tr><tr valign="top"><td>N120 G1 F1000 X0</td><td> </td></tr><tr valign="top"><td>N130 LEADON(Y,X,2)</td><td> </td></tr><tr valign="top"><td>N140 X360</td><td> </td></tr><tr valign="top"><td>N150 X0</td><td> </td></tr><tr valign="top"><td>N160 LEADOF(Y,X)</td><td> </td></tr><tr valign="top"><td> </td><td> </td></tr><tr valign="top"><td>N170 DEPPOS=CTAB(75.0,2,GRADIENT)</td><td>; Lesen der Tabellenfunktion beim Leitwert 75.0.</td></tr><tr valign="top"><td>N180 G0 X75 Y=DEPPOS</td><td>; Positionieren von Leit- und Folgeachse.</td></tr><tr valign="top"><td colspan="2">;Nach Einschalten der Kopplung ist kein Synchronisieren der Folgeachse nötig.</td></tr><tr valign="top"><td>N190 LEADON(Y,X,2)</td><td> </td></tr><tr valign="top"><td>N200 G1 X110 F1000</td><td> </td></tr><tr valign="top"><td>N210 LEADOF(Y,X)</td><td> </td></tr><tr valign="top"><td>N220 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p></div>
    <p>Siehe auch:<br />    <a href="156663675531.html">Kurventabellen definieren (CTABDEF, CATBEND): Weitere Informationen</a><br />    <a href="156663666443.html">Kurventabellen: Funktion und Anwendung</a></p>
  </body>
</html>