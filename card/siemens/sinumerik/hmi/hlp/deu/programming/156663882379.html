<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Überlagerte Bewegungen ($AA_OFF)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Überlagerte Bewegungen ($AA_OFF)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <a name="block_1">
      </a>
      <h3 class="BlocktitleFirst">Überlagerte Bewegungen</h3>
      <p>Über die Systemvariable $AA_OFF kann ein Positionsoffset in einer Kanalachse vorgegeben werden, der sofort herausgefahren wird:</p>
      <p>$AA_OFF[&lt;Kanalachse>] = &lt;Positionsoffset>   </p>
      <p>Über das folgende Maschinendatum kann eingestellt werden, ob der Positionsoffset der Systemvariablen zugewiesen oder in ihr aufsummiert (integriert) wird:</p>
      <p>MD36750 $MA_AA_OFF_MODE, Bit 0 = &lt;Wert></p>
      <a id="table_4bfd02a6-75c4-4320-99c9-3a02fd6ef731">
      </a> <a id="table_0"></a> <a id="table_4bfd02a6-75c4-4320-99c9-3a02fd6ef731"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="10.6%"><col width="89.3%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">&lt;Wert></p></th><th><p type="p_table_lb" align="left">Bedeutung</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Zuweisung: $AA_OFF = &lt;Positionsoffset></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Aufsummierung (Integration): $AA_OFF += &lt;Positionsoffset></p></td></tr></table></p><a name="block_2"></a><h3 class="Blocktitle">Begrenzung der Überlagerungsgeschwindigkeit</h3><p>Die maximal zulässige Geschwindigkeit, mit welcher der Positionsoffset herausgefahren wird, ist einstellbar über das Maschinendatum:</p><p>MD32070 $MA_CORR_VELO (Achsgeschwindigkeit für Überlagerung)</p><a name="block_3"></a><h3 class="Blocktitle">Axiale Ruckbegrenzung </h3><p>Durch Setzen des folgenden Maschinendatums kann für die $AA_OFF-Überlagerung eine axiale Ruckbegrenzung aktiviert werden:</p><p>MD32420 $MA_JOG_AND_POS_JERK_ENABLE (Grundeinstellung der axialen Ruckbegrenzung) = <b>1</b></p><p>Der axiale Ruck wird auf den in MD32430 $MA_JOG_AND_POS_MAX_JERK (Axialer Ruck) eingestellten Wert begrenzt.</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><p class="safety">Bei der überlagerten $AA_OFF-Bewegung kann keine vorausschauende Geschwindigkeitsführung erfolgen. Dies kann besonders bei taktweiser Vorgabe (über Synchronaktionen) von $AA_OFF-Überlagerungswerten zu einem unstetigen Geschwindigkeitsverlauf führen. Es wird in solchen Fällen empfohlen, nach Möglichkeit die Ruckbegrenzung zu deaktivieren.</p></td></tr></table><a name="block_4"></a><h3 class="Blocktitle">Obergrenze des Korrekturwerts</h3><p>Über das folgende Settingdatum kann der Wert von $AA_OFF begrenzt werden:</p><p>SD43350 $SA_AA_OFF_LIMIT (Obergrenze des Korrekturwerts $AA_OFF bei Abstandsregelung)</p><p>Der Status der Begrenzung kann über folgende Systemvariable gelesen werden:</p><p>$AA_OFF_LIMIT[&lt;Achse>] == &lt;Wert>   </p><a id="table_ea760a65-fac8-4926-8e37-7b063dd4feb1"></a> <a id="table_1"></a> <a id="table_ea760a65-fac8-4926-8e37-7b063dd4feb1"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="8.8%"><col width="91.1%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Wert</p></th><th><p type="p_table_lb" align="left">Bedeutung</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">-1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Begrenzung des Korrekturwerts in negativer Richtung erfolgt.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Begrenzung des Korrekturwerts in positiver Richtung erfolgt.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Keine Begrenzung des Korrekturwerts</p></td></tr></table></p><a name="block_5"></a><h3 class="Blocktitle">Reset-Verhalten</h3><p>Bei statischen Synchronaktionen (<code>IDS = &lt;Nummer> DO $AA_OFF = &lt;Wert></code>) führt das Abwählen des in $AA_OFF wirkenden Positionsoffsets zu einer sofortigen erneuten überlagerten Bewegung. Das Reset-Verhalten bezüglich $AA_OFF kann daher über folgendes Maschinendatum eingestellt werden:</p><p class="comment">MD36750 $MA_AA_OFF_MODE, Bit 1 = &lt;Wert></p><a id="table_3c82bf0e-73b3-4fa7-8fee-6664d147a257"></a> <a id="table_2"></a> <a id="table_3c82bf0e-73b3-4fa7-8fee-6664d147a257"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="10.6%"><col width="89.3%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left" class="comment">&lt;Wert></p></th><th><p type="p_table_lb" align="left" class="comment">Bedeutung</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Der Positionsoffset in $AA_OFF wird bei RESET abgewählt</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Der Positionsoffset in $AA_OFF bleibt über RESET hinaus erhalten</p></td></tr></table></p><a name="block_6"></a><h3 class="Blocktitle">Betriebsart JOG</h3><p>Das Ausführen einer überlagerten Bewegung aufgrund von $AA_OFF kann auch für die Betriebsart JOG freigegeben werden:</p><p>MD36750 $MA_AA_OFF_MODE, Bit 2 = &lt;Wert></p><a id="table_736967e9-69c2-4de9-927f-11702eda248f"></a> <a id="table_3"></a> <a id="table_736967e9-69c2-4de9-927f-11702eda248f"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="10.6%"><col width="89.3%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">&lt;Wert></p></th><th><p type="p_table_lb" align="left">Bedeutung</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Betriebsart JOG: überlagerte Bewegung aufgrund von $AA_OFF gesperrt</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Betriebsart JOG: überlagerte Bewegung aufgrund von $AA_OFF freigegeben</p></td></tr></table></p><p>Ein Betriebsartenwechsel in die Betriebsart JOG darf erst erfolgen, wenn der aktuelle Positionsoffset herausgefahren wurde. Andernfalls wird folgender Alarm angezeigt:</p><p>Alarm "16907 Aktion ... nur im Stopp-Zustand möglich"</p><a name="block_7"></a><h3 class="Blocktitle">Randbedingungen</h3><ul><li><p>Interruptroutinen und ASUP</p><p>Bei Aktivierung einer Interruptroutine bleiben modale Bewegungssynchronaktionen erhalten und sind auch im ASUP wirksam. Erfolgt der Unterprogrammrücksprung nicht mit <code>REPOS</code>, so wirken im Hauptprogramm die im asynchronen Unterprogramm geänderten modalen Synchronaktionen weiter.</p></li><li><p><code>REPOS</code></p><p>Im Restsatz gelten die Synchronaktionen wie im Unterbrechungssatz. Änderungen an den modalen Synchronaktionen im ASUP sind im unterbrochenen Programm nicht wirksam. Die mit <code>FCTDEF</code> programmierten Polynomkoeffizienten werden durch ASUP und <code>REPOS</code> nicht beeinflusst.</p><p>Im ASUP wirken die Polynomkoeffizienten aus dem aufrufenden Programm. Im aufrufenden Programm wirken die Polynomkoeffizienten aus dem ASUP weiter.</p></li><li><p>Programmende</p><p>Die mit <code>FCTDEF</code> programmierten Polynomkoeffizienten wirken über Programmende hinaus.</p></li><li><p>Satzsuchlauf: Aufsammeln der Polynomkoeffizienten</p><p>Bei Satzsuchlauf mit Berechnung werden die Polynomkoeffizienten in den Systemvariablen aufgesammelt.</p></li><li><p>Satzsuchlauf: Abwahl von aktiven überlagerten Bewegungen<br />Bei Satzsuchlauf werden die Befehle <code>CORROF</code> und <code>DRFOF</code> aufgesammelt und in einem Aktionssatz ausgegeben. Dabei werden im letzten Satz der <code>CORROF</code> oder <code>DRFOF</code> enthält, alle abgewählten DRF-Verschiebungen aufgesammelt.</p><p>Die Befehle zur Abwahl von überlagerten Bewegungen <code>CORROF(&lt;Achse>, "AA_OFF"</code>) werden beim Satzsuchlauf nicht aufgesammelt. Will ein Anwender diesen Satzsuchlauf weiterhin nutzen, so ist dies mit dem Satzsuchlauf via Programmtest "SERUPRO" möglich.</p><p><b>Weitere Informationen<br /></b>Funktionshandbuch Basisfunktionen</p></li><li><p>Abwahl des Positionsoffsets bei aktiven Synchronaktionen</p><p>Ist bei der Abwahl des Positionsoffsets über den Befehl <code>COROFF(&lt;Achse>, "AA_OFF")</code> eine Synchronaktion aktiv, wird der Alarm 21660 angezeigt. Gleichzeitig wird $AA_OFF abgewählt und nicht wieder gesetzt. Wird die Synchronaktion später im Satz nach <code>CORROF</code> aktiv, bleibt $AA_OFF gesetzt und es wird ein Positionsoffset interpoliert.</p></li></ul><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><p class="safety">Abhängig davon, in welchem Koordinatensystem eine Hauptlaufvariable definiert ist (BKS oder WKS), werden Frames eingerechnet oder nicht.</p><p class="safety">Entfernungen werden immer im eingestellten Grundsystem (metrisch oder inch) berechnet. Eine Umschaltung mit <code>G70</code> oder <code>G71</code> hat keine Auswirkung.</p><p class="safety"><code>DRF</code>-Verschiebungen, externe Nullpunktverschiebungen usw. werden nur bei Hauptlaufvariablen berücksichtigt, die im MKS definiert sind.</p></td></tr></table></div>
  </body>
</html>