<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Attribut: Zugriffsrechte (APR, APW, APRP, APWP, APRB, APWB)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Attribut: Zugriffsrechte (APR, APW, APRP, APWP, APRB, APWB)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <h4 class="Blocklabel">Bezeichnung</h4>
      <p>Die Bezeichnung der Zugriffsattribute AP... setzt sich zusammen aus:</p>
      <ol>
        <li>
          <p>A: <b>A</b>ccess</p>
        </li>
        <li>
          <p>P: <b>P</b>rotection</p>
        </li>
        <li>
          <p>R / W: <b>R</b>ead / <b>W</b>rite</p>
        </li>
        <li>
          <p>P / B: <b>P</b>rogram / <b>B</b>TSS</p>
        </li>
      </ol>
      <h4 class="Blocklabel">Zugriffsrechte / Schutzstufen</h4>
      <p>Den Zugriffsrechten entsprechen folgende bei der Programmierung anzugebende Schutzstufen:</p>
      <a id="table_1a3d9fa4-36c6-4a85-b710-decd7456cd63">
      </a> <a id="table_0"></a> <a id="table_1a3d9fa4-36c6-4a85-b710-decd7456cd63"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="49.2%"><col width="50.7%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Zugriffsrecht</p></th><th><p type="p_table_cb" align="center">Schutzstufe</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Kennwort System</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Kennwort Maschinenhersteller</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">1</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Kennwort Service</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">2</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Kennwort Anwender</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">3</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Schlüsselschalter Stellung 3</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">4</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Schlüsselschalter Stellung 2</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">5</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Schlüsselschalter Stellung 1</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">6</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Schlüsselschalter Stellung 0</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">7</p></td></tr></table></p><a name="block_1"></a><h3 class="Blocktitle">Definition (DEF) von Anwenderdaten</h3><p>Zugriffsrechte (APR... / APW...) können für folgende Daten definiert werden:</p><ul><li><p>globale Anwenderdaten (GUD)</p></li></ul><a name="block_2"></a><h3 class="Blocktitle">Redefinition (REDEF) von System- und Anwenderdaten</h3><p>Zugriffsrechte (APR... / APW...) können für folgende Daten redefiniert werden:</p><ul><li><p>Systemdaten</p><ul><li><p>Maschinendaten</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><h4 class="Blocklabel">Redefinition der Leserechte von Maschinendaten</h4><p class="safety">Die Schutzstufe für das Lesen von Maschinendaten kann nur mit dem Schlüsselwort APR gemeinsam für Teileprogramm und BTSS gesetzt werden.</p><p class="safety">Die Schlüsselwörter APRP und APRB werden bei der Redefinition der Leserechte nicht unterstützt und führen zur Meldung von Alarm 12490 "Zugriffsrecht APRP/APRB &lt;Schutzstufe> wurde nicht eingestellt".</p></td></tr></table></li><li><p>Settingdaten</p></li><li><p>Systemvariable</p></li><li><p>Prozessdaten</p></li><li><p>Magazindaten</p></li><li><p>Werkzeugdaten</p></li></ul></li><li><p>Anwenderdaten</p><ul><li><p>R-Parameter</p></li><li><p>Synchronaktionsvariable ($AC_MARKER, $AC_PARAM, $AC_TIMER)</p></li><li><p>Synchronaktions-GUD (SYG_xy[ ], mit x=R, I, B, A, C, S und y=S, M, U, 4, ..., 9)</p></li><li><p>EPS–Parameter</p></li><li><p>Werkzeugdaten-OEM</p></li><li><p>Magazindaten-OEM</p></li><li><p>globale Anwendervariablen (GUD)</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><p class="safety">Bei der Redefinition kann das Zugriffsrecht auf eine Variable zwischen der niedrigsten Schutzstufe 7 und der eigenen Schutzstufe, z. B. 1 (Maschinenhersteller), frei vergeben werden.</p></td></tr></table></li></ul></li></ul><a name="block_3"></a><h3 class="Blocktitle">Redefinition (REDEF) von NC-Sprachbefehlen</h3><p>Das Zugriffs- bzw. Ausführungsrecht (APX) kann für folgende NC-Sprachbefehle redefiniert werden:</p><ul><li><p><a href="156661740427.html">G-Befehle / Wegbedingungen</a></p></li><li><p><a href="156665035403.html">Vordefinierte Funktionen</a></p></li><li><p>Vordefinierte Unterprogrammaufrufe</p></li><li><p>Anweisung DO bei Synchronaktionen</p></li><li><p>Programmbezeichner von Zyklen</p><p>Der Zyklus muss in einem Zyklenverzeichnis abgelegt sein und eine PROC-Anweisung enthalten.</p></li></ul><a name="block_4"></a><h3 class="Blocktitle">Zugriffsrechte bezüglich NC-Programmen und Zyklen (APRP, APWP)</h3><p>Die unterschiedlichen Zugriffsrechte haben für den Zugriff aus einem NC-Programm bzw. Zyklus folgende Auswirkungen:</p><ul><li><p>APRP 0 / APWP 0</p><ul><li><p>Beim Abarbeiten des NC-Programms muss das System-Kennwort gesetzt sein</p></li><li><p>Der Zyklus muss im Verzeichnis _N_CST_DIR (System) abgelegt sein</p></li><li><p>Für das Verzeichnis _N_CST_DIR muss im MD11160 $MN_ACCESS_EXEC_CST das Ausführungsrecht auf System eingestellt sein</p></li></ul></li><li><p>APRP 1 / APWP 1 bzw. APRP 2 / APWP 2</p><ul><li><p>Beim Abarbeiten des NC-Programms muss das Maschinenhersteller- bzw. Service-Kennwort gesetzt sein</p></li><li><p>Der Zyklus muss im Verzeichnis _N_CMA_DIR (Maschinenhersteller) oder _N_CST_DIR abgelegt sein</p></li><li><p>Für die Verzeichnisse _N_CMA_DIR bzw. _N_CST_DIR müssen in den Maschinendaten MD11161 $MN_ACCESS_EXEC_CMA bzw. MD11160 $MN_ACCESS_EXEC_CST die Ausführungsrechte mindestens auf Maschinenhersteller eingestellt sein</p></li></ul></li><li><p>APRP 3 / APWP 3</p><ul><li><p>Beim Abarbeiten des NC-Programms muss das Anwender-Kennwort gesetzt sein</p></li><li><p>Der Zyklus muss im Verzeichnis _N_CUS_DIR (Anwender), _N_CMA_DIR oder _N_CST_DIR abgelegt sein</p></li><li><p>Für die Verzeichnisse _N_CUS_DIR, _N_CMA_DIR bzw. _N_CST_DIR müssen in den Maschinendaten MD11162 $MN_ACCESS_EXEC_CUS, MD11161 $MN_ACCESS_EXEC_CMA bzw. MD11160 $MN_ACCESS_EXEC_CST die Ausführungsrechte mindestens auf Anwender eingestellt sein</p></li></ul></li><li><p>APRP 4...7 / APWP 4...7</p><ul><li><p>Beim Abarbeiten des NC-Programms muss Schlüsselschalterstellung 3 ... 0 eingestellt sein</p></li><li><p>Der Zyklus muss im Verzeichnis _N_CUS_DIR, _N_CMA_DIR oder _N_CST_DIR abgelegt sein</p></li><li><p>Für die Verzeichnisse _N_CUS_DIR, _N_CMA_DIR bzw. _N_CST_DIR müssen in den Maschinendaten MD11162 $MN_ACCESS_EXEC_CUS, MD11161 $MN_ACCESS_EXEC_CMA bzw. MD11160 $MN_ACCESS_EXEC_CST die Ausführungsrechte mindestens auf die entsprechende Schlüsselschalterstellung eingestellt sein</p></li></ul></li></ul><a name="block_5"></a><h3 class="Blocktitle">Zugriffsrechte bezüglich BTSS (APRB, APWB)</h3><p>Die Zugriffsrechte (APRB, APWB) beschränken den Zugriff auf System- und Anwendervariablen über BTSS für alle Systemkomponenten (HMI, PLC, externe Rechner, EPS-Dienste, etc.) gleichermaßen.</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><h4 class="Blocklabel">HMI-lokale Zugriffsrechte</h4><p class="safety">Bei Änderungen von Zugriffsrechten von Systemdaten muss darauf geachtet werden, dass diese konsistent zu den über HMI-Mechanismen festgelegten Zugriffsrechten erfolgt.</p></td></tr></table><a name="block_6"></a><h3 class="Blocktitle">Zugriffsattribute APR / APW</h3><p>Aus Kombatibilitätsgründen werden die Attribute APR und APW implizit auf die Attribute APRP / APRB und APWP / APWB abgebildet:</p><ul><li><p>APR x ⇒ APRP x APRB x</p></li><li><p>APW y ⇒ APWP y APWB y</p></li></ul><a name="block_7"></a><h3 class="Blocktitle">Zugriffsrechte über ACCESS-Dateien</h3><p>Bei der Verwendung von ACCESS-Dateien für die Vergabe von Zugriffsrechten, dürfen Redefinitionen von Zugriffsrechten für Systemdaten, Anwenderdaten und NC-Sprachbefehlen ausschließlich in ACCESS-Dateien erfolgen. Eine Ausnahme bilden globale Anwenderdaten (GUD). Für diese muss eine Redefinition der Zugriffsrechte weiterhin in den entsprechenden Definitionsdateien *_DEF erfolgen.</p><p>Für einen durchgehenden Zugriffsschutz müssen die Maschinendaten für die Ausführungsrechte und den Zugriffsschutz der entsprechenden Verzeichnisse konsistenten angepasst werden.</p><p>Daraus ergibt sich folgende prinzipielle Vorgehensweise: </p><ol><li><p>Erstellen der benötigten Definitionsdateien:</p><ul><li><p>_N_DEF_DIR/_N_SACCESS_DEF</p></li><li><p>_N_DEF_DIR/_N_MACCESS_DEF</p></li><li><p>_N_DEF_DIR/_N_UACCESS_DEF</p></li></ul></li><li><p>Parametrieren des Schreibrechts für die Definitionsdateien auf den für die Redefinition erforderlichen Wert:</p><ul><li><p>MD11170 $MN_ACCESS_WRITE_SACCESS = &lt;Schutzstufe></p></li><li><p>MD11171 $MN_ACCESS_WRITE_MACCESS = &lt;Schutzstufe></p></li><li><p>MD11172 $MN_ACCESS_WRITE_UACCESS = &lt;Schutzstufe></p></li></ul></li><li><p>Für Zugriffe auf geschützte Elemente aus Zyklen heraus müssen die Ausführungs- und Schreibrechte der Zyklenverzeichnisse _N_CST_DIR, _N_CMA_DIR und _N_CST_DIR angepasst werden:</p><p>Ausführungsrechte</p><ul><li><p>MD11160 $MN_ACCESS_EXEC_CST = &lt;Schutzstufe></p></li><li><p>MD11161 $MN_ACCESS_EXEC_CMA = &lt;Schutzstufe></p></li><li><p>MD11162 $MN_ACCESS_EXEC_CUS = &lt;Schutzstufe></p></li></ul><p>Schreibrechte</p><ul><li><p>MD11165 $MN_ACCESS_WRITE_CST = &lt;Schutzstufe></p></li><li><p>MD11166 $MN_ACCESS_WRITE_CMA = &lt;Schutzstufe></p></li><li><p>MD11167 MN_ACCESS_WRITE_CUS = &lt;Schutzstufe></p></li></ul><p>Das Ausführungsrecht muss mindestens auf die gleiche Schutzstufe wie die höchste Schutzstufe des verwendeten Elements gesetzt werden. </p><p>Das Schreibrecht muss mindestens auf die gleiche Schutzstufe wie das Ausführungsrecht gesetzt werden.</p></li><li><p>Die Schreibrechte der HMI-lokalen Zyklenverzeichnisse müssen auf die gleiche Schutzstufe wie die der NC-lokalen Zyklenverzeichnisse gesetzt werden.</p></li></ol><h4 class="Blocklabel">Unterprogrammaufrufe in ACCESS-Dateien</h4><p>Für die weitere Strukturierung des Zugriffsschutzes können in den ACCESS-Dateien auch Unterprogramme (Kennung SPF oder MPF) aufgerufen werden. Die Unterprogramme erben dabei die Ausführungsrechte der aufrufenden ACCESS-Datei.</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><p class="safety">In den ACCESS-Dateien können nur die Zugriffsrechte redefiniert werden. Alle anderen Attribute müssen weiterhin in den entsprechenden Definitionsdateien programmiert bzw. redefiniert werden.</p></td></tr></table></div>
    <p>Siehe auch:<br />    <a href="156662348683.html">Variablen: Allgemeine Informationen</a></p>
  </body>
</html>