<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Kopplungen (CP..., LEAD..., TRAIL..., CTAB...)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Kopplungen (CP..., LEAD..., TRAIL..., CTAB...)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>In Synchronaktionen können für die Funktionen Mitschleppen (TRAIL...), Kurventabellen (CTAB...), Leitwertkopplung (LEAD...) und Generische Kopplung (CP...) die in Kapitel "<a href="156663925771.html">Sprachelemente für Synchronaktionen und Technologiezyklen</a>" aufgeführten Befehle programmiert werden.         </p>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Hinweis</b>
          </td>
        </tr>
        <tr>
          <td>
            <h4 class="Blocklabel">Generische Kopplung</h4>
            <p class="safety">Für Befehle der "Generischen Kopplung" CP... ist zu beachten, dass diese in Synchronaktionen immer in der Reihenfolge der Programmierung von links nach rechts abgearbeitet werden. D. h., im Gegensatz zur Programmierung im Teileprogramm ist die Wirkung der verschiedenen Befehle von der Reihenfolge in der Synchronaktion abhängig.</p>
            <h4 class="Blocklabel">Kurventabellen</h4>
            <p class="safety">Die Befehle CTAB und CTABINV können in der Bedingung und in der Aktion verwendet werden.</p>
          </td>
        </tr>
      </table>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Weitere Informationen</h3>
      <p>Ausführliche Informationen zu den Koppelbefehlen finden sich in:</p>
      <ul>
        <li>
          <p>Mitschleppen, Kurventabellen, Leitwertkopplung</p>
          <p>Programmierhandbuch NC Programmierung</p>
        </li>
        <li>
          <p>Generische Kopplung</p>
          <p>Funktionsbeschreibung Achsen und Spindeln</p>
        </li>
      </ul>
      <a name="block_2">
      </a>
      <h3 class="Blocktitle">Mitschleppen</h3>
      <p>Beim Einschalten der Kopplung aus der Synchronaktion kann die Leitachse in Bewegung sein. Die Folgeachse wird in diesem Fall auf die Sollgeschwindigkeit beschleunigt. Die Position der Leitachse zum Synchronisationszeitpunkt der Geschwindigkeiten ist Startposition für das Mitschleppen. </p>
      <a name="block_3">
      </a>
      <h3 class="Blocktitle">Leitwertkopplung</h3>
      <h4 class="Blocklabel">Syntax</h4>... DO LEADON(&lt;FA>, &lt;LA>, &lt;NR>, &lt;OVW>)<h4 class="Blocklabel">Bedeutung</h4><a id="table_d0a5131a-c442-4b70-b15f-97f7874dd025"></a> <a id="table_0"></a> <TableTitle></TableTitle><a id="table_d0a5131a-c442-4b70-b15f-97f7874dd025"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="31.7%"><col width="68.2%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;FA></code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Name der Folgeachse</p><p type="p_table_l" align="left">Typ: AXIS</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;LA></code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Name der Leitachse </p><p type="p_table_l" align="left">Typ: AXIS</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;NR></code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Nummer der Kurventabelle </p><p type="p_table_l" align="left">Typ: INT</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;OVW></code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Status der Überschreiberlaubnis</p><p type="p_table_l" align="left">Typ: BOOL<br />0: Das Überschreiben der Tabelle ist <b>nicht </b>erlaubt<br />1: Das Überschreiben der Tabelle ist erlaubt</p></td></tr></table></p><ul><li><p>Über Synchronaktionen kann auch während einer aktiven Leitwertkopplung die zugrundeliegende Kurventabelle ohne Neusynchronisation geändert werden.</p><p>Die Folgeachse versucht dabei schnellst möglich dem durch die neue Kurventabelle vorgegebenen Positionswerte zu folgen.</p></li><li><p>Um eine zu koppelnde Achse über Synchronaktionen programmieren zu können, muss die Achse zuvor mit <code>RELEASE</code> freigegeben werden.</p><p>Beispiel:</p></li></ul><a id="table_f69a6d68-292a-4b40-b752-ac7a4811d835"></a> <a id="table_1"></a> <a id="table_f69a6d68-292a-4b40-b752-ac7a4811d835"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EDF"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Programmcode</p></th></tr><tr valign="top"><td>...</td></tr><tr valign="top"><td>N60 RELEASE(X)</td></tr><tr valign="top"><td>N50 ID=1 EVERY SR1==1 DO LEADON(C, X, 1)</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_4"></a><h3 class="Blocktitle">Beispiel: Fliegendes Trennen</h3><p>Ein Strangmaterial, das sich stetig durch einen Arbeitsbereich einer Trennvorrichtung bewegt, soll in gleichlange Stücke zerteilt werden.</p><ul><li><p>X-Achse: Achse in der sich das Strangmaterial bewegt (WKS)</p></li><li><p>X1-Achse: Maschinenachse des Strangmaterials (MKS)</p></li><li><p>Y-Achse: Achse, in der die Trennvorrichtung mit dem Strangmaterial "mitfährt"</p></li></ul><p>Es wird angenommen, dass die Zustellung des Trennwerkzeuges und seine Steuerung über das PLC-Anwenderprogramm kontrolliert werden. Zur Feststellung der Synchronität zwischen Strangmaterial und Trennwerkzeug können die Signale der PLC-Nahtstelle ausgewertet werden.</p><a id="table_4d73583f-d666-4ea7-9109-d87b1c1b7cbd"></a> <a id="table_2"></a> <a id="table_4d73583f-d666-4ea7-9109-d87b1c1b7cbd"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EFG"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Programmcode</p></th></tr><tr valign="top"><td>N100 R3=1500    ;Länge eines abzutrennenden Teiles</td></tr><tr valign="top"><td>N200 R2=100000 R13=R2/300</td></tr><tr valign="top"><td>N300 R4=100000</td></tr><tr valign="top"><td>N400 R6=30      ;Startposition Y Achse</td></tr><tr valign="top"><td>N500 R1=1       ;Startbedingung für Bandachse</td></tr><tr valign="top"><td>N600 LEADOF(Y,X)   ;Kopplung löschen </td></tr><tr valign="top"><td>N700 CTABDEF(Y,X,1,0)   ;Tabellendefinition</td></tr><tr valign="top"><td>N800 X=30 Y=30          ;Wertepaare</td></tr><tr valign="top"><td>N900 X=R13 Y=R13</td></tr><tr valign="top"><td>N1000 X=2*R13 Y=30</td></tr><tr valign="top"><td>N1100 CTABEND           ;Ende der Tabelledefinition</td></tr><tr valign="top"><td>N1200 PRESETON(X1,0)    ;PRESET zu Beginn</td></tr><tr valign="top"><td>N1300 Y=R6 G0           ;Startposition Y Achse, Achse ist linear</td></tr><tr valign="top"><td>; PRESET nach Länge R3, neuer Beginn nach Abtrennen</td></tr><tr valign="top"><td>N1400 ID=1 WHENEVER $AA_IW[X]>$R3 DO PESETON(X1,0)</td></tr><tr valign="top"><td>N1500 RELEASE(Y)</td></tr><tr valign="top"><td>; Y über Tabelle 1 an X ankoppeln bei X &lt;10</td></tr><tr valign="top"><td>N1800 ID=6 EVERY $AA_IM[X]&lt;10 DO LEADON(Y,X,1)</td></tr><tr valign="top"><td>; > 30 vor gefahrener Trennlänge abkoppeln</td></tr><tr valign="top"><td>N1900 ID=10 EVERY $AA_IM[X]>$R3-30 DO LEADOF(Y,X)</td></tr><tr valign="top"><td>N2000 WAITP(X)</td></tr><tr valign="top"><td>; Strangachse stetig in Bewegung setzen</td></tr><tr valign="top"><td>N2100 ID=7 WHEN $R1==1 DO MOV[X]=1 FA[X]=$R4</td></tr><tr valign="top"><td>N2200 M30</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_5"></a><h3 class="Blocktitle">Generische Kopplung</h3><ul><li><p>Bei der Aktivierung eines Koppelmoduls in einer Synchronaktion <b>muss </b>die Folgeachse bereits im Kanal aktiv sein und sich im Zustand "Neutrale Achse oder "Achse bereits dem Teileprogramm des Kanals zugeordnet" befinden. Der entsprechende Achszustand kann, falls erforderlich, in der Synchronaktion durch Programmierung von <code>GET[&lt;Folgeachse>]</code> erzeugt werden.</p></li><li><p>Die Befehle der generischen Kopplung <code>CP...</code> werden in Synchronaktionen direkt durch das Koppelmodul verarbeitet. Damit wird der Befehl sofort wirksam.</p></li><li><p>Mit der Programmierung eines Koppelfaktors (<code>CPLNUM</code>, <code>CPLDEN</code>) oder Tabellennummer (<code>CPLCTID</code>) wird ein zuvor aktiviertes nichtlineares Koppelverhältnis, z.B. einer Kurventabelle, deaktiviert.</p></li></ul><h4 class="Blocklabel">Generische Kopplung: Kopplungstyp TRAIL, LEAD, EG oder COUP verwenden.</h4><p class="comment">Wird im Rahmen der generischen Kopplung ein Verhalten entsprechend einer der bekannten Kopplungstypen "Mitschleppen", "Leitwertkopplung", "Elektronisches Getriebe" oder "Synchronspindel" gewünscht, ist in Synchronaktionen beim Anlegen oder Definieren des Koppelmoduls zusätzlich der Befehl <code>CPSETTYPE</code> möglich:</p><p class="comment"><code>CPSETTYPE[FAx] = &lt;Kopplungstyp></code></p><a id="table_c6d8e890-10b8-4682-b272-a0e90a1d9c02"></a> <a id="table_3"></a> <a id="table_c6d8e890-10b8-4682-b272-a0e90a1d9c02"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="24.2%"><col width="75.7%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left" class="comment"><code>&lt;Kopplungstyp></code></p></th><th><p type="p_table_lb" align="left" class="comment">Bedeutung</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">CP</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Freie Programmierbarkeit</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">TRAIL</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Kopplungsart "Mitschleppen"</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">LEAD</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Kopplungsart "Leitwertkopplung"</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">EG</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Kopplungsart "Elektronisches Getriebe"</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">COUP</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment">Kopplungsart "Synchronspindel"</p></td></tr></table></p><a name="block_6"></a><h3 class="Blocktitle">Randbedingungen</h3><h4 class="Blocklabel">Synchronlaufstatus einer Folgeachse</h4><p>Über die Systemvariable $AA_SYNC[&lt;Achse>] kann im Teileprogramm oder Synchronaktion der Synchronlaufstatus einer Folgeachse gelesen werden.</p><h4 class="Blocklabel">Achstausch bei kanalübergreifender Kopplung</h4><p>Beim Achstausch müssen die Folge- und Leitachsen dem aufrufenden Kanal bekannt sein. Der Achstausch der Leitachsen ist unabhängig vom Zustand der Kopplung möglich. Durch eine definierte oder aktive Kopplung entstehen keine weiteren Randbedingungen.</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><p class="safety">Durch die Aktivierung der Kopplung wird die Folgeachse zur Hauptlaufachse und steht für einen Achstausch nicht zur Verfügung. Damit wird die Folgeachse aus dem Kanal abgemeldet. Eine überlagerte Bewegung ist bei dieser Art von Kopplung somit nicht möglich.</p></td></tr></table><p>Siehe auch Kapitel "<a href="156663993995.html">Achstausch (GET, RELEASE, AXTOCHAN)</a>"</p><h4 class="Blocklabel">Konfliktvermeidung beim Wechsel von Folgeachse zu Kanalachse</h4><p>Um eine über Synchronaktionen verfahrene Folgeachse wieder als Kanalachse verfahren zu können, muss sichergestellt werden, dass die Kopplung ausgeschaltet ist, bevor der Kanal die betreffende Achse anfordert.</p><p>Das folgende Beispiel zeigt einen <b>Fehlerfall</b>:</p><a id="table_015bda97-777c-4895-82b9-b1bc709abf44"></a> <a id="table_4"></a> <a id="table_015bda97-777c-4895-82b9-b1bc709abf44"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EGEAC"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Programmcode</p></th></tr><tr valign="top"><td>...</td></tr><tr valign="top"><td>N50 WHEN TRUE DO TRAILOF(Y, X)</td></tr><tr valign="top"><td>N60 Y100</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Die Y-Achse wird in <code>N50</code> nicht rechtzeitig freigeben, da <code>TRAILOF</code> durch die satzweise Synchronaktion erst mit <code>N60</code> aktiv wird.</p><p class="comment">Korrigiertes Beispiel: </p><a id="table_ff4aaae6-e79b-4790-b147-f808035c3413"></a> <a id="table_5"></a> <a id="table_ff4aaae6-e79b-4790-b147-f808035c3413"></a> <a id="table_5"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EFFAC"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left" class="comment">Programmcode</p></th></tr><tr valign="top"><td>...</td></tr><tr valign="top"><td>N50 WHEN TRUE DO TRAILOF(Y, X)</td></tr><tr valign="top"><td>N55 WAITP(Y)       ; Warten auf Verfahrende der Positionierachse</td></tr><tr valign="top"><td>N60 Y100</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_7"></a><h3 class="Blocktitle">Beispiele</h3><p>Kopplung definieren: Y = Folgeachse, X = Leitachse</p><a id="table_b2b90b8e-64ee-4f90-84a5-38e47c8466f8"></a> <a id="table_6"></a> <a id="table_b2b90b8e-64ee-4f90-84a5-38e47c8466f8"></a> <a id="table_6"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="ECGAC"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Programmcode</p></th></tr><tr valign="top"><td>... DO CPLDEF[Y]=X CPLNUM[Y,X]=1.5</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Kopplung einschalten und Koppelverhältnis definieren.</p><ul><li><p>N10 mit korrekter Reihenfolge: zuerst <code>CPLON</code>, danach <code>CPLNUM</code></p></li><li><p>N20 mit <b>falscher </b>Reihenfolge: zuerst <code>CPLNUM</code>, danach CPLON</p></li></ul><a id="table_b8c719f3-1d39-45f1-b10b-ec6c499a314c"></a> <a id="table_7"></a> <a id="table_b8c719f3-1d39-45f1-b10b-ec6c499a314c"></a> <a id="table_7"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EBHAC"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left" class="comment">Programmcode</p></th></tr><tr valign="top"><td>N10 ... DO CPLON[Y]=X CPLNUM[X,Y]=1.5</td></tr><tr valign="top"><td>N20 ... DO CPLNUM[X,Y]=2 CPLON[Y]=X        ; Fehler</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p class="comment">Kopplung einschalten, aus/einschalten mit impliziter Neusynchronisation</p><a id="table_c101eeca-e6f3-46b0-b983-19cb2a2167b2"></a> <a id="table_8"></a> <a id="table_c101eeca-e6f3-46b0-b983-19cb2a2167b2"></a> <a id="table_8"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EVHAC"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left" class="comment">Programmcode</p></th></tr><tr valign="top"><td>N10 ... DO CPLON[X]=Y CPLNUM[X,Y]=3</td></tr><tr valign="top"><td>N20 Y100 F100</td></tr><tr valign="top"><td>N30 ... DO CPLOF=X CPLON[X]=Y CPLNUM[X,Y]=3</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p class="comment">Kopplung einschalten, ausschalten und als Kommandoachse verfahren </p><a id="table_cd132623-71e1-474f-85e1-a8de953b948f"></a> <a id="table_9"></a> <a id="table_cd132623-71e1-474f-85e1-a8de953b948f"></a> <a id="table_9"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EMIAC"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left" class="comment">Programmcode</p></th></tr><tr valign="top"><td>N10 ... DO CPLON[X]=Y CPLNUM[X,Y]=3</td></tr><tr valign="top"><td>N20 Y100 F100</td></tr><tr valign="top"><td>N30 ... DO CPLOF=X MOV[X]=10</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p class="comment"></p></div>
  </body>
</html>