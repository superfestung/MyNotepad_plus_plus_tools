<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Definition von Anwendervariablen (DEF)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Definition von Anwendervariablen (DEF)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Mit dem Befehl <code>DEF</code> können anwenderspezifische Variablen, oder Anwendervariablen (User Data), definiert und mit Werten belegt werden.</p>
      <p>Entsprechend dem Gültigkeitsbereich, d. h. dem Bereich in dem die Variable sichtbar ist, gibt es folgende Kategorien von Anwendervariablen:</p>
      <ul>
        <li>
          <p>Lokale Anwendervariablen (LUD) </p>
          <p>Lokale Anwendervariablen (LUD) sind Variablen, die in einem NC-Programm definiert sind, das zum Zeitpunkt der Abarbeitung nicht das Hauptprogramm ist. Sie werden beim Aufruf des NC-Programms angelegt und mit Programmende-Reset bzw. dem nächsten Steuerungshochlauf gelöscht. Auf LUD kann nur innerhalb des NC-Programms zugegriffen werden, in dem sie definiert sind.</p>
        </li>
        <li>
          <p>Programmglobale Anwendervariablen (PUD) </p>
          <p>Programmglobale Anwendervariablen (PUD) sind Variablen, die in einem als Hauptprogramm verwendeten NC-Programm definiert sind. Sie werden beim Aufruf des NC-Programms angelegt und mit Programmende-Reset bzw. dem nächsten Steuerungshochlauf gelöscht. Auf PUD kann im Hauptprogramm und in allen Unterprogrammen zugegriffen werden.</p>
          <table cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td>
                <font size="1px">
                </font>
              </td>
            </tr>
          </table>
          <table class="safety" border="1" bgcolor="#eeeeee">
            <colgroup>
              <col width="5%">
              <col width="95%">
            </colgroup>
            <tr>
              <td>
                <b>Hinweis</b>
              </td>
            </tr>
            <tr>
              <td>
                <h4 class="Blocklabel">Verfügbarkeit von programmglobalen Anwendervariablen (PUD)</h4>
                <p class="safety">Im Hauptprogramm definierte programmglobale Anwendervariablen (PUD) sind nur dann auch in den Unterprogrammen verfügbar, wenn folgendes Maschinendatum gesetzt ist:</p>
                <p class="safety">MD11120 $MN_LUD_EXTENDED_SCOPE = 1</p>
                <p class="safety">Mit MD11120 = 0 sind die im Hauptprogramm definierten programmglobalen Anwendervariablen nur im Hauptprogramm verfügbar.</p>
              </td>
            </tr>
          </table>
        </li>
        <li>
          <p>Globale Anwendervariablen (GUD) </p>
          <p>Globale Anwendervariablen (GUD) sind NC- bzw. Kanal-globale Variablen, die in einem Datenbaustein (SGUD, MGUD, UGUD, GUD4 ... GUD9) definiert sind und auch nach Programmende-Reset bzw. dem nächsten Steuerungshochlauf erhalten bleiben. Auf GUD kann in allen NC-Programmen zugegriffen werden.</p>
        </li>
      </ul>
      <p>Anwendervariablen müssen vor ihrer Verwendung (Lesen / Schreiben) definiert worden sein. Folgende Regeln sind dabei zu beachten:</p>
      <ul>
        <li>
          <p>GUD müssen in einer Definitionsdatei, z. B. _N_DEF_DIR/_N_UGUD_DEF, definiert werden.</p>
        </li>
        <li>
          <p>PUD und LUD müssen im Definitionsteil eines NC-Programms definiert werden.</p>
        </li>
        <li>
          <p>Die Datendefinition muss in einem eigenen Satz erfolgen.</p>
        </li>
        <li>
          <p>Pro Datendefinition darf nur ein Datentyp verwendet werden.</p>
        </li>
        <li>
          <p>Pro Datendefinition können mehrere Variable des gleichen Datentyps definiert werden.</p>
        </li>
      </ul>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>
      <h4 class="Blocklabel">LUD und PUD</h4>DEF &lt;Typ> &lt;Phys_Einheit> &lt;Grenzwerte> &lt;Name>[&lt;Wert_1>, &lt;Wert_2>, &lt;Wert_3>]=&lt;Init_Wert><h4 class="Blocklabel">GUD</h4>DEF &lt;Bereich> &lt;VL_Stop> &lt;Zugriffsrechte> &lt;Datenklasse> &lt;Typ> &lt;Phys_Einheit> &lt;Grenzwerte> &lt;Name>[&lt;Wert_1>, &lt;Wert_2>, &lt;Wert_3>]=&lt;Init_Wert><a name="block_2"></a><h3 class="Blocktitle">Bedeutung</h3><a id="table_95bd39f7-d487-47bb-a478-ecebdef220b5"></a> <a id="table_0"></a> <a id="table_95bd39f7-d487-47bb-a478-ecebdef220b5"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="28.9%"><col width="13.5%"><col width="3.8%"><col width="9.6%"><col width="1.0%"><col width="43.2%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>DEF</code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Befehl zur Definition von Anwendervariablen GUD, PUD, LUD</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Bereich></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Gültigkeitsbereich, nur relevant für GUD: </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>NC</code>:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">NC-globale Anwendervariable</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CHAN</code>:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Kanal-globale Anwendervariable</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;VL_Stop></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Vorlaufstop, nur relevant für GUD (optional)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>SYNR</code>:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Vorlaufstop beim Lesen</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>SYNW</code>:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Vorlaufstop beim Schreiben</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>SYNRW</code>:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Vorlaufstop beim Lesen/Schreiben</p></td></tr><tr valign="top"><td rowspan="7"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Zugriffsrechte></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Schutzstufe für das Lesen / Schreiben von GUD über NC-Programm oder BTSS (optional)</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>APRP </code>&lt;Schutzstufe>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Lesen: NC-Programm</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>APWP </code>&lt;Schutzstufe>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Schreiben: NC-Programm</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>APRB </code>&lt;Schutzstufe>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Lesen: BTSS</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>APWB </code>&lt;Schutzstufe>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Schreiben: BTSS</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Schutzstufe>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Wertebereich: 0 ... 7</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Siehe "<a href="156662403083.html">Attribut: Zugriffsrechte (APR, APW, APRP, APWP, APRB, APWB)</a>"</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Datenklasse></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Datenklassenzuordnung (nur SINUMERIK 828D!)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>DCM</code>:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Datenklasse M (= Manufacturer)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>DCI</code>:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Datenklasse I (= Individual)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>DCU</code>:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Datenklasse U (= User)</p></td></tr><tr valign="top"><td rowspan="9"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Typ></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>INT</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Ganzzahliger Wert mit Vorzeichen</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>REAL</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Real-Zahl (LONG REAL nach IEEE)</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>BOOL</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Wahrheitswert TRUE (1) / FALSE (0)</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>CHAR</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">ASCII-Zeichen</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>STRING[&lt;MaxLänge>]</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Zeichenkette definierter Länge</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>AXIS</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Achs-/Spindelbezeichner</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>FRAME</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Geometrische Angaben für eine statische Koordinatentransformation</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Siehe "<a href="156662422283.html">Datentypen</a>"</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Phys_Einheit></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Physikalische Einheit (optional) </p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>PHU </code>&lt;Einheit>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">physikalische Einheit</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Siehe "<a href="156662399243.html">Attribut: Physikalische Einheit (PHU)</a>"</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Grenzwerte></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">unterer / oberer Grenzwert (optional) </p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>LLI </code>&lt;Grenzwert>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">unterer Grenzwert (lower limit)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>ULI </code>&lt;Grenzwert>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">oberer Grenzwert (upper limit)</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Siehe "<a href="156662395403.html">Attribut: Grenzwerte (LLI, ULI)</a>"</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Name></code>: </p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Name der Variablen</p><p type="p_table_l" align="left"><b>Hinweis</b></p><ul class="table"><li><p>Maximal 31 Zeichen</p></li><li><p>Die beiden ersten Zeichen müssen ein Buchstabe und/oder ein Unterstrich sein.</p></li><li><p>Das "$"-Zeichen ist für Systemvariablen reserviert und darf nicht verwendet werden.</p></li></ul></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>[&lt;Wert_1>,</code><br /><code> &lt;Wert_2>,</code><br /><code> &lt;Wert_3>]</code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Angabe der Feldgrößen für 1- bis max. 3-dimensionale Feldvariablen (optional)</p><p type="p_table_l" align="left">Zur Initialisierung von Feldvariablen siehe" <a href="156662415371.html">Definition und Initialisierung von Feldvariablen (DEF, SET, REP)</a>"</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Init_Wert></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Initialisierungswert (optional)</p><p type="p_table_l" align="left">siehe "<a href="156662392331.html">Attribut: Initialisierungswert</a>"</p><p type="p_table_l" align="left">Zur Initialisierung von Feldvariablen siehe "<a href="156662415371.html">Definition und Initialisierung von Feldvariablen (DEF, SET, REP)</a>"</p></td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Beispiele</h3><h4 class="Blocklabel">Beispiel 1: Definitionen von Anwendervariablen im Datenbaustein für Maschinenhersteller</h4><a id="table_e4821384-6082-4afd-9733-6d0adaa194cc"></a> <a id="table_1"></a> <a id="table_e4821384-6082-4afd-9733-6d0adaa194cc"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EWNAC"><colgroup><col width="51.6%"><col width="48.4%"></colgroup><tr valign="top"><th>Programmcode </th><th>Kommentar</th></tr><tr valign="top"><td>%_N_MGUD_DEF</td><td>; GUD-Baustein: Maschinenhersteller</td></tr><tr valign="top"><td colspan="2">$PATH=/_N_DEF_DIR</td></tr><tr valign="top"><td colspan="2">DEF CHAN REAL PHU 24 LLI 0 ULI 10 STROM_1, STROM_2</td></tr><tr valign="top"><td colspan="2">; Beschreibung</td></tr><tr valign="top"><td colspan="2">; Definition zweier GUD: STROM_1, STROM_2</td></tr><tr valign="top"><td colspan="2">; Gültigkeitsbereich: Kanalweit</td></tr><tr valign="top"><td colspan="2">; Datentyp: REAL</td></tr><tr valign="top"><td colspan="2">; VL-Stop: nicht programmiert => Defaultwert = kein VL-Stop</td></tr><tr valign="top"><td colspan="2">; Phys. Einheit: 24 = [A]</td></tr><tr valign="top"><td colspan="2">; Grenzwerte: Low = 0.0, High = 10.0</td></tr><tr valign="top"><td colspan="2">; Zugriffsrechte: nicht programmiert => Defaultwert = 7 = Schlüsselschalterstellung 0</td></tr><tr valign="top"><td colspan="2">; Initialisierungswert: nicht programmiert => Defaultwert = 0.0</td></tr><tr valign="top"><td colspan="2"> </td></tr><tr valign="top"><td colspan="2">DEF NCK REAL PHU 13 LLI 10 APWP 3 APRP 3 APWB 0 APRB 2 ZEIT_1=12, ZEIT_2=45</td></tr><tr valign="top"><td colspan="2">; Beschreibung</td></tr><tr valign="top"><td colspan="2">; Definition zweier GUD: ZEIT_1, ZEIT_2</td></tr><tr valign="top"><td colspan="2">; Gültigkeitsbereich: NC-weit</td></tr><tr valign="top"><td colspan="2">; Datentyp: REAL</td></tr><tr valign="top"><td colspan="2">; VL-Stop: nicht programmiert => Defaultwert = kein VL-Stop</td></tr><tr valign="top"><td colspan="2">; Phys. Einheit: 13 = [s] </td></tr><tr valign="top"><td colspan="2">; Grenzwerte: Low = 10.0, High = nicht programmiert => obere Definitionsbereichsgrenze</td></tr><tr valign="top"><td colspan="2">; Zugriffsrechte: </td></tr><tr valign="top"><td colspan="2">; NC-Programm: Schreiben/Lesen = 3 = Anwender</td></tr><tr valign="top"><td colspan="2">; BTSS: Schreiben = 0 = Siemens, Lesen = 3 = Anwender</td></tr><tr valign="top"><td colspan="2">; Initialisierungswert: ZEIT_1 = 12.0, ZEIT_2 = 45.0</td></tr><tr valign="top"><td colspan="2"> </td></tr><tr valign="top"><td colspan="2">DEF NCK APWP 3 APRP 3 APWB 0 APRB 3 STRING[5] GUD5_NAME = "COUNTER"</td></tr><tr valign="top"><td colspan="2">; Beschreibung</td></tr><tr valign="top"><td colspan="2">; Definition eines GUD: GUD5_NAME</td></tr><tr valign="top"><td colspan="2">; Gültigkeitsbereich: NC-weit</td></tr><tr valign="top"><td colspan="2">; Datentyp: STRING, max. 5 Zeichen</td></tr><tr valign="top"><td colspan="2">; VL-Stop: nicht programmiert => Defaultwert = kein VL-Stop</td></tr><tr valign="top"><td colspan="2">; Phys. Einheit: nicht programmiert => Defaultwert = 0 = keine phys. Einheit</td></tr><tr valign="top"><td colspan="2">; Grenzwerte: nicht programmiert => Definitionsbereichsgrenzen: Low = 0, High = 255</td></tr><tr valign="top"><td colspan="2">; Zugriffsrechte: </td></tr><tr valign="top"><td colspan="2">; NC-Programm: Schreiben/Lesen = 3 = Anwender</td></tr><tr valign="top"><td colspan="2">; BTSS: Schreiben = 0 = Siemens, Lesen = 3 = Anwender</td></tr><tr valign="top"><td colspan="2">; Initialisierungswert: "COUNTER"</td></tr><tr valign="top"><td colspan="2">M30</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Beispiel 2: Programm-globale und -lokale Anwendervariablen (PUD / LUD)</h4><a id="table_97b01cd3-abd7-4c62-afa2-6570b4294deb"></a> <a id="table_2"></a> <a id="table_97b01cd3-abd7-4c62-afa2-6570b4294deb"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EDDAE"><colgroup><col width="36.6%"><col width="63.4%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>PROC MAIN</td><td>; Hauptprogramm</td></tr><tr valign="top"><td>DEF INT VAR1</td><td>; PUD-Definition</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td>SUB2</td><td>; Unterprogrammaufruf</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">M30</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a id="table_ce918701-57f6-4f04-a8fe-e8775376dd5d"></a> <a id="table_3"></a> <a id="table_ce918701-57f6-4f04-a8fe-e8775376dd5d"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EMEAE"><colgroup><col width="36.4%"><col width="63.6%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>PROC SUB2</td><td>; Unterprogramm SUB2</td></tr><tr valign="top"><td>DEF INT VAR2</td><td>; LUD-DEFINITION</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td>IF (VAR1==1)</td><td>; PUD lesen</td></tr><tr valign="top"><td> VAR1=VAR1+1</td><td>; PUD lesen und schreiben</td></tr><tr valign="top"><td> VAR2=1</td><td>; LUD schreiben</td></tr><tr valign="top"><td colspan="2">ENDIF</td></tr><tr valign="top"><td>SUB3</td><td>; Unterprogrammaufruf</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">M17</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a id="table_10bc01a5-1e18-4d0e-a5c9-8701391c0039"></a> <a id="table_4"></a> <a id="table_10bc01a5-1e18-4d0e-a5c9-8701391c0039"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EIGAE"><colgroup><col width="36.4%"><col width="63.6%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>PROC SUB3</td><td>; Unterprogramm SUB3</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td>IF (VAR1==1)</td><td>; PUD lesen</td></tr><tr valign="top"><td> VAR1=VAR1+1</td><td>; PUD lesen und schreiben</td></tr><tr valign="top"><td> VAR2=1</td><td>; Fehler: LUD aus SUB2 nicht bekannt</td></tr><tr valign="top"><td colspan="2">ENDIF</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">M17</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Beispiel 3: Definition und Verwendung von Anwendervariablen vom Datentyp AXIS</h4><a id="table_bb7a8b7c-6b47-4834-8a48-03cf03c38b64"></a> <a id="table_5"></a> <a id="table_bb7a8b7c-6b47-4834-8a48-03cf03c38b64"></a> <a id="table_5"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E2HAE"><colgroup><col width="51.5%"><col width="48.5%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>DEF AXIS ABSZISSE</td><td>; 1. Geometrieachse</td></tr><tr valign="top"><td>DEF AXIS SPINDLE</td><td>; Spindel</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">IF ISAXIS(1) == FALSE GOTOF WEITER</td></tr><tr valign="top"><td colspan="2"> ABSZISSE = $P_AXN1</td></tr><tr valign="top"><td colspan="2">WEITER:</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td>SPINDLE=(S1)</td><td>; 1. Spindel</td></tr><tr valign="top"><td>OVRA[SPINDLE]=80</td><td>; Spindeloverride = 80%</td></tr><tr valign="top"><td>SPINDLE=(S3)</td><td>; 3. Spindel</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_4"></a><h3 class="Blocktitle">Randbedingungen</h3><h4 class="Blocklabel">Globale Anwendervariablen (GUD)</h4><p>Im Rahmen der Definition von globalen Anwendervariablen (GUD) sind folgende Maschinendaten zu berücksichtigen:</p><a id="table_f304d655-053a-4ade-8f49-bfcbe2211a34"></a> <a id="table_6"></a> <a id="table_f304d655-053a-4ade-8f49-bfcbe2211a34"></a> <a id="table_6"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="11.1%"><col width="40.8%"><col width="48.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Nr.</p></th><th><p type="p_table_lb" align="left">Bezeichner: $MN_</p></th><th><p type="p_table_lb" align="left">Bedeutung</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">11140</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">GUD_AREA_ SAVE_TAB</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">zusätzliche Sicherung für GUD-Bausteine</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">18118 <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">MM_NUM_GUD_MODULES</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Anzahl GUD-Dateien im aktiven Filesystem</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">18120 <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">MM_NUM_GUD_NAMES_NCK</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Anzahl der globalen GUD-Namen</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">18130 <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">MM_NUM_GUD_NAMES_CHAN</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Anzahl der kanalspez. GUD-Namen</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">18150 <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">MM_GUD_VALUES_MEM</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Speicherplatz für globale GUD-Werte</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">18660 <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">MM_NUM_SYNACT_GUD_REAL</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Anzahl projektierbare GUD Datentyp REAL</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">18661 <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">MM_NUM_SYNACT_GUD_INT</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Anzahl projektierbare GUD Datentyp INT</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">18662 <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">MM_NUM_SYNACT_GUD_BOOL</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Anzahl projektierbare GUD Datentyp BOOL</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">18663 <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">MM_NUM_SYNACT_GUD_AXIS</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Anzahl projektierbare GUD Datentyp AXIS</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">18664 <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">MM_NUM_SYNACT_GUD_CHAR</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Anzahl projektierbare GUD Datentyp CHAR</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">18665 <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">MM_NUM_SYNACT_GUD_STRING</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Anzahl projektierbare GUD Datentyp STRING</p></td></tr></table></p><h4 class="Blocklabel">Kanalübergreifende Verwendung einer NC-globalen Anwendervariablen vom Datentyp AXIS</h4><p>Eine NC-globale Anwendervariable vom Datentyp <code>AXIS</code>, die bei der Definition im Datenbaustein mit einem Achsbezeichner initialisiert wurde, kann nur dann in unterschiedlichen Kanälen der NC verwendet werden, wenn die Achse in diesen Kanälen die gleiche Kanalachsnummer hat.</p><p class="comment">Ist dies nicht der Fall, muss die Variable am NC-Programmanfang geladen oder, wie im folgenden Beispiel, die Funktion AXNAME(...) (siehe "<a href="156663599883.html">Achsfunktionen (AXNAME, AX, SPI, AXTOSPI, ISAXIS, AXSTRING, MODAXVAL)</a>") verwendet werden.</p><a id="table_ae18ea5e-b1de-4429-b419-f472818cff18"></a> <a id="table_7"></a> <a id="table_ae18ea5e-b1de-4429-b419-f472818cff18"></a> <a id="table_7"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E6OAE"><colgroup><col width="50.5%"><col width="49.5%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>DEF NCK STRING[5] ACHSE="X"</td><td>; Definition im Datenbaustein</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td>N100 AX[AXNAME(ACHSE)]=111 G00</td><td>; Verwendung im NC-Programm</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p></div>
    <p>Siehe auch:<br />    <a href="156662348683.html">Variablen: Allgemeine Informationen</a></p>
  </body>
</html>