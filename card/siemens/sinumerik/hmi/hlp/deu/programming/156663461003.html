<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Werkzeuglängen bzw. -längenkomponenten lesen (GETTCOR)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Werkzeuglängen bzw. -längenkomponenten lesen (GETTCOR)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Die Funktion GETTCOR dient dazu, Werkzeuglängen bzw. Werkzeuglängenkomponenten auszulesen.</p>
      <p>Dabei kann durch Parametrierung angegeben werden, welche Komponenten berücksichtigt werden sollen, und unter welchen Einsatzbedingungen das Werkzeug betrachtet werden soll.</p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>&lt;Status> = GETTCOR(&lt;Len>[, &lt;Comp>, &lt;Stat>, &lt;T>, &lt;D>, &lt;DL>])<a name="block_2"></a><h3 class="Blocktitle">Bedeutung</h3><a id="table_dc7626fe-3412-4464-9c5d-7e46e8fb435e"></a> <a id="table_0"></a> <a id="table_dc7626fe-3412-4464-9c5d-7e46e8fb435e"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="4.0%"><col width="16.0%"><col width="10.0%"><col width="7.5%"><col width="11.0%"><col width="5.0%"><col width="46.5%"></colgroup><tr valign="top"><td rowspan="2" colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>GETTCOR(...)</code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Vordefinierte Funktion zum Lesen von Werkzeuglängen bzw. Werkzeuglängenkomponenten</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Alleine im Satz:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">ja</p></td></tr><tr valign="top"><td rowspan="12" colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Status></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Rückgabewert der Funktion. Negative Werte zeigen Fehlerzustände an.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td rowspan="10"><p type="p_table_l" style="margin-top: 4px" align="left">Wert:</p><p type="p_table_l" align="left"></p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Funktion OK</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-1</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Kein Speicherplatz für Werkzeugumgebungen reserviert:</p><p type="p_table_l" align="left">MD18116 $MN_MM_NUM_TOOL_ENV = 0</p><p type="p_table_l" align="left">D. h., die Funktionalität "Werkzeugumgebungen" ist nicht vorhanden.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-2</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Eine Werkzeugumgebung mit dem unter &lt;Stat> angegebenen Namen existiert nicht.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-3</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Ungültiger String im Parameter &lt;Comp>.</p><p type="p_table_l" align="left">Ursache dieses Fehlers können ungültige oder doppelt programmierte Zeichen sein.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-4</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Ungültige T-Nummer</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-5</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Ungültige D-Nummer</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-6</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Ungültige DL-Nummer</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-7</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Zugriffsversuch auf nicht vorhandenes Speichermodul.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-8</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Zugriffsversuch auf eine nicht vorhandene Option (z. B. programmierbare Werkzeugorientierung, Werkzeugverwaltung).</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-9</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Der String &lt;Comp> enthält einen Doppelpunkt (Kennung für die Spezifikationen eines Koordinatensystems), es folgt jedoch kein gültiges Zeichen zur Bezeichnung des verlangten Koordinatensystems.</p></td></tr><tr valign="top"><td colspan="7"><p type="p_table_l" style="margin-top: 4px" align="left"><b>Parameter</b></p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Len></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Ergebnisvektor</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">REAL[11]</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Die Vektorkomponenten sind in folgender Reihenfolge angeordnet:</p><ul class="table"><li><p>&lt;Len> [0]: Werkzeugtyp</p></li><li><p>&lt;Len> [1]: Schneidenlage</p></li><li><p>&lt;Len> [2]: Abszisse</p></li><li><p>&lt;Len> [3]: Ordinate</p></li><li><p>&lt;Len> [4]: Applikate</p></li><li><p>&lt;Len> [5]: Werkzeugradius</p></li></ul><p type="p_table_l" align="left">Als Bezugskoordinatensystem für die Längenkomponenten gilt das in &lt;Comp> und &lt;Stat> definierte Koordinatensystem. Ist in &lt;Comp> kein Koordinatensystem definiert, werden die Werkzeuglängen im Maschinenkoordinatensystem dargestellt.</p><p type="p_table_l" align="left">Die Zuordnung von Abszisse, Ordinate und Applikate zu den Geometrieachsen ist abhängig von der in der verwendeten Werkzeugumgebung aktiven Ebene. D. h., bei G17 ist die Abszisse parallel zu X, bei G18 zu Z usw.</p><p type="p_table_l" align="left">Die Komponenten &lt;Len>[6] bis &lt;Len>[10] enthalten die zusätzlichen Parameter, die für die Geometriebeschreibung eines Werkzeugs angegeben werden können (z. B. $TC_DP7 bis $TC_DP11 für die Geometrie bzw. die entsprechenden Komponenten für Verschleiß bzw. Summen- und Einrichtekorrekturen).</p><p type="p_table_l" align="left">Diese 5 zusätzlichen Elemente und der Werkzeugradius sind nur für die Komponenten E, G, S und W definiert. Deren Bewertung hängt nicht von &lt;Stat> ab. Die entsprechenden Werte in &lt;Len>[6] bis &lt;Len>[10] können deshalb nur dann ungleich null sein, wenn an der Werkzeuglängenberechnung mindestens eine der vier genannten Komponenten beteiligt ist. Die übrigen Komponenten haben keinen Einfluss auf das Ergebnis. Die Maßangaben beziehen sich auf das Grundsystem der Steuerung (inch bzw. metrisch).</p></td></tr><tr valign="top"><td rowspan="21"><p type="p_table_l" style="margin-top: 4px" align="left">2</p></td><td rowspan="21"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Comp></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Werkzeuglängenkomponenten (optional)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">STRING</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Die Zeichenkette besteht aus zwei Teilstrings, die durch einen Doppelpunkt voneinander getrennt sind.</p><p type="p_table_l" align="left">Allg. Form: <code>"&lt;SubStr_1> [: &lt;SubStr_2]"</code></p></td></tr><tr valign="top"><td rowspan="10" colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;SubStr_1></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Der <b>erste Teilstring</b> bezeichnet die Werkzeuglängenkomponenten, die bei der Werkzeuglängenberechnung berücksichtigt werden sollen.</p><p type="p_table_l" align="left">Die Reihenfolge der Zeichen im Teilstring sowie deren Schreibweise (groß oder klein) ist beliebig. Zwischen den Zeichen können beliebig viele Leerzeichen oder Tabulatorzeichen (white spaces) eingefügt werden. </p><p type="p_table_l" align="left"><b>Hinweis:</b><br />Die Zeichen im Teilstring dürfen <b>nicht doppelt</b> programmiert werden!</p></td></tr><tr valign="top"><td rowspan="8"><p type="p_table_l" style="margin-top: 4px" align="left">Zeichen: </p></td><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>-</code> </p><p type="p_table_c" align="center"></p><p type="p_table_c" align="center"></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Minuszeichen (nur als erstes Zeichen zulässig!)</p><p type="p_table_l" align="left">Es wird die gesamte Werkzeuglänge abzüglich der Komponenten berechnet, die im nachfolgenden String spezifiziert sind.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>C</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Adaptermaß oder Basismaß (diejenige der beiden alternativ existierenden Komponenten, die für das verwendete Werkzeug aktiv ist)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>E</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Einrichtkorrekturen</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>G</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Geometrie</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>K</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Kinematische Transformation (wird nur bei generischer 3-, 4- und 5-Achs-Transformation ausgewertet!)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>S</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Summenkorrekturen</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>T</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Orientierbarer Werkzeugträger</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>W</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Verschleiß</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Ist der erste Teilstring (mit Ausnahme von white spaces) leer, so bedeutet das, dass die gesamte Werkzeuglänge unter Berücksichtigung aller Komponenten berechnet werden soll. Gleiches gilt auch dann, wenn der Parameter &lt;Comp> nicht angegeben wird.</p></td></tr><tr valign="top"><td rowspan="8" colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Substr_2></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Der optionale <b>zweite Teilstring</b> bezeichnet das Koordinatensystem, in dem die Werkzeuglänge ausgegeben werden soll.</p><p type="p_table_l" align="left">Der zweite Teilstring besteht nur aus einem einzigen relevanten Zeichen. </p></td></tr><tr valign="top"><td rowspan="6"><p type="p_table_l" style="margin-top: 4px" align="left">Zeichen:</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>A</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Einstellbares Koordinatensystem (ACS)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>B</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Basiskoordinatensystem (BKS)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>K</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Werkzeugkoordinatensystem der kinematischen Transformation (KCS)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>M</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Maschinenkoordinatensystem (MKS)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>T</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Werkzeugkoordinatensystem (TCS)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center"><code>W</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Werkstückkoordinatensystem (WKS)</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Wird kein Koordinatensystem angegeben, erfolgt die Bewertung im Maschinenkoordinatensystem (MKS). Die gegebenenfalls zu berücksichtigenden Drehungen werden durch die in &lt;Stat> definierte Werkzeugumgebung festgelegt.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">3</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;_Stat></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Name des Datensatzes zur Beschreibung einer Werkzeugumgebung (optional)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">STRING</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Ist der Wert dieses Parameters der Nullstring ("") oder wird er nicht angeben, wird der aktuelle Zustand verwendet. Ist kein Werkzeug spezifiziert, wird das aktuelle Werkzeug verwendet.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">4</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;T></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Interne T-Nummer des Werkzeugs (optional)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Ist dieser Parameter nicht angegeben oder ist sein Wert "0", wird das in &lt;Stat> abgelegte Werkzeug verwendet.</p><p type="p_table_l" align="left">Ist der Wert dieses Parameters "-1", wird die T-Nummer des aktiven Werkzeugs verwendet. Es ist auch zulässig, die Nummer des aktiven Werkzeugs explizit anzugeben.</p><p type="p_table_l" align="left"><b>Hinweis:</b><br />Ist &lt;Stat> nicht angegeben, wird als Werkzeugumgebung der aktuelle Zustand verwendet. Da mit &lt;T> = 0 auf die in der Werkzeugumgebung gespeicherte T-Nummer verwiesen wird, wird in dieser das aktive Werkzeug verwendet, d. h. die Angaben &lt;T> = 0 und &lt;T> = -1 sind in diesem Sonderfall gleichbedeutend.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">5</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;D></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Schneidennummer des Werkzeugs (optional)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Ist dieser Parameter nicht angegeben oder ist sein Wert "0", richtet sich die verwendetet D-Nummer nach der Quelle der T-Nummer. Wird die T-Nummer aus der Werkzeugumgebung verwendet, wird auch die D-Nummer der Werkzeugumgebung gelesen, andernfalls die des aktuell aktiven Werkzeugs.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">6</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;DL></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Nummer der ortsabhängigen Korrektur (optional)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Ist dieser Parameter nicht angegeben, richtet sich die verwendete DL-Nummer nach der Quelle der T-Nummer. Wird die T-Nummer aus der Werkzeugumgebung verwendet, wird auch die D-Nummer der Werkzeugumgebung gelesen, andernfalls die des aktuell aktiven Werkzeugs.</p></td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Beispiele</h3><a id="table_9ea9554e-5c8a-4a36-b9fa-2928543cf8fb"></a> <a id="table_1"></a> <a id="table_9ea9554e-5c8a-4a36-b9fa-2928543cf8fb"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>GETTCOR(_LEN)</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Berechnet die Werkzeuglänge des aktuellen aktiven Werkzeugs im Maschinenkoordinatensystem unter Berücksichtigung aller Komponenten.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>GETTCOR(_LEN,"CGW:W")</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Es wird die Werkzeuglänge bestehend aus Adapter- bzw. Basismaß, Geometrie und Verschleiß für das aktive Werkzeug berechnet. Weitere Anteile wie z. B. orientierbarer Werkzeugträger oder kinematische Transformationen werden nicht berücksichtigt. Die Ausgabe erfolgt im Werkstückkoordinatensystem.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>GETTCOR (_LEN,"-K:B")</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Es wird die gesamte Werkzeuglänge des aktiven Werkzeugs ohne Berücksichtigung der Längenkomponenten einer eventuell aktiven kinematischen Transformation berechnet. Ausgabe im Basiskoordinatensystem.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>GETTCOR (_LEN,":M","Testenv1",,3)</code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Es wird die gesamte Werkzeuglänge für das in der Werkzeugumgebung mit dem Namen "Testenv1" abgelegte Werkzeug im Maschinenkoordinatensystem berechnet. Die Berechnung erfolgt jedoch unabhängig von der abgelegten Schneidennummer für die Schneidennummer D3.</p></td></tr></table></p><p class="comment"></p></div>
    <p>Siehe auch:<br />    <a href="156663464971.html">Werkzeuglängen bzw. -längenkomponenten lesen (GETTCOR): Weitere Informationen</a><br />    <a href="156663433611.html">Mit Werkzeugumgebungen arbeiten: Übersicht</a></p>
  </body>
</html>