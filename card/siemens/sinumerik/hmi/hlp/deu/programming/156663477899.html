<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Zuordnung der Werkzeuglängen L1, L2, L3 zu den Koordinatenachsen lesen (LENTOAX)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Zuordnung der Werkzeuglängen L1, L2, L3 zu den Koordinatenachsen lesen (LENTOAX)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>Die Funktion LENTOAX liefert Informationen über die Zuordnung der Werkzeuglängen L1, L2 und L3 des <b>aktiven</b> Werkzeugs zu Abszisse, Ordinate und Applikate. Die Zuordnung von Abszisse, Ordinate und Applikate zu den Geometrieachsen wird durch Frames und die aktive Ebene (G17 ... G19) beeinflusst.</p>
      <p>Betrachtet wird dabei nur der Geometrieanteil eines Werkzeugs ($TC_DP3[&lt;t>,&lt;d>] bis $TC_DP5[&lt;t>,&lt;d>]), d. h., eine gegebenenfalls davon abweichende Achszuordnung weiterer Komponenten (z. B. Verschleiß) hat auf das Ergebnis keinen Einfluss.</p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>
      <b>&lt;</b>Status> = LENTOAX(&lt;AxInd>, &lt;Matrix>[, &lt;Coord>])<a name="block_2"></a><h3 class="Blocktitle">Prinzip</h3><a id="table_dc7626fe-3412-4464-9c5d-7e46e8fb435e"></a> <a id="table_0"></a> <a id="table_dc7626fe-3412-4464-9c5d-7e46e8fb435e"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="3.9%"><col width="16.6%"><col width="10.0%"><col width="10.0%"><col width="59.5%"></colgroup><tr valign="top"><td rowspan="2" colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>LENTOAX(...)</code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Vordefinierte Funktion zum Lesen der Zuordnung der Werkzeuglängen L1, L2 und L3 des aktiven Werkzeugs zu den Koordinatenachsen</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Alleine im Satz:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">ja</p></td></tr><tr valign="top"><td rowspan="6" colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Status></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Rückgabewert der Funktion. Negative Werte zeigen Fehlerzustände an.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Wert:</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Funktion OK</p><p type="p_table_l" align="left">Information in &lt;AxInd> reicht zur Beschreibung aus (alle Werkzeuglängenkomponenten sind parallel zu Geometrieachsen). </p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Funktion ist OK, zu einer korrekten Beschreibung muss aber der Inhalt von &lt;Matrix> ausgewertet werden (die Werkzeuglängenkomponenten sind nicht parallel zu den Geometrieachsen).</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Ungültiger String im Parameter &lt;Coord>.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">-2</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Kein Werkzeug aktiv.</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left"><b>Parameter</b></p></td></tr><tr valign="top"><td rowspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td><td rowspan="5"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;AxInd></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Sind die Werkzeuglängenkomponenten parallel zu den Geometrieachsen, werden die Achsindizes, die den Längenkomponenten L1 bis L3 zugeordnet sind, im Feld <b>&lt;</b>AxInd> zurückgeliefert:</p><ul class="table"><li><p>&lt;AxInd> [0]: Abszisse</p></li><li><p>&lt;AxInd> [1]: Ordinate</p></li><li><p>&lt;AxInd> [2]: Applikate</p></li></ul></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">INT[3]</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Wert:</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Keine Zuordnung vorhanden (Achse existiert nicht)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">1 ... 3</p><p type="p_table_c" align="center">bzw.</p><p type="p_table_c" align="center">-1 ... -3</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Nummer der Länge, die in der entsprechende Koordinatenachse wirkt.</p><p type="p_table_l" align="left">Das Vorzeichen ist negativ, wenn die Werkzeuglängenkomponente in negative Koordinatenrichtung zeigt.</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Sind nicht alle Längenkomponenten parallel bzw. antiparallel zu den Geometrieachsen, wird in &lt;AxInd> jeweils der Index der Achse zurückgegeben, die den größten Anteil einer Werkzeuglängenkomponente enthält. In diesem Fall (falls die Funktion nicht aus einem anderen Grund einen Fehler liefert) ist der Rückgabewert &lt;Status> = 1. Die Abbildung der Werkzeuglängenkomponenten L1 bis L3 auf die Geometrieachsen 1 bis 3 wird dann durch den Inhalt des 2. Parameters &lt;Matrix> vollständig beschrieben.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">2</p></td><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Matrix></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Matrix, die den Vektor der Werkzeuglängen (L1=1, L2=1, L3=1) in den Vektor der Koordinatenachsen (Abszisse, Ordinate, Applikate) abbildet, d. h., den Spalten sind die Werkzeuglängenkomponenten in der Reihenfolge L1, L2, L3 zugeordnet, den Zeilen die Achsen in der Reihenfolge Abszisse, Ordinate, Applikate.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">REAL</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">In der Matrix sind immer alle Elemente gültig, auch dann, wenn die zu einer Koordinatenachse gehörende Geometrieachse nicht vorhanden ist, d. h. wenn der entsprechende Eintrag in &lt;AxInd> null ist.</p></td></tr><tr valign="top"><td rowspan="8"><p type="p_table_l" style="margin-top: 4px" align="left">3</p></td><td rowspan="8"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Coord></code>:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Koordinatensystem, für das die Zuordnung gilt (optional)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">STRING</p></td></tr><tr valign="top"><td rowspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Zeichen:</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">MCS</p><p type="p_table_c" align="center">M</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Abbildung der Werkzeuglänge in das Maschinenkoordinatensystem</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">BCS</p><p type="p_table_c" align="center">B</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Abbildung der Werkzeuglänge in das Basiskoordinatensystem</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">WCS</p><p type="p_table_c" align="center">W</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Abbildung der Werkzeuglänge in das Werkstückkoordinatensystem (Default)</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">KCS</p><p type="p_table_c" align="center">K</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Abbildung der Werkzeuglänge in das Werkzeugkoordinatensystem der kinematischen Transformation</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">TCS</p><p type="p_table_c" align="center">T</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Abbildung der Werkzeuglänge in das Werkzeugkoordinatensystem</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Die Schreibweise der Zeichen im String (groß oder klein) ist beliebig.</p><p type="p_table_l" align="left">Wird der Parameter &lt;Coord> nicht angegeben, wird das WKS verwendet (Default).</p></td></tr></table></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><p class="safety">Im TCS sind immer alle Werkzeuglängenkomponenten parallel oder antiparallel zu den Achsen.</p><p class="safety">Antiparallel können die Komponenten nur dann sein, wenn Spiegeln aktiv ist und das folgende Settingdatum gesetzt ist:</p><p class="safety">SD42900 $SC_MIRROR_TOOL_LENGTH (Vorzeichenwechsel Werkzeuglänge beim Spiegeln)</p></td></tr></table><a name="block_3"></a><h3 class="Blocktitle">Beispiel</h3><p>Standardfall Fräswerkzeug bei G17.</p><p>L1 wirkt in Z (Applikate), L2 wirkt in Y (Ordinate), L3 wirkt in X (Abszisse).</p><p>Aufruf der Funktion in der Form:</p>&lt;Status>=LENTOAX(&lt;AxInd>,&lt;Matrix>,"WCS")<p>Der Ergebnisparameter &lt;AxInd> enthält dann die Werte:</p><p>&lt;AxInd>[0] = 3</p><p>&lt;AxInd>[1] = 2</p><p>&lt;AxInd>[2] = 1</p><p>oder kurz: ( 3, 2, 1)</p><p>Die zugehörige Matrix (&lt;Matrix>) ist in diesem Fall:</p><a id="image_818629259_0"></a> <img border="0" src="images/173318737803.png" width="134" height="51"/><p>Ein Wechsel von G17 nach G18 oder G19 ändert am Ergebnis nichts, da die Zuordnung der Längenkomponenten zu den Geometrieachsen sich in gleicher Weise ändert wie die Zuordnung von Abszisse, Ordinate und Applikate.</p><p>Es wird nun bei aktivem G17 eine Framedrehung um Z von 60 Grad programmiert, z. B.:</p>ROT Z60<p>Die Richtung der Applikate (Z-Richtung) bleibt unverändert, der Hauptanteil von L2 liegt nun in Richtung der neuen X-Achse, der Hauptanteil von L1 in Richtung der negativen Y-Achse. Der Rückgabewert (&lt;Status>) ist deshalb "1", &lt;AxInd> enthält die Werte (2, -3, 1).</p><p>Die zugehörige Matrix (&lt;Matrix>) ist in diesem Fall:</p><a id="image_818639883_0"></a> <img border="0" src="images/173319158795.png" width="201" height="53"/></div>
  </body>
</html>