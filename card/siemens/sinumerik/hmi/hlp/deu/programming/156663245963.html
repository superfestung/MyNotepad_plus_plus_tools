<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Orientierungstransformation nach Maschinenvermessung modifizieren (CORRTRAFO)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Orientierungstransformation nach Maschinenvermessung modifizieren (CORRTRAFO)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Bei Maschinen mit Orientierungstransformationen, die mittels kinematischer Ketten definiert wurden, kann der Anwender die vordefinierte Funktion CORRTRAFO verwenden, um nach einer Maschinenvermessung die Offsetvektoren oder die Richtungsvektoren der Orientierungsachsen im kinematischen Modell der Maschine zu modifizieren. </p>
      <p>
      </p>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Hinweis</b>
          </td>
        </tr>
        <tr>
          <td>
            <p class="safety">Die mit der Funktion CORRTRAFO eingeschriebenen Korrekturwerte sind nicht sofort in der Transformation wirksam. Erst nach Transformationsabwahl, NEWCONF und Transformationsanwahl sind die Korrekturwerte wirksam.</p>
          </td>
        </tr>
      </table>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>&lt;Corr_Status> = CORRTRAFO(&lt;Corr_Vect>, &lt;Corr_Index>, &lt;Corr_Mode>, [ &lt;No_Alarm>])<a name="block_2"></a><h3 class="Blocktitle">Bedeutung</h3><a id="table_c377441f-3a81-405b-b709-21228bfdf632"></a> <a id="table_0"></a> <a id="table_c377441f-3a81-405b-b709-21228bfdf632"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="21.0%"><col width="12.5%"><col width="5.0%"><col width="3.0%"><col width="3.0%"><col width="55.5%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CORRTRAFO</code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Funktionsaufruf</p></td></tr><tr valign="top"><td rowspan="20"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Corr_Status></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Rückgabewert der Funktion</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td rowspan="18"><p type="p_table_l" style="margin-top: 4px" align="left">Werte:</p></td><td><p type="p_table_r" style="margin-top: 4px" align="right">0</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Die Funktion wurde ohne Fehler ausgeführt.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">1</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Es ist keine Transformation aktiv.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">2</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Die aktuell aktive Transformation ist keine Orientierungstransformation.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">3</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Die aktive Orientierungstransformation wurde nicht mit kinematischen Ketten definiert.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">10</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Der Aufrufparameter <code>&lt;Corr_Index></code> ist negativ.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">11</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Der Aufrufparameter <code>&lt;Corr_Mode></code> ist negativ.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">12</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Ungültiger Verweis auf einen Abschnitt einer Teilkette (1er-Stelle von <code>&lt;Corr_Index></code>). Der Wert darf nicht größer sein als die Zahl der Orientierungsachsen in der Teilkette.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">13</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Ungültiger Verweis auf die Orientierungsachse einer Teilkette (1er-Stelle von <code>&lt;Corr_Index></code>). Der Wert muss kleiner sein als die Zahl der Orientierungsachsen in der Teilkette.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">14</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Ungültiger Verweis auf eine Teilkette (10er-Stelle von <code>&lt;Corr_Index></code>). Es sind nur die Werte 0 und 1 zulässig (Verweis auf Part- bzw. Tool-Kette). Diese Fehlernummer tritt auch auf, wenn die Teilkette, auf die <code>&lt;Corr_Index></code> verweist, nicht existiert.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">15</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Im Abschnitt, auf den mit Parameter <code>&lt;Corr_Index></code> verwiesen wird, ist kein Korrekturelement definiert ($NT_CORR_ELEM_P bzw. $NT_CORR_ELEM_T).</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">20</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Ungültiger Korrekturmodus (1er-Stelle von <code>&lt;Corr_Mode></code>). Es sind nur die Werte 0 und 1 zulässig.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">21</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Ungültiger Korrekturmodus (10er- und/oder 100er-Stelle von <code>&lt;Corr_Mode></code>). Beim Schreiben einer Achsrichtung darf nur die 1er-Stelle ungleich null sein.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">30</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Die 100er-Stelle von <code>&lt;Corr_Mode></code> ist ungültig. Es sind nur die Werte 0 und 1 zulässig.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">31</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Die 1000er-Stelle von <code>&lt;Corr_Mode></code> ist ungültig. Es sind nur die Werte 0 und 1 zulässig.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">40</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Der Richtungsvektor, der als Achsrichtung übernommen werden soll, ist der Nullvektor. Dieser Fehler kann nur auftreten, wenn die 1000er-Stelle von <code>&lt;Corr_Mode></code> gleich 0 ist. Ist die 1000er-Stelle dieses Parameters gleich 1 (Überwachung der maximalen Korrektur deaktiviert), kann auch der Nullvektor geschrieben werden.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">41</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Bei der Korrektur eines Offsetvektors ist die Abweichung gegenüber dem aktuellen Werte in mindestens einer Koordinate größer als der durch das Settingdatum SD41610 $SN_CORR_TRAFO_LIN_MAX vorgegebene Maximalwert. Der Parameter <code>&lt;Corr_Vect> </code>wird durch einen Fehlervektor überschrieben. Das gilt auch dann, wenn die Bearbeitung mit Alarm abgebrochen wird (siehe Parameter <code>&lt;No_Alarm></code>).</p><p type="p_table_l" align="left">Der Fehlervektor enthält in den Komponenten, deren Korrekturwert das zulässige Limit überschritten hat, die vorzeichenrichtige Differenz zwischen dem ermittelten Korrekturwert und dem Limit.</p><p type="p_table_l" align="left">Der Inhalt der Komponenten, die ihr Limit nicht überschritten haben, ist null.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">42</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Bei der Korrektur eines Richtungsvektors ist die Winkelabweichung gegenüber der aktuellen Richtung größer als der durch das Settingdatum SD41611 $SN_CORR_TRAFO_DIR_MAX vorgegebene Maximalwert.</p></td></tr><tr valign="top"><td><p type="p_table_r" style="margin-top: 4px" align="right">43</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Der Versuch, eine Systemvariable zu beschreiben, wurde wegen fehlender Schreibrechte abgewiesen.</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;</code><code>Corr_Vect</code><code>></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Korrekturvektor</p><p type="p_table_l" align="left">Der Inhalt des Korrekturvektors wird durch die nachfolgenden Parameter &lt;Corr_Index> und <code>&lt;Corr_Mode></code> definiert.</p><p type="p_table_l" align="left">Ist <code>&lt;Corr_Status> = 41</code>, wird der Inhalt des Vektors überschrieben (s. o.).</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">REAL</p></td></tr><tr valign="top"><td rowspan="7"><p type="p_table_l" style="margin-top: 4px" align="left">&lt;<code>Corr_Index</code>>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Abschnitt, dessen Korrekturelement modifiziert werden soll /<br />Index der Orientierungsachse, deren Richtungsvektor modifiziert werden soll</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Der Parameter <code>&lt;Corr_Index></code> ist dezimalcodiert (1er- bis 10er-Stelle):</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1er-<br />Stelle:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Enthält den Index des Abschnitts bzw. der Orientierungsachse in der Teilkette.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">10er-<br />Stelle:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Verweist auf die Teilkette.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right"><b>0</b>x</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Werkstück-Kette</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right"><b>1</b>x</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Werkzeug-Kette</p></td></tr><tr valign="top"><td rowspan="18"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;</code><code>Corr_Mode</code><code>>:</code></p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Korrekturmodus</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">INT</p></td></tr><tr valign="top"><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Der Parameter <code>&lt;Corr_Mode></code> ist dezimalcodiert (1er- bis 1000er-Stelle):</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">1er-<br />Stelle:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Bestimmt, welches Element korrigiert werden soll.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right">xxx<b>0</b></p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Korrektur eines linearen Offsetvektors</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right">xxx<b>1</b></p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Korrektur des Richtungsvektors einer Orientierungsachse</p></td></tr><tr valign="top"><td rowspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">10er-<br />Stelle:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Bestimmt, wie das Korrekturelement, auf das der Inhalt von <code>&lt;Corr_Index></code> verweist, modifiziert werden soll.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right">xx<b>0</b>x</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Der Korrekturvektor wird unmittelbar in das Korrekturelement geschrieben.</p><p type="p_table_l" align="left">Diese Variante kann dazu verwendet werden, das Korrekturelement unmittelbar zu beschreiben, ohne dass der Index &lt;n> des betreffenden Systemdatums ($NK_OFF_DIR[&lt;n>, ...]) bekannt sein muss.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right">xx<b>1</b>x</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Wie 0, jedoch mit dem Unterschied, dass der übergebene Korrekturwert in Weltkoordinaten interpretiert wird.</p><p type="p_table_l" align="left">Ein Unterschied zwischen den Varianten 0 und 1 kann immer dann entstehen, wenn die kinematische Kette in Grundstellung (Positionen aller Orientierungsachsen gleich 0) weitere Drehungen enthält.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right">xx<b>2</b>x</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Wie 1, jedoch mit dem Unterschied, dass sich der Korrekturwert auf den gesamten Abschnitt bezieht, d. h., in das Korrekturelement wird ein solcher Wert eingetragen, dass der gesamte Abschnitt die durch den Korrekturwert definierte Länge erreicht.</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><b>Hinweis:</b><br />Die Werte 1 und 2 sind beim Beschreiben des Richtungsvektors einer Orientierungsachse nicht erlaubt.</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">100er-<br />Stelle:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Bestimmt, wie der Inhalt des Parameters <code>&lt;Corr_Vect></code> zu interpretieren ist.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right">x<b>0</b>xx</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Der übergebene Korrekturvektor <code>&lt;Corr_Vect></code> enthält die gesamte neue Länge des Korrekturelements bzw. des Abschnitts, auf den <code>&lt;Corr_Index></code> in Verbindung mit der 10er-Stelle von <code>&lt;Corr_Mode></code> verweist (absolute Korrektur).</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right">x<b>1</b>xx</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Der übergebene Korrekturvektor <code>&lt;Corr_Vect></code> enthält nur die Differenz gegenüber der aktuellen Länge des Korrekturelements bzw. des Abschnitts, auf den <code>&lt;Corr_Index></code> in Verbindung mit der 10er-Stelle von <code>&lt;Corr_Mode></code> verweist (inkrementelle Korrektur).</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><b>Hinweis:</b><br />Bei der Korrektur des Richtungsvektors einer Orientierungsachse muss der Inhalt der 100er-Stelle 0 sein.</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">1000er-<br />Stelle:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Bestimmt, ob die Korrektur durch folgenden Maximalwert begrenzt werden soll:</p><ul class="table"><li><p>SD41610 $SN_CORR_TRAFO_LIN_MAX</p><p>bzw.</p></li><li><p>SD41611 $SN_CORR_TRAFO_DIR_MAX</p></li></ul></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right"><b>0</b>xxx</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Überwachung der maximalen Korrektur ist aktiv.</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_r" style="margin-top: 4px" align="right"><b>1</b>xxx</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Überwachung der maximalen Korrektur ist nicht aktiv.</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;</code><code>No_Alarm</code><code>></code>:</p></td><td colspan="5"><p type="p_table_l" style="margin-top: 4px" align="left">Verhalten im Fehlerfall (Rückgabewert > 0) (<b>optional</b>) </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">BOOL</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Wert:</p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">FALSE (Default)</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Im Fehlerfall wird die Programmabarbeitung angehalten und Alarm 14103 angezeigt.</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">TRUE</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Im Fehlerfall wird die Programmabarbeitung nicht angehalten und es wird kein Alarm angezeigt.</p><p type="p_table_l" align="left">Anwendungsfall: Anwenderspezifische Reaktion entsprechend Rückgabewert</p></td></tr></table></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><p class="safety">Falls beim Aufruf der Funktion ein Fehler auftritt, wird entweder ein Alarm ausgegeben oder eine Fehlernummer zurückgegeben (siehe Parameter &lt;No_Alarm>), sodass der Anwender selbst geeignet auf den Fehlerzustand reagieren kann. Die Fehlerursache wird durch einen Alarmparameter näher bezeichnet. Eine an Stelle eines Alarms zurückgegebene Fehlernummer ist identisch mit dem Alarmparameter.</p></td></tr></table></div>
    <p>Siehe auch:<br />    <a href="156663249547.html">Orientierungstransformation nach Maschinenvermessung modifizieren (CORRTRAFO): Weitere Informationen</a></p>
  </body>
</html>