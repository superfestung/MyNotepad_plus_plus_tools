<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Einzelsatzbearbeitung unterdrücken (SBLOF, SBLON)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Einzelsatzbearbeitung unterdrücken (SBLOF, SBLON)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>Auch bei aktiver Einzelsatzbearbeitung hat der Anwender die Möglichkeit, ein NC-Programm komplett oder teilweise ohne anzuhalten abzuarbeiten. Die Unterdrückung der Einzelsatzbearbeitung erfolgt über den Befehl SBLOF, das Wiedereinschalten über den Befehl SBLON.</p>
      <h4 class="Blocklabel">Einzelsatzbearbeitung für das gesamte NC-Programm unterdrücken</h4>
      <p>Ist das Ausschalten der Einzelsatzbearbeitung (SBLOF) in der ersten Zeile (PROC ...) eines <b>Hauptprogramms</b> programmiert, gilt dies bis zum Ende oder Abbruch des NC-Programms. Das NC-Programm wird dann bei Einzelsatz ohne anzuhalten abgearbeitet.</p>
      <p>Ist das Ausschalten der Einzelsatzbearbeitung (SBLOF) in der ersten Zeile (PROC ...) eines <b>Unterprogramms</b> programmiert, gilt dies bis zum Ende oder Abbruch des NC-Programms. Mit dem programmierten Rücksprung-Befehl wird entschieden, ob am Ende des Unterprogramms angehalten wird oder nicht:</p>
      <ul>
        <li>
          <p>Rücksprung mit M17: Stopp am Ende des Unterprogramms</p>
        </li>
        <li>
          <p>Rücksprung mit RET: <b>Kein</b> Stopp am Ende des Unterprogramms</p>
        </li>
      </ul>
      <h4 class="Blocklabel">Einzelsatzbearbeitung innerhalb des NC-Programms unterdrücken</h4>
      <p>Ist das Ausschalten der Einzelsatzbearbeitung (SBLOF) in einem Satz innerhalb eines NC-Programms programmiert, wird die Einzelsatzbearbeitung ab diesem Satz bis zum nächsten programmierten Einschalten der Einzelsatzbearbeitung (SBLON) oder dem Ende der aktiven Unterprogrammebene ausgeschaltet.</p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>
      <h4 class="Blocklabel">Einzelsatzbearbeitung für das gesamte NC-Programm unterdrücken:</h4>
      <a id="table_22e934d4-d89f-8e1e-f8dd-278566efc092">
      </a> <a id="table_0"></a> <a id="table_22e934d4-d89f-8e1e-f8dd-278566efc092"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EVB"><colgroup><col width="81.6%"><col width="18.4%"></colgroup><tr valign="top"><td>PROC ... SBLOF</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Einzelsatzbearbeitung innerhalb des NC-Programms unterdrücken:</h4><a id="table_99bc079b-b32c-4f1c-9147-ca5857a9fc19"></a> <a id="table_1"></a> <a id="table_99bc079b-b32c-4f1c-9147-ca5857a9fc19"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EGC"><colgroup><col width="81.1%"><col width="18.9%"></colgroup><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>SBLOF</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>SBLON</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_2"></a><h3 class="Blocktitle">Bedeutung</h3><a id="table_308a0f76-195d-454b-bff2-ae1d5f295ba9"></a> <a id="table_2"></a> <a id="table_308a0f76-195d-454b-bff2-ae1d5f295ba9"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="15.0%"><col width="20.0%"><col width="65.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>PROC</code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Erste Anweisung eines Programms</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>SBLOF</code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Vordefinierte Prozedur zum Ausschalten der Einzelsatzbearbeitung</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Alleine im Satz:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">ja, im PROC-Satz möglich</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Wirksamkeit:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">modal</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>SBLON</code>:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Vordefinierte Prozedur zum Einschalten der Einzelsatzbearbeitung</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Alleine im Satz:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">ja</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Wirksamkeit:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">modal</p></td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Besonderheiten</h3><ul><li><p><b>Satzanzeige bei unterdrückter Einzelsatzbearbeitung</b></p><p>Die aktuelle Satzanzeige kann in Unterprogrammen mit DISPLOF unterdrückt werden. Wird DISPLOF zusammen mit SBLOF programmiert, wird bei Einzelsatz-Stopps innerhalb des Unterprogramms der Aufruf des Unterprogramms angezeigt.</p></li><li><p><b>Unterdrückung der Einzelsatzbearbeitung bei asynchronen Unterprogrammen (ASUP)</b></p><p>Um ein ASUP bei aktiver Einzelsatzbearbeitung in einem Schritt abzuarbeiten, muss im ASUP eine PROC-Anweisung mit SBLOF programmiert werden. Dies gilt auch für die Funktion "Editierbares System-ASUP" (MD11610 $MN_ASUP_EDITABLE).</p><p>Wenn der Einzelsatz-Stopp im System- oder Anwender-ASUP über die Programmierung von SBLOF in der PROC-Zeile oder über die Einstellungen im Maschinendatum MD10702 $MN_IGNORE_SINGLEBLOCK_MASK unterdrückt wird (Bit0 = 1 bzw. Bit1 = 1), dann kann der Einzelsatz-Stopp durch Programmierung von SBLON im ASUP wieder aktiviert werden.</p><p>Wird der Einzelsatz-Stopp im Anwender-ASUP über die Einstellung im Maschinendatum MD20117 $MC_IGNORE_SINGLEBLOCK_ASUP unterdrückt, dann kann der Einzelsatz-Stopp durch Programmierung von SBLON im ASUP <b>nicht</b> wieder aktiviert werden.</p></li><li><p><b>Besonderheiten bei den verschiedenen Einzelsatzbearbeitungstypen</b></p><ul><li><p>"SB2: Rechensatz" UND MD10702 $MN_IGNORE_SINGLEBLOCK_MASK, Bit 12 = 1:</p><p>→ Im SBLON-Satz wird nicht angehalten.</p></li><li><p>"SB3: Einzelsatz fein":</p><p>→ Der Befehl SBLOF wird unterdrückt<b>.</b></p></li></ul></li><li><p><b>Unterdrückung der Einzelsatzbearbeitung in geschachtelten Programmen</b></p><p>Wurde in einem Unterprogramm SBLOF in der PROC-Anweisung programmiert, so wird auf den Unterprogrammrücksprung mit M17 angehalten. Damit wird verhindert, dass im aufrufenden Programm bereits der nächste Satz ausgeführt wird. Wird in einem Unterprogramm mit SBLOF, ohne SBLOF in der PROC-Anweisung, eine Unterdrückung der Einzelsatzbearbeitung aktiviert, wird erst nach dem nächsten Maschinenfunktionssatz des aufrufenden Programms angehalten. Ist dies nicht erwünscht, muss im Unterprogramm noch vor dem Rücksprung (M17) wieder SBLON programmiert werden. Bei einem Rücksprung mit RET in ein übergeordnetes Programm wird nicht angehalten.</p></li></ul><a name="block_4"></a><h3 class="Blocktitle">Beispiele</h3><h4 class="Blocklabel">Beispiel 1: Einzelsatzbearbeitung innerhalb des NC-Programms unterdrücken</h4><p>Ausgangssituation: Einzelsatzbearbeitung ist aktiv.</p><a id="table_49b5683d-d3b1-4bbe-a5bf-73d21eb6b194"></a> <a id="table_3"></a> <a id="table_49b5683d-d3b1-4bbe-a5bf-73d21eb6b194"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EQG"><colgroup><col width="34.8%"><col width="65.2%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>N10 G1 X100 F1000</td><td> </td></tr><tr valign="top"><td>N20 <b>SBLOF</b></td><td>; Einzelsatzbearbeitung ausschalten</td></tr><tr valign="top"><td>N30 Y20</td><td> </td></tr><tr valign="top"><td>N40 M100</td><td> </td></tr><tr valign="top"><td>N50 R10=90</td><td> </td></tr><tr valign="top"><td>N60 <b>SBLON</b></td><td>; Einzelsatzbearbeitung wieder einschalten</td></tr><tr valign="top"><td>N70 M110</td><td> </td></tr><tr valign="top"><td>N80 ...</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Der Bereich zwischen N20 und N60 wird im Einzelsatzbetrieb als ein Schritt bearbeitet.</p><h4 class="Blocklabel">Beispiel 2: Zyklus soll für den Anwender wie ein Befehl wirken</h4><p>Ausgangssituation: Einzelsatzbearbeitung ist aktiv.</p><p>Hauptprogramm:</p><a id="table_e30fd9e9-3d2a-4251-9ac8-961ad12f387d"></a> <a id="table_4"></a> <a id="table_e30fd9e9-3d2a-4251-9ac8-961ad12f387d"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EPAAC"><colgroup><col width="34.8%"><col width="65.2%"></colgroup><tr valign="top"><th>Programmcode</th><th> </th></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N100 G1 X10 G90 F200</td><td> </td></tr><tr valign="top"><td>N120 X-4 Y6</td><td> </td></tr><tr valign="top"><td>N130 <b>CYCLE1</b></td><td> </td></tr><tr valign="top"><td>N140 G1 X0</td><td> </td></tr><tr valign="top"><td>N150 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Zyklus CYCLE1:</p><a id="table_7ec4e840-8126-4d06-ac13-5460ac5370d8"></a> <a id="table_5"></a> <a id="table_7ec4e840-8126-4d06-ac13-5460ac5370d8"></a> <a id="table_5"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E4BAC"><colgroup><col width="45.0%"><col width="55.0%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>N100 <b>PROC</b> CYCLE1 DISPLOF <b>SBLOF</b></td><td>; Einzelsatzbearbeitung für das gesamte Programm unterdrücken.</td></tr><tr valign="top"><td>N110 R10=3*SIN(R20)+5</td><td> </td></tr><tr valign="top"><td>N120 IF (R11 &lt;= 0)</td><td> </td></tr><tr valign="top"><td>N130  SETAL(61000)</td><td> </td></tr><tr valign="top"><td>N140 ENDIF</td><td> </td></tr><tr valign="top"><td>N150 G1 G91 Z=R10 F=R11</td><td> </td></tr><tr valign="top"><td>N160 M17</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Der Zyklus CYCLE1 wird bei aktiver Einzelsatzbearbeitung abgearbeitet. D. h., es muss für die Bearbeitung von CYCLE1 einmal die Start-Taste gedrückt werden.</p><h4 class="Blocklabel">Beispiel 3: Ein von der PLC gestartetes ASUP zum Aktivieren von geänderter Nullpunktverschiebung und Werkzeugkorrekturen soll nicht sichtbar sein</h4><a id="table_530dd0ee-deca-4691-8325-5a08149d4743"></a> <a id="table_6"></a> <a id="table_530dd0ee-deca-4691-8325-5a08149d4743"></a> <a id="table_6"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EUDAC"><colgroup><col width="44.3%"><col width="55.6%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>N100 <b>PROC</b> NV <b>SBLOF</b> <b>DISPLOF</b></td><td>; Einzelsatzbearbeitung und Satzanzeige unterdrücken.</td></tr><tr valign="top"><td>N110 CASE $P_UIFRNUM OF</td><td> </td></tr><tr valign="top"><td>       0 GOTOF _G500</td><td> </td></tr><tr valign="top"><td>       1 GOTOF _G54</td><td> </td></tr><tr valign="top"><td>       2 GOTOF _G55</td><td> </td></tr><tr valign="top"><td>       3 GOTOF _G56</td><td> </td></tr><tr valign="top"><td>       4 GOTOF _G57</td><td> </td></tr><tr valign="top"><td>     DEFAULT GOTOF END</td><td> </td></tr><tr valign="top"><td colspan="2">N120 _G54: G54 D=$P_TOOL T=$P_TOOLNO</td></tr><tr valign="top"><td colspan="2">N130 RET</td></tr><tr valign="top"><td colspan="2">N140 _G54: G55 D=$P_TOOL T=$P_TOOLNO</td></tr><tr valign="top"><td colspan="2">N150 RET</td></tr><tr valign="top"><td colspan="2">N160 _G56: G56 D=$P_TOOL T=$P_TOOLNO</td></tr><tr valign="top"><td colspan="2">N170 RET</td></tr><tr valign="top"><td colspan="2">N180 _G57: G57 D=$P_TOOL T=$P_TOOLNO</td></tr><tr valign="top"><td colspan="2">N190 RET</td></tr><tr valign="top"><td colspan="2">N200 END: D=$P_TOOL T=$P_TOOLNO</td></tr><tr valign="top"><td colspan="2">N210 RET</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Beispiel 4: Gezieltes Anhalten im Unterprogramm</h4><p>Ausgangssituation:</p><ul><li><p>Einzelsatzbearbeitung ist aktiv.</p></li><li><p>MD10702 $MN_IGNORE_SINGLEBLOCK_MASK, Bit12 = 1</p></li></ul><p>Hauptprogramm:</p><a id="table_1c210703-d77f-4136-b117-07a4bde730ba"></a> <a id="table_7"></a> <a id="table_1c210703-d77f-4136-b117-07a4bde730ba"></a> <a id="table_7"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EZGAC"><colgroup><col width="31.7%"><col width="68.3%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>N10 G0 X0</td><td>; Einzelsatz-Stopp</td></tr><tr valign="top"><td>N20 X10</td><td>; Einzelsatz-Stopp</td></tr><tr valign="top"><td>N30 <b>CYCLE</b></td><td>; Vom Zyklus generierter Verfahrsatz.</td></tr><tr valign="top"><td>N50 G90 X20</td><td>; Einzelsatz-Stopp</td></tr><tr valign="top"><td>M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Zyklus CYCLE:</p><a id="table_402b7229-314b-4aa0-9493-7324d647cde4"></a> <a id="table_8"></a> <a id="table_402b7229-314b-4aa0-9493-7324d647cde4"></a> <a id="table_8"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EDIAC"><colgroup><col width="31.7%"><col width="68.3%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>PROC CYCLE <b>SBLOF</b></td><td>; Einzelsatzbearbeitung unterdrücken</td></tr><tr valign="top"><td>N100 R0=1</td><td> </td></tr><tr valign="top"><td>N110 <b>SBLON</b></td><td>; Kein Einzelsatz-Stopp wegen MD10702 Bit12=1</td></tr><tr valign="top"><td>N120 X1</td><td>; Einzelsatz-Stopp</td></tr><tr valign="top"><td>N140 <b>SBLOF</b></td><td> </td></tr><tr valign="top"><td>N150 R0=2</td><td> </td></tr><tr valign="top"><td>RET</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Beispiel 5: Unterdrückung der Einzelsatzbearbeitung bei Programmschachtelung</h4><p>Ausgangssituation:</p><ul><li><p>Einzelsatzbearbeitung Typ 2 ist aktiv.</p></li><li><p>Im SBLON-Satz soll nicht angehalten werden (MD10702 $MN_IGNORE_SINGLEBLOCK_MASK, Bit12 = 1)</p></li></ul><a id="table_59c76fd4-02b8-1d99-d40f-e3ff72d49c0e"></a> <a id="table_9"></a> <a id="table_59c76fd4-02b8-1d99-d40f-e3ff72d49c0e"></a> <a id="table_9"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EBKAC"><colgroup><col width="51.2%"><col width="48.8%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>N10 X0 F1000</td><td>; Einzelsatz-Stopp</td></tr><tr valign="top"><td>N20 UP1(0)</td><td> </td></tr><tr valign="top"><td>      <b>PROC</b> UP1(INT _NR) <b>SBLOF</b></td><td>; Einzelsatzbearbeitung für UP1 ausschalten</td></tr><tr valign="top"><td>      N100 X10</td><td> </td></tr><tr valign="top"><td>      N110 UP2(0)</td><td> </td></tr><tr valign="top"><td>            PROC UP2(INT _NR)</td><td> </td></tr><tr valign="top"><td>            N200 X20</td><td> </td></tr><tr valign="top"><td>            N210 <b>SBLON</b></td><td>; Einzelsatzbearbeitung einschalten</td></tr><tr valign="top"><td>            N220 X22</td><td>; Einzelsatz-Stopp</td></tr><tr valign="top"><td>            N230 UP3(0)</td><td> </td></tr><tr valign="top"><td>                  PROC UP3(INT _NR)</td><td> </td></tr><tr valign="top"><td>                  N300 <b>SBLOF</b></td><td>; Einzelsatzbearbeitung ausschalten</td></tr><tr valign="top"><td>                  N305 X30</td><td> </td></tr><tr valign="top"><td>                  N310 <b>SBLON</b></td><td>; Einzelsatzbearbeitung einschalten</td></tr><tr valign="top"><td>                  N320 X32</td><td>; Einzelsatz-Stopp</td></tr><tr valign="top"><td>                  N330 <b>SBLOF</b></td><td>; Einzelsatzbearbeitung ausschalten</td></tr><tr valign="top"><td>                  N340 X34</td><td> </td></tr><tr valign="top"><td>                  N350 M17</td><td>; Einzelsatz-Stopp (M17)</td></tr><tr valign="top"><td>            N240 X24</td><td>; Einzelsatz-Stopp (N210)</td></tr><tr valign="top"><td>            N250 M17</td><td>; Einzelsatz-Stopp (M17)</td></tr><tr valign="top"><td>      N120 X12</td><td> </td></tr><tr valign="top"><td>      N130 M17</td><td>; Einzelsatz-Stopp (M17)</td></tr><tr valign="top"><td>N30 X0</td><td>; Einzelsatz-Stopp</td></tr><tr valign="top"><td>N40 M30</td><td>; Einzelsatz-Stopp</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p></div>
  </body>
</html>