<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Timer ($AC_TIMER)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Timer ($AC_TIMER)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>Die Variablen $AC_TIMER[&lt;Index>] sind kanalspezifische Felder von Systemvariablen. </p>
      <a id="table_0">
      </a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="50.0%"><col width="49.9%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">REAL</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Index>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Feldindex: 0, 1, 2, ... (max. Anzahl - 1)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Einheit:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Sekunde</p></td></tr></table></p><a name="block_1"></a><h3 class="Blocktitle">Anzahl pro Kanal</h3><p>Die maximale Anzahl der $AC_TIMER Variablen pro Kanal ist einstellbar über das Maschinendatum:</p><p>MD28258 $MC_MM_NUM_AC_TIMER = &lt;Maximale Anzahl>   </p><a name="block_2"></a><h3 class="Blocktitle">Funktion</h3><h4 class="Blocklabel">Starten</h4><p>Das Starten eines Timers erfolgt durch Zuweisung eines Wertes ≥ 0:</p><p>$AC_TIMER[&lt;Index>] = &lt;Startwert>; mit Startwert ≥ 0</p><h4 class="Blocklabel">Inkrementieren</h4><p>Pro Interpolatortakt wird der Wert des Timers um die Dauer eingestellten Interpolatortaktes (MD10071 IPO_CYCLE_TIME) inkrementiert.</p><p>$AC_TIMER[&lt;Index>] += &lt;Interpolatortakt></p><h4 class="Blocklabel">Stoppen</h4><p>Das Stoppen eines Timers erfolgt durch Zuweisung eines Wertes &lt; 0:</p><p>$AC_TIMER[&lt;Index>] = &lt;Abschaltwert>; mit Abschaltwert &lt; 0</p><p>Bei der Zuweisung eines Abschaltwerts, wird nur das weitere Inkrementieren des Timers gestoppt. Der Abschaltwert wird dabei nicht zugewiesen. Nach dem Stoppen des Timers bleibt der letzte gültige Wert erhalten und kann weiterhin gelesen werden.</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><p class="safety">Der aktuelle Wert eines Timers kann bei laufendem und gestopptem Timer gelesen werden.</p></td></tr></table><a name="block_3"></a><h3 class="Blocktitle">Beispiel</h3><p>Ausgabe des Istwerts der X-Achse als Spannungswert über den Analogausgang $A_OUTA[3], 500 ms nach dem Erkennen des digitalen Eingangs $A_IN[1]:</p><a id="table_1"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EOC"><colgroup><col width="51.5%"><col width="48.5%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>WHEN $A_IN[1]==1 DO $AC_TIMER[1]=0</td><td>; Timer starten, Anfangswert 0</td></tr><tr valign="top"><td colspan="2">WHEN $AC_TIMER[1]>=0.5 DO $A_OUTA[3]=$AA_IM[X] $AC_TIMER[1]=-1</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p></div>
  </body>
</html>