<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Schleifspezifische Systemvariablen ($AC_IN_KEY_G...)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Schleifspezifische Systemvariablen ($AC_IN_KEY_G...)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>In der Technologie Schleifen müssen asynchron zum Bearbeitungsvorgangs Eingangssignale erkannt und die entsprechenden Aktionen in den Programmablauf integriert werden. Dazu stehen folgende Systemvariablen und NC/PLC-Nahtstellensignale zur Verfügung:</p>
      <a id="table_1fee125d-52a9-a433-96e8-aa7c2a4624aa">
      </a> <a id="table_0"></a> <a id="table_1fee125d-52a9-a433-96e8-aa7c2a4624aa"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="30.0%"><col width="25.0%"><col width="45.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Systemvariable</p></th><th><p type="p_table_lb" align="left">NC/PLC-Nahtstelle DB21, ...</p></th><th><p type="p_table_lb" align="left">Beschreibung</p></th></tr><tr valign="top"><td colspan="3"><p type="p_table_c" style="margin-top: 4px" align="center"><b>Kommunikation NC-intern</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_IN_KEY_G_ENABLE[1 ... 8] <sup>1</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">---</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">NC-seitige Freigabe des Eingangssignals</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_c" style="margin-top: 4px" align="center"><b>Kommunikation NC → PLC </b><sup>2)</sup></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_IN_KEY_G_ISENABLE[1 ... 8] <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.in.signalEnabled</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Freigabe des Eingangssignals</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_IN_KEY_G_RUN_OUT[1 ... 8]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.in.requested</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">NC-seitige Freigabeanforderung der Aktion (optional)</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_c" style="margin-top: 4px" align="center"><b>Kommunikation PLC → NC </b><sup>3)</sup></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_IN_KEY_G[1 ... 8]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.set</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Eingangssignal</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">---</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.disableSignal <sup>1)</sup></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">PLC-seitige Sperre des Eingangssignals</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_IN_KEY_G_RUN_IN[1 ... 8]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.ackFuncExecution</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">PLC-seitige Freigabe der Aktion (optional)</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">1) Durch die NC-seitige <b>UND</b>-Verknüpfung des NC-Freigabesignals in $AC_IN_KEY_G_ENABLE und des PLC-Freigabesignals <b>NOT</b>(<code>&lt;Chan>.grinding.out.disableSignal</code>) wird das Freigabesignal in $AC_IN_KEY_G_ISENABLE und <code>&lt;Chan>.grinding.in.signalEnabled</code> gebildet.</p><p type="p_table_l" align="left">2) Der Inhalt der Systemvariable wird in die NC/PLC-Nahtstelle übertragen</p><p type="p_table_l" align="left">3) Der Inhalt der NC/PLC-Nahtstelle wird in die Systemvariable übertragen</p></td></tr></table></p><a name="block_1"></a><h3 class="Blocktitle">Beispiel</h3><h4 class="Blocklabel">Vorgaben</h4><ul><li><p>Von einem Hauptprogramm wird ein Zyklus (ZYKLUS_1) gestartet, in dem sowohl die Schleifbearbeitung als auch das Zwischenabrichten durchgeführt werden. </p></li><li><p>Die Aktion "Zwischenabrichten" kann asynchron zur Bearbeitung von einem Bediener über ein Eingangssignal der PLC-Peripherie angefordert werden.</p></li><li><p>Das Erkennen des Eingangssignals und das Anfordern der Aktion erfolgt in einem Technologiezyklus. Der Technologiezyklus ("SIGNAL_IN_x") wird im Aktionsteil der im Zyklus eingerichteten Synchronaktion (ID &lt;xy>) aufgerufen.</p></li></ul><p>Im nachfolgenden Bild ist das Aufrufschema, die relevanten Befehle und der Signalfluss dargestellt.</p><a id="image_83871755019_0"></a> <img border="0" src="images/167883468427.png" width="500" height="524"/><a id="table_"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_legend" border="0"><colgroup><col width="6.9%"><col width="93.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">①</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.disableSignal</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">②</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.set</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">③</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.in.signalEnabled</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">④</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.in.requested</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">⑤</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.ackFuncExecution</p></td></tr></table></p><p>Die PLC-seitigen Funktionen wie z.B. "Freigabe Eingangssignal x" müssen vom PLC-Anwenderprogramm bereitgestellt werden.</p><h4 class="Blocklabel">Ablauf</h4><ul><li><p>Hauptprogramm</p><ul><li><p>Aufruf des Zyklus "ZYKLUS_1"</p></li></ul></li><li><p>Zyklus "ZYKLUS_1"</p><ul><li><p>Setzen der Freigabe des Eingangssignals x ($AC_IN_KEY_G_ENABLE)</p></li><li><p>Einrichten der Synchronaktion mit Technologiezyklus "SIGNAL_IN_x"</p></li><li><p>Initialisieren des Triggers für Aktion x "Zwischenabrichten" (R01)</p></li><li><p>Schleifbearbeitung durchführen</p></li></ul></li><li><p>Technologiezyklus "SIGNAL_IN_x" (parallel zum Zyklus)</p><ul><li><p>Erkennen des Eingangssignals ($AC_IN_KEY_G) bei aktiver Freigabe ($AC_IN_KEY_G_ISENABLE)</p></li><li><p>Anfordern der Freigabe der Aktion x von PLC ($AC_IN_KEY_G_RUN_OUT)</p></li><li><p>Warten auf Freigabe der Aktion x von PLC ($AC_IN_KEY_G_RUN_IN)</p></li><li><p>Anfordern der Aktion x im Zyklus (R01)</p></li><li><p>Rückmelden der Anforderung an PLC  ($AC_IN_KEY_G_RUN_OUT)</p></li><li><p>Warten auf Quittierung von PLC ($AC_IN_KEY_G_RUN_IN)</p></li></ul></li><li><p>Zyklus "ZYKLUS_1" (nach Abschluss der Schleifbearbeitung)</p><ul><li><p>Rücksetzen der Freigabe des Eingangssignals x ($AC_IN_KEY_G_ENABLE)</p></li><li><p>Falls Aktion x angefordert ist ⇒ Zwischenabrichten durchführen</p></li><li><p>... (eventuell den Ablauf Schleifbearbeitung / Zwischenabrichten wiederholt durchführen etc.)</p></li></ul></li><li><p>PLC-Anwenderprogramm</p><ul><li><p>Funktion "Freigabe Eingangssignal x":</p><p>Setzen des Nahtstellensignals <code>&lt;Chan>.grinding.out.disableSignal</code></p></li><li><p>Funktion "Eingangssignal x":</p><p>Verknüpfen (UND) des Eingangssignals der PLC-Peripherie und der Freigabe des Eingangssignals (<code>&lt;Chan>.grinding.in.signalEnabled</code>) und Setzen des Ergebnisses in der Nahtstelle (<code>&lt;Chan>.grinding.out.set</code>)</p></li><li><p>Funktion "Freigabe Aktion x":</p><p>Prüfen/Setzen der Nahtstellensignale <code>&lt;Chan>.grinding.in.requested</code> / <code>&lt;Chan>.grinding.out.ackFuncExecution</code></p></li></ul></li></ul><a name="block_2"></a><h3 class="Blocktitle">PLC-Signale</h3><h4 class="Blocklabel">NC → PLC</h4><a id="table_e849b817-f8dd-d3c2-26d6-a2643b47f3c7"></a> <a id="table_1"></a> <a id="table_e849b817-f8dd-d3c2-26d6-a2643b47f3c7"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="45.0%"><col width="35.0%"><col width="20.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Basic Program Plus</p></th><th colspan="2"><p type="p_table_lb" align="left">Basic Program</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.in.signalEnabled</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_Chan*.E_InKeyGIsEn1-8</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB21, ... .DBX390.0..7</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.in.requested</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_AxisX*.E_InKeyGRunOut1-8</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB21, ... .DBX391.0..7</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.set</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_Chan*.A_InKeyG&lt;n></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB21, ... .DBX385.0..7</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.disableSignal</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_Chan*.A_InKeyGEn&lt;n></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB21, ... .DBX386.0..7</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Chan>.grinding.out.ackFuncExecution</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_Chan*.A_InKeyGRunIn&lt;n></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB21, ... .DBX387.0..7</p></td></tr></table></p></div>
  </body>
</html>