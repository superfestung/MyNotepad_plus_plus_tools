<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Definition und Initialisierung von Feldvariablen (DEF, SET, REP)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Definition und Initialisierung von Feldvariablen (DEF, SET, REP)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Eine Anwendervariable kann als 1- bis maximal 3-dimensionales Feld (Array) definiert werden.</p>
      <h4 class="Blocklabel">Datentypen</h4>
      <p>Anwendervariable können als Felder für folgende Datentypen definiert werden: BOOL, CHAR, INT, REAL, STRING, AXIS, FRAME</p>
      <h4 class="Blocklabel">Wertzuweisung an Feldelemente     </h4>
      <p>Wertzuweisungen an Feldelemente können zu folgenden Zeitpunkten vorgenommen werden:</p>
      <ul>
        <li>
          <p>Bei der Felddefinition (Initialisierungswerte)</p>
        </li>
        <li>
          <p>Während des Programmablaufs</p>
        </li>
      </ul>
      <p>Wertzuweisung können dabei erfolgen über:</p>
      <ul>
        <li>
          <p>Explizite Angabe eines Feldelements</p>
        </li>
        <li>
          <p>Explizite Angabe eines Feldelements als Startelement und Angabe einer Werteliste (SET)</p>
        </li>
        <li>
          <p>Explizite Angabe eines Feldelements als Startelement und Angabe eines Werts und der Häufigkeit seiner Wiederholung (REP)</p>
        </li>
      </ul>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Hinweis</b>
          </td>
        </tr>
        <tr>
          <td>
            <p class="safety">Anwendervariablen vom Datentyp FRAME können keine Initialisierungswerte zugewiesen werden.</p>
          </td>
        </tr>
      </table>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Syntax</h3>
      <h4 class="Blocklabel">Definition (Datentypen: BOOL, CHAR, INT, REAL, AXIS, FRAME) </h4>
      <ul>
        <li>
          <p>1-dimensionales Feld:</p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>]</code>
          </p>
        </li>
        <li>
          <p>2-dimensionales Feld:</p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>,&lt;m>]</code>
          </p>
        </li>
        <li>
          <p>3-dimensionales Feld:</p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>,&lt;m>,&lt;o>]</code>
          </p>
        </li>
      </ul>
      <h4 class="Blocklabel">Definition (Datentyp: STRING)</h4>
      <ul>
        <li>
          <p>1-dimensionales Feld:</p>
          <p>
            <code>DEF STRING[&lt;StringLength>] &lt;VarName>[&lt;n>]</code>
          </p>
        </li>
        <li>
          <p>2-dimensionales Feld:</p>
          <p>
            <code>DEF STRING[&lt;StringLength>] &lt;VarName>[&lt;n>,&lt;m>]</code>
          </p>
        </li>
      </ul>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Hinweis</b>
          </td>
        </tr>
        <tr>
          <td>
            <p class="safety">Anwendervariable vom Datentyp STRING können maximal als 2-dimensionales Feld definiert werden.</p>
          </td>
        </tr>
      </table>
      <h4 class="Blocklabel">Wertzuweisung über Werteliste</h4>
      <ul>
        <li>
          <p>Initialisierung bei der Felddefinition:</p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = SET(&lt;Value_1>,&lt;Value_2>,...)</code>
          </p>
          <p>Gleichbedeutend mit:</p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = (&lt;Value_1>,&lt;Value_2>,...)</code>
          </p>
          <table cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td>
                <font size="1px">
                </font>
              </td>
            </tr>
          </table>
          <table class="safety" border="1" bgcolor="#eeeeee">
            <colgroup>
              <col width="5%">
              <col width="95%">
            </colgroup>
            <tr>
              <td>
                <b>Hinweis</b>
              </td>
            </tr>
            <tr>
              <td>
                <p class="safety">Bei der Initialisierung über eine Werteliste ist die Angabe von SET optional.</p>
              </td>
            </tr>
          </table>
        </li>
        <li>
          <p>Zuweisung während des Programmablaufs:</p>
          <p>
            <code>&lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = SET(&lt;Value_1>,&lt;Value_2>,...)</code>
          </p>
        </li>
      </ul>
      <h4 class="Blocklabel">Wertzuweisung über Wert</h4>
      <ul>
        <li>
          <p>Initialisierung bei der Felddefinition:</p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = REP(&lt;Value>)</code>
          </p>
          <p>
            <code>DEF &lt;DataType> &lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = REP(&lt;Value>,&lt;Num_ArrayElements>)<br /></code>
          </p>
        </li>
        <li>
          <p>Zuweisung während des Programmablaufs:</p>
          <p>
            <code>&lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = REP(&lt;Value>)</code>
          </p>
          <p>
            <code>&lt;VarName>[&lt;n>,&lt;m>,&lt;o>] = REP(&lt;Value>,&lt;Num_ArrayElements>)</code>
          </p>
        </li>
      </ul>
      <a name="block_2">
      </a>
      <h3 class="Blocktitle">Bedeutung</h3>
      <a id="table_78c332be-5f1d-4d1b-9514-29db249777ad">
      </a> <a id="table_0"></a> <a id="table_78c332be-5f1d-4d1b-9514-29db249777ad"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="40.6%"><col width="9.0%"><col width="11.3%"><col width="38.9%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>DEF</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Befehl zur Definition von Variablen</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;DataType></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp der Variablen</p></td></tr><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Wertebereich:</p><ul class="table"><li><p>bei Systemvariablen:</p><p>BOOL, CHAR, INT, REAL, STRING, AXIS</p></li><li><p>bei GUD- oder LUD-Variablen:</p><p>BOOL, CHAR, INT, REAL, STRING, AXIS, FRAME</p></li></ul></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;StringLength></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Maximale Anzahl der Zeichen beim Datentyp STRING</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;VarName></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Variablenname</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>[&lt;n>,&lt;m>,&lt;o>]</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Feldgrößen bzw. Feldindizes</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;n></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Feldgröße bzw. Feldindex für 1. Dimension</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Typ:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">INT (bei Systemvariablen auch AXIS)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Wertebereich:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Max. Feldgröße: 32767</p><p type="p_table_l" align="left">Feldindex: 0 ≤ n ≤ 32767</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;m></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Feldgröße bzw. Feldindex für 2. Dimension</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Typ:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">INT (bei Systemvariablen auch AXIS)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Wertebereich:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Max. Feldgröße: 32767</p><p type="p_table_l" align="left">Feldindex: 0 ≤ m ≤ 32767</p></td></tr><tr valign="top"><td rowspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;o></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Feldgröße bzw. Feldindex für 3. Dimension</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Typ:</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">INT (bei Systemvariablen auch AXIS)</p></td></tr><tr valign="top"><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Wertebereich:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Max. Feldgröße: 32767</p><p type="p_table_l" align="left">Feldindex: 0 ≤ o ≤ 32767</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>SET</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Wertzuweisung über die angegebene Werteliste</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>(&lt;Value_1>,&lt;Value_2>,...)</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Werteliste</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>REP</code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Wertzuweisung über den angegebenen Wert</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Value></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Wert, mit dem die Feldelemente bei der Initialisierung mit REP beschrieben werden sollen.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Num_ArrayElements></code> </p></td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left">Anzahl der Feldelemente, die mit dem angegebenen Wert beschrieben werden sollen.</p><p type="p_table_l" align="left">Für die restlichen Feldelemente gilt abhängig vom Zeitpunkt:</p><ul class="table"><li><p>Initialisierung bei der Felddefinition:</p><p>→ Die restlichen Feldelemente werden mit Null beschrieben</p></li><li><p>Zuweisung während des Programmlaufs:</p><p>→ Die aktuellen Werte der Feldelemente bleiben unverändert.</p></li></ul><p type="p_table_l" align="left">Ist der Parameter nicht programmiert, werden alle Feldelemente mit dem angegebenen Wert beschrieben.</p><p type="p_table_l" align="left">Ist der Parameter gleich Null, gilt abhängig vom Zeitpunkt:</p><ul class="table"><li><p>Initialisierung bei der Felddefinition:</p><p>→ Alle Elemente werden mit Null vorbelegt</p></li><li><p>Zuweisung während des Programmlaufs:</p><p>→ Die aktuellen Werte der Feldelemente bleiben unverändert.</p></li></ul></td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Feldindex   </h3><p>Die implizite Reihenfolge der Feldelemente z. B. bei einer Wertzuweisung über SET oder REP erfolgt durch Iteration der Feldindizes von rechts nach links.</p><p>Beispiel: Initialisierung eines 3-dimensionalen Feldes mit 24 Feldelementen:</p><a id="table_c6f7551c-5b80-46f9-ac3b-9ea25d1e4c21"></a> <a id="table_1"></a> <a id="table_c6f7551c-5b80-46f9-ac3b-9ea25d1e4c21"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="2.7%"><col width="28.6%"><col width="68.6%"></colgroup><tr valign="top"><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left"><code>DEF INT ARRAY[2,3,4] = REP(1,24)</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,0,0] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">1. Feldelement</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,0,1] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">2. Feldelement</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,0,2] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">3. Feldelement</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,0,3] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">4. Feldelement</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>...</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,1,0] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">5. Feldelement</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,1,1] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">6. Feldelement</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>...</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[0,2,3] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">12. Feldelement</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[1,0,0] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">13. Feldelement</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[1,0,1] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">14. Feldelement</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>...</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ARRAY[1,2,3] = 1</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">24. Feldelement</p></td></tr></table></p><p class="comment">Entsprechend:</p><a id="table_de05c96f-7f83-4dfa-80b1-83895fc6ad6a"></a> <a id="table_2"></a> <a id="table_de05c96f-7f83-4dfa-80b1-83895fc6ad6a"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="2.7%"><col width="3.6%"><col width="2.7%"><col width="90.9%"></colgroup><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>FOR n=0 TO 1</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>FOR m=0 TO 2</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>FOR o=0 TO 3</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>ARRAY[n,m,o] = 1</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>ENDFOR</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"></p> </td><td colspan="3"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>ENDFOR</code></p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left" class="comment"><code>ENDFOR</code></p></td></tr></table></p><a name="block_4"></a><h3 class="Blocktitle">Beispiel: Initialisierung kompletter Variablenfelder</h3><a id="table_40db890c-bfb1-4133-bf12-dd23901c041a"></a> <a id="table_3"></a> <a id="table_40db890c-bfb1-4133-bf12-dd23901c041a"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E5LAC"><colgroup><col width="99.0%"><col width="1.0%"></colgroup><tr valign="top"><th>Programmcode</th><th> </th></tr><tr valign="top"><td>N10 DEF REAL ARRAY1[10,3]=SET(0,0,0,10,11,12,20,20,20,30,30,30,40,40,40,)</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N40 ARRAY1[0,0]=REP(100)</td><td> </td></tr><tr valign="top"><td>N50 ARRAY1[5,0]=REP(-100)</td><td> </td></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N80 ARRAY1[0,0]=SET(0,1,2,-10,-11,-12,-20,-20,-20,-30, , , ,-40,-40,-50,-60,-70)</td><td> </td></tr><tr valign="top"><td>N90 ARRAY1[8,1]=SET(8.1,8.2,9.0,9.1,9.2)</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a id="image_180068423691_0"></a> <img border="0" src="images/180068432779.png" width="500" height="216"/><a id="table_"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_legend" border="0"><colgroup><col width="5.0%"><col width="95.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">①</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">N10</p><p>Initialisierung bei der Felddefinition</p><p>Feldelemente [5,2] ... [9,2]: Initialisierung mit Standardwert (0.0)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">②</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">N40/N50</p><p>Wertzuweisung während des Programmablaufs mit identischem Wert</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">③</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">N80/N90</p><p>Wertzuweisung während des Programmablaufs über Werteliste</p><p type="p_table_l" align="left">Feldelemente [3,1] ... [4,0]: Zuweisung Standardwert (0.0)</p><p>Feldelemente [6,0] ... [8,0]: Keine Änderung</p></td></tr></table></p></div>
    <p>Siehe auch:<br />    <a href="156662419595.html">Definition und Initialisierung von Feldvariablen (DEF, SET, REP): Weitere Informationen</a><br />    <a href="156662348683.html">Variablen: Allgemeine Informationen</a></p>
  </body>
</html>