<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Externe Nullpunktverschiebung ($AA_ETRANS)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Externe Nullpunktverschiebung ($AA_ETRANS)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>Die Externen Nullpunktverschiebung ist eine lineare Verschiebung zwischen Basiskoordinatensystem (BKS) und Basisnullpunktsystem (BNS). </p>
      <a id="image_74199762187_0">
      </a> <img border="0" src="images/166432871307.png" width="265" height="151"/><p>Die Externen Nullpunktverschiebung mittels $AA_ETRANS wirkt, abhängig von der Maschinendaten-Parametrierung, auf zwei Arten:</p><ol><li><p>Die Systemvariablen $AA_ETRANS wirkt nach Aktivierung durch das NC/PLC-Nahtstellensignal direkt als Verschiebungswert</p></li><li><p>Der Wert der Systemvariablen $AA_ETRANS wird nach Aktivierung durch das NC/PLC-Nahtstellensignal in die aktiven Systemframes $P:EXTFRAME und den Datenhaltungsframe $P_EXTFR übernommen. Anschließend wird der aktive Gesamtframe $P_ACTFRAME neu berechnet.</p></li></ol><h4 class="Blocklabel">Maschinendaten</h4><p>Im Zusammenhang mit der Systemvariablen $AA_ETRANS sind zwei Vorgehensweisen zu unterscheiden, die über das folgende Maschinendatum ausgewählt werden:</p><p>MD28082 $MC_MM_SYSTEM_FRAME_MASK,Bit1 = &lt;Wert></p><a id="table_c6689105-b086-4bc4-b666-d27971bdbe6c"></a> <a id="table_0"></a> <a id="table_c6689105-b086-4bc4-b666-d27971bdbe6c"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="10.0%"><col width="90.0%"></colgroup><tr valign="top"><th><p type="p_table_cb" align="center">&lt;Wert></p></th><th><p type="p_table_lb" align="left">Bedeutung</p></th></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Funktion: Direktes Schreiben von $AA_ETRANS[&lt;Achse>] durch PLC, HMI oder NC-Programm.</p><p type="p_table_l" align="left">Freigabe zum Herausfahren der Nullpunktverschiebung von $AA_ETRANS[&lt;Achse>] im nächstmöglichen Verfahrsatz: <code>&lt;Axis>.basic.out.acceptExternalWorkOffset</code></p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Funktion: Aktivierung des aktiven Systemframes $P:EXTFRAME und des Datenhaltungsframes $P_EXTFR</p><p type="p_table_l" align="left">Freigabe zum Herausfahren der Nullpunktverschiebung von $AA_ETRANS[&lt;Achse>] durch: <code>&lt;Axis>.basic.out.acceptExternalWorkOffset</code>. Daraufhin erfolgt im Kanal:</p><ul class="table"><li><p>Stop aller Verfahrbeweungen im Kanal (außer Kommando- und PLC-Achsen)</p></li><li><p>Vorlaufstop mit anschließendem Reorganisieren (STOPRE)</p></li><li><p>Grobverschiebung aktiver Frame $P_EXTFRAME[&lt;Achse>] = $AA_ETRANS[&lt;Achse>] </p></li><li><p>Grobverschiebung Datenhaltungsframe $P_EXTFR[&lt;Achse>] = $AA_ETRANS[&lt;Achse>] </p></li><li><p>Neuberechnung das aktiven Gesamtframes $P_ACTFRAME</p></li><li><p>Herausfahren der Verschiebung in den programmierten Achsen.</p></li><li><p>Fortsetzen der unterbrochenen Verfahrbewegung bzw. des NC-Programms</p></li></ul></td></tr></table></p><h4 class="Blocklabel">Programmierung</h4><ul><li><p>Syntax</p><p><code>$AA_ETRANS[&lt;Achse>] = &lt;Wert></code></p></li><li><p>Bedeutung</p><a id="table_40dbfb02-570c-a1f3-d93f-8c579001124f"></a> <a id="table_1"></a> <a id="table_40dbfb02-570c-a1f3-d93f-8c579001124f"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default_list" border="1"><colgroup><col width="35.0%"><col width="65.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>$AA_ETRANS</code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Systemvariable zum Zwischenspeichern der externen Nullpunktverschiebung</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Achse></code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Kanalachse</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Wert></code>:</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Verschiebungswert</p></td></tr></table></p></li></ul><h4 class="Blocklabel">NC/PLC-Nahtstellensignal</h4><p><code>&lt;Axis>.basic.out.acceptExternalWorkOffset</code> = 0 → 1 ⇒ $P_EXTFRAME[&lt;Achse>]  = $P_EXTFR[&lt;Achse>]  = $AA_ETRANS[&lt;Achse>] </p><a name="block_1"></a><h3 class="Blocktitle">PLC-Signale</h3><a id="table_279e2cb5-a871-e1b0-3b7f-ef584af13fa9"></a> <a id="table_2"></a> <a id="table_279e2cb5-a871-e1b0-3b7f-ef584af13fa9"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="45.0%"><col width="35.0%"><col width="20.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Basic Program Plus</p></th><th colspan="2"><p type="p_table_lb" align="left">Basic Program</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Axis>.basic.out.acceptExternalWorkOffset</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_Axis*.A_ExtZO</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB31, … DBX3.0</p></td></tr></table></p></div>
  </body>
</html>