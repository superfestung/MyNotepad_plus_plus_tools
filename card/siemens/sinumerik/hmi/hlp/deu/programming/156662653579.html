<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Unterprogramm mit Parameterübergabe Call-by-Reference (PROC, VAR)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Unterprogramm mit Parameterübergabe Call-by-Reference (PROC, VAR)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Das aufrufende Programm übergibt bei einer Parameterübergabe Call-by-Reference dem Unterprogramm nicht den Wert einer Variablen, sondern eine Referenz (Zeiger) auf die Variable. Damit bekommt das Unterprogramm direkten Zugriff auf die Variable. Dadurch wird bei einer Änderung des Parameterwerts nicht nur der im Unterprogramm sichtbare Wert geändert, sondern auch der Wert der im aufrufenden Programm definierten Variablen. Die Parameterübergabe Call-by-Reference hat somit auch nach Beendigung des Unterprogramms Rückwirkungen auf das aufrufende Programm.</p>
      <p>Die folgende Abbildung soll die Parameterübergabe Call-by-Reference an einem Beispiel veranschaulichen:</p>
      <a id="image_791694091_0">
      </a> <img border="0" src="images/161883682955.png" width="454" height="340"/><a id="table_"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_legend" border="0"><colgroup><col width="5.0%"><col width="95.0%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">①</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Wertzuweisung an die Variablen LENGTH und WIDTH im aufrufenden Programm.  </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">②</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Beim Aufruf des Unterprogramms SUB1 werden Referenzen auf die beiden Variablen LENGTH und WIDTH an das Unterprogramm übergeben. </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">③</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Neue Wertzuweisung an die Variablen LENGTH und WIDTH im Unterprogramm.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">④</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Durch die neue Wertzuweisung im Unterprogramm werden die Werte der im aufrufenden Programm definierten Variablen geändert. Die neuen Werte sind daher auch nach dem Unterprogrammrücksprung wirksam.</p></td></tr></table></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><p class="safety">Die Parameterübergabe Call-by-Reference ist nur dann erforderlich, wenn die übergebene Variable lokal in einem aufrufenden Programm definiert ist (LUD). Kanal-globale oder NC-globale Variablen müssen nicht übergeben werden, da auf diese auch direkt vom Unterprogramm aus zugegriffen werden kann.</p></td></tr></table><a name="block_1"></a><h3 class="Blocktitle">Syntax</h3><h4 class="Blocklabel">Definition</h4><p>Die Definition eines Unterprogramms mit Parameterübergabe Call-by-Reference erfolgt mit dem Schlüsselwort PROC, gefolgt vom Programmnamen und einer vollständigen Auflistung aller Parameter mit Schlüsselwort VAR, Typ und Namen. Die Definitionsanweisung muss in der ersten Programmzeile stehen. Als Parameter können auch Referenzen auf Felder übergeben werden:</p>PROC &lt;ProgName> (VAR &lt;Par1Type> &lt;Par1Name>, VAR &lt;Par2Type> &lt;Par2Name>, ...)PROC &lt;ProgName> (VAR &lt;Array1Type> &lt;Array1Name> [&lt;m>,&lt;n>,&lt;o>], VAR &lt;Array2Type> &lt;Array2Name> [&lt;m>,&lt;n>,&lt;o>], ...)<h4 class="Blocklabel">Aufruf</h4><p>Unterprogramme mit Parameterübergabe müssen vor dem Aufruf im Hauptprogramm mit dem Schlüsselwort EXTERN bekannt gemacht werden.</p><p>→ Siehe Kapitel "<a href="156662698635.html">Unterprogrammaufruf mit Parameterübergabe (EXTERN)</a>".</p><p>Der eigentliche Unterprogrammaufruf erfolgt über den Programmnamen und der Angabe der Übergabeparameter.</p><p>→ Siehe Kapitel "<a href="156662640267.html">Parameterübergabe</a>".</p><a name="block_2"></a><h3 class="Blocktitle">Bedeutung</h3><a id="table_47840ff2-c3d2-45d4-9f0d-ef5493f18caf"></a> <a id="table_0"></a> <a id="table_47840ff2-c3d2-45d4-9f0d-ef5493f18caf"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="31.7%"><col width="10.6%"><col width="57.6%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>PROC</code>  </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Definitionsanweisung am Anfang eines Programms</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>VAR</code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Schlüsselwort für die Parameterübergabe Call-by-Reference</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;ProgName></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Name des Programms</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Par1Type></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp des 1. Parameters (z. B. REAL, INT, BOOL)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Par2Type></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp des 2. Parameters</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">...</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">...</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Par1Name></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Name des 1. Parameters</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Par1Name></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Name des 2. Parameters</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">...</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">...</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Array1Type></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp der Elemente von Feld 1 (z. B. REAL, INT, BOOL)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Array2Type></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Datentyp der Elemente von Feld 2</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">...</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">...</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Array1Name></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Name von Feld 1</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;Array2Name></code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Name von Feld 2</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">...</p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">...</p></td></tr><tr valign="top"><td rowspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><code>[&lt;m>,&lt;n>,&lt;o>]</code> </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Feldgröße</p><p type="p_table_l" align="left">Aktuell sind maximal 3-dimensionale Felder möglich:</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;m></code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Feldgröße für 1. Dimension</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;n></code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Feldgröße für 2. Dimension</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>&lt;o></code> </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Feldgröße für 3. Dimension</p></td></tr></table></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><p class="safety">Der nach dem Schlüsselwort PROC angegebene Programmname muss mit dem an der Bedienoberfläche vergebenen Programmnamen übereinstimmen.</p></td></tr></table><a name="block_3"></a><h3 class="Blocktitle">Beispiel</h3><p>Definition eines Unterprogramms mit zwei Parametern als Referenz:</p><ul><li><p>Parameter 1: Referenz auf Variable vom Typ REAL mit Namen LAENGE</p></li><li><p>Parameter 2: Referenz auf Variable vom Typ REAL mit Namen BREITE</p></li></ul><a id="table_4e9c6a4a-a56c-4e40-8df4-d75612f3391e"></a> <a id="table_1"></a> <a id="table_4e9c6a4a-a56c-4e40-8df4-d75612f3391e"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EADAC"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Programmcode</p></th></tr><tr valign="top"><td>PROC SUB_PROG(VAR REAL LAENGE, VAR REAL BREITE)</td></tr><tr valign="top"><td>...</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p></div>
    <p>Siehe auch:<br />    <a href="161911611275.html">Unterprogramm mit Parameterübergabe Call-by-Reference (PROC, VAR): Weitere Informationen</a></p>
  </body>
</html>