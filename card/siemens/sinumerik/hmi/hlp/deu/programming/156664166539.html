<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Programmlaufzeit</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Programmlaufzeit</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>Die Funktion "Programmlaufzeit" stellt NC-interne Timer zur Überwachung technologischer Prozesse zur Verfügung, die über NC- und Kanal-spezifische Systemvariablen im Teileprogramm und in Synchronaktionen gelesen werden können.  </p>
      <p>Der Trigger zur Laufzeitmessung ($AC_PROG_NET_TIME_TRIGGER) ist die einzige schreibbare Systemvariable der Funktion und dient zur selektiven Messung von Programmabschnitten. D. h. durch Beschreiben des Triggers im NC-Programm kann die Zeitmessung ein- und wieder ausgeschaltet werden.</p>
      <a id="table_0">
      </a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="35.5%"><col width="3.7%"><col width="41.1%"><col width="19.6%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Systemvariable</p></th><th colspan="2"><p type="p_table_lb" align="left">Bedeutung</p></th><th><p type="p_table_lb" align="left">Aktivität</p></th></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><b><br />NC-spezifisch</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_SETUP_TIME  </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Zeit seit dem letzten Steuerungshochlauf mit Standardwerten ("Kaltstart") in Minuten</p><p type="p_table_l" align="left">Wird bei jedem Steuerungshochlauf mit Standardwerten automatisch auf "0" zurückgesetzt.</p></td><td rowspan="2"><ul class="table"><li><p>immer aktiv</p></li></ul></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AN_POWERON_TIME  </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Zeit seit dem letzten Normalhochlauf der Steuerung ("Warmstart") in Minuten</p><p type="p_table_l" align="left">Wird bei jedem Normalhochlauf der Steuerung automatisch auf "0" zurückgesetzt.</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"><br /><b>Kanal-spezifisch</b></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_OPERATING_TIME  </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Gesamtlaufzeit von NC-Programmen in der Betriebsart Automatik in Sekunden</p><p type="p_table_l" align="left">Der Wert wird mit jedem Steuerungshochlauf automatisch auf "0" zurückgesetzt.</p></td><td rowspan="3"><ul class="table"><li><p>Aktivierung über MD27860</p></li><li><p>nur Betriebsart AUTOMATIK</p></li></ul></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_CYCLE_TIME  </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Laufzeit des angewählten NC-Programms in Sekunden</p><p type="p_table_l" align="left">Der Wert wird mit dem Start eines neuen NC-Programms automatisch auf "0" zurückgesetzt.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_CUTTING_TIME  </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Bearbeitungszeit in Sekunden  </p><p type="p_table_l" align="left">Gemessen wird die Laufzeit der Bahnachsen (mindestens eine ist aktiv) ohne aktiven Eilgang in allen NC-Programmen zwischen NC-Start und Programmende / NC-Reset. Die Messung wird zusätzlich bei aktiver Verweilzeit unterbrochen.</p><p type="p_table_l" align="left">Der Wert wird bei jedem Steuerungshochlauf mit Standardwerten automatisch auf "0" zurückgesetzt.</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left"></p> </td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_ACT_PROG_NET_TIME  </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Aktuelle Netto-Laufzeit des aktuellen NC-Programms in Sekunden</p><p type="p_table_l" align="left">Wird mit dem Start eines NC-Programms automatisch auf "0" zurückgesetzt.</p></td><td rowspan="3"><ul class="table"><li><p>immer aktiv</p></li><li><p>nur Betriebsart AUTOMATIK</p></li></ul></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_OLD_PROG_NET_TIME  </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Netto-Laufzeit des gerade korrekt mit M30 beendeten Programms in Sekunden</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AC_OLD_PROG_NET_TIME_COUNT  </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Änderungen auf $AC_OLD_PROG_NET_TIME</p><p type="p_table_l" align="left">Nach POWER ON steht $AC_OLD_PROG_NET_TIME_COUNT auf "0".</p><p type="p_table_l" align="left">$AC_OLD_PROG_NET_TIME_COUNT wird immer dann erhöht, wenn die Steuerung $AC_OLD_PROG_NET_TIME neu geschrieben hat.</p></td></tr><tr valign="top"><td rowspan="6"><p type="p_table_l" style="margin-top: 4px" align="left">$AC_PROG_NET_TIME_TRIGGER  </p></td><td colspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Trigger zur Laufzeitmessung:</p></td><td rowspan="6"><ul class="table"><li><p>nur Betriebsart AUTOMATIK</p></li></ul></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Neutraler Zustand</p><p type="p_table_l" align="left">Der Trigger ist nicht aktiv.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Beenden</p><p type="p_table_l" align="left">Beendet die Messung und kopiert den Wert aus $AC_ACT_PROG_NET_TIME in $AC_OLD_PROG_NET_TIME. $AC_ACT_PROG_NET_TIME wird auf "0" gesetzt und läuft danach weiter.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">2</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Start</p><p type="p_table_l" align="left">Startet die Messung und setzt dabei $AC_ACT_PROG_NET_TIME auf "0". $AC_OLD_PROG_NET_TIME wird nicht verändert.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">3</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Stopp</p><p type="p_table_l" align="left">Stoppt die Messung. Verändert $AC_OLD_PROG_NET_TIME nicht und hält $AC_ACT_PROG_NET_TIME bis zum Fortsetzen konstant.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">4</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Fortsetzen</p><p type="p_table_l" align="left">Fortsetzen der Messung, d. h. eine vorher gestoppte Messung wird wieder aufgenommen. $AC_ACT_PROG_NET_TIME läuft weiter. $AC_OLD_PROG_NET_TIME wird nicht verändert.</p></td></tr><tr valign="top"><td colspan="4"><p type="p_table_l" style="margin-top: 4px" align="left">Durch POWER ON werden alle Systemvariablen auf "0" zurückgesetzt!</p></td></tr></table></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee" style="margin-bottom:10px"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><h4 class="Blocklabel">Maschinenhersteller</h4><p class="safety">Das Einschalten der aktivierbaren Timer erfolgt über das Maschinendatum MD27860 $MC_PROCESSTIMER_MODE.</p><p class="safety">Das Verhalten der aktiven Zeitmessungen bei bestimmten Funktionen (z. B. GOTOS, Override = 0%, aktiver Probelaufvorschub, Programmtest, ASUP, PROG_EVENT, …) wird konfiguriert über die Maschinendaten MD27850 $MC_PROG_NET_TIMER_MODE und MD27860 $MC_PROCESSTIMER_MODE.</p><p class="safety"><b>Weitere Informationen: </b>Funktionshandbuch Basisfunktionen</p></td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee" style="margin-bottom:10px"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><h4 class="Blocklabel">Restzeit für ein Werkstück   </h4><p class="safety">Wenn nacheinander gleiche Werkstücke produziert werden, kann mit den folgenden Timerwerten die verbleibende Restzeit für ein Werkstück ermittelt werden:</p><ul class="safety"><li class="safety"><p class="safety">Bearbeitungszeit für das zuletzt produzierte Werkstück (siehe $AC_OLD_PROG_NET_TIME)</p></li><li class="safety"><p class="safety">Aktuelle Bearbeitungszeit (siehe $AC_ACT_PROG_NET_TIME)</p></li></ul><p class="safety">Die Restzeit wird zusätzlich zur aktuellen Bearbeitungszeit auf der Bedienoberfläche anzeigt.</p></td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><h4 class="Blocklabel">Verwendung von STOPRE</h4><p class="safety">Die Systemvariablen $AC_OLD_PROG_NET_TIME und $AC_OLD_PROG_NET_TIME_COUNT erzeugen keinen impliziten Vorlaufstopp. Bei der Verwendung im Teileprogramm ist das unkritisch, wenn der Wert der Systemvariablen aus dem vorangegangen Programmlauf stammt. Wenn aber der Trigger zur Laufzeitmessung ($AC_PROG_NET_TIME_TRIGGER) hochfrequent geschrieben wird und sich dadurch $AC_OLD_PROG_NET_TIME sehr oft ändert, dann sollte im Teileprogramm ein explizites STOPRE verwendet werden.</p></td></tr></table><a name="block_1"></a><h3 class="Blocktitle">Randbedingungen</h3><ul><li><p><b>Satzsuchlauf</b></p><p>Bei Satzsuchlauf werden keine Programmlaufzeiten ermittelt.</p></li><li><p><b>REPOS</b></p><p>Die Zeitdauer eines REPOS-Vorgangs wird der aktuellen Bearbeitungszeit ($AC_ACT_PROG_NET_TIME) angerechnet.</p></li></ul><a name="block_2"></a><h3 class="Blocktitle">Beispiele</h3><h4 class="Blocklabel">Beispiel 1: Zeitdauer von "mySubProgrammA" messen</h4><a id="table_1"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="ENBAC"><colgroup><col width="66.7%"><col width="33.3%"></colgroup><tr valign="top"><th>Programmcode</th><th> </th></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N50 WHEN TRUE DO $AC_PROG_NET_TIME_TRIGGER=2</td><td> </td></tr><tr valign="top"><td>N60 FOR ii= 0 TO 300</td><td> </td></tr><tr valign="top"><td>N70 mySubProgrammA</td><td> </td></tr><tr valign="top"><td>N80 WHEN TRUE DO $AC_PROG_NET_TIME_TRIGGER=1</td><td> </td></tr><tr valign="top"><td>N95 ENDFOR</td><td> </td></tr><tr valign="top"><td>N97 mySubProgrammB</td><td> </td></tr><tr valign="top"><td>N98 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Nachdem das Programm die Zeile N80 verarbeitet hat, steht in $AC_OLD_PROG_NET_TIME die Nettolaufzeit von "mySubProgrammA".</p><p>Für den Wert von $AC_OLD_PROG_NET_TIME gilt:</p><ul><li><p>Er bleibt über M30 hinaus erhalten.</p></li><li><p>Er wird nach jedem Schleifendurchlauf aktualisiert.</p></li></ul><h4 class="Blocklabel">Beispiel 2: Zeitdauer von "mySubProgrammA" und "mySubProgrammC" messen</h4><a id="table_2"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EBDAC"><colgroup><col width="66.7%"><col width="33.3%"></colgroup><tr valign="top"><th>Programmcode</th><th> </th></tr><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>N10 WHEN TRUE DO $AC_PROG_NET_TIME_TRIGGER=2</td><td> </td></tr><tr valign="top"><td>N20 mySubProgrammA</td><td> </td></tr><tr valign="top"><td>N30 WHEN TRUE DO $AC_PROG_NET_TIME_TRIGGER=3</td><td> </td></tr><tr valign="top"><td>N40 mySubProgrammB</td><td> </td></tr><tr valign="top"><td>N50 WHEN TRUE DO $AC_PROG_NET_TIME_TRIGGER=4</td><td> </td></tr><tr valign="top"><td>N60 mySubProgrammC</td><td> </td></tr><tr valign="top"><td>N70 WHEN TRUE DO $AC_PROG_NET_TIME_TRIGGER=1</td><td> </td></tr><tr valign="top"><td>N80 mySubProgrammD</td><td> </td></tr><tr valign="top"><td>N90 M30</td><td> </td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p></div>
  </body>
</html>