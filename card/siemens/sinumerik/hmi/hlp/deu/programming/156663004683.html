<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Im Kanal wirksame Frames</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Im Kanal wirksame Frames</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Im Kanal wirksame Frames werden vom Teileprogramm über die betreffenden Systemvariablen dieser Frames eingegeben. Hierzu gehören auch Systemframes. Über diese Systemvariablen kann im Teileprogramm das aktuelle Systemframe gelesen und geschrieben werden.</p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Aktuelle im Kanal wirksame Frames    </h3>
      <p>
        <b>Übersicht</b>
      </p>
      <a id="table_74474394-690a-4d59-adde-6671635dd91e">
      </a> <a id="table_0"></a> <a id="table_74474394-690a-4d59-adde-6671635dd91e"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_invisible" border="0"><colgroup><col width="55.5%"><col width="44.4%"></colgroup><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>Aktuelle Systemframes</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">für: </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_PARTFRAME </p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">TCARR und PAROT</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_SETFRAME</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Istwertsetzen und Ankratzen</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_EXTFRAME</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Externe Nullpunktverschiebung</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_NCBFRAME[n]</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Aktuelle globale Basisframes</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_CHBFRAME[n]</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Aktuelle Kanal-Basisframes</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_BFRAME</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Aktueller 1. Basisframe im Kanal</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_ACTBFRAME</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Gesamt-Basisframe</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_CHBFRMASK und $P_NCBFRMASK</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Gesamt-Basisframe</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_IFRAME</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Aktueller einstellbarer Frame</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>Aktuelle Systemframes </b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">für: </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_TOOLFRAME</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">TOROT und TOFRAME</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_WPFRAME</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Werkstückbezugspunkte</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_TRAFRAME</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Transformationen</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>$P_PFRAME</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Aktueller programmierbarer Frame</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>Aktuelles Systemframe </b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">für: </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$P_CYCFRAME</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Zyklen</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>P_ACTFRAME</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Aktueller Gesamtframe</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><b>FRAME-Kettung</b></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Aktuelles Frame setzt sich aus dem Gesamt-Basisframe zusammen</p></td></tr></table></p><p></p><h4 class="Blocklabel">$P_NCBFRAME [n] Aktuelle globale Basisframes   </h4><p>Über die Systemvariable $P_NCBFRAME[n] können die aktuellen globalen Basisframe-Feldelemente gelesen und geschrieben werden. Das resultierende Gesamt-Basisframe wird durch den Schreibvorgang im Kanal eingerechnet.</p><p>Der geänderte Frame wird nur in dem Kanal, in dem der Frame programmiert wurde, aktiv. Soll der Frame für alle Kanäle einer Steuerung geändert werden, muss gleichzeitig $P_NCBFR[n] und $P_NCBFRAME[n] beschrieben werden. Die anderen Kanäle müssen dann noch den Frame mit z. B. G54 aktivieren. Beim Schreiben eines Basisframes wird der Gesamt-Basisframe neu berechnet.</p><h4 class="Blocklabel">$P_CHBFRAME[n] Aktuelle Kanal-Basisframes  </h4><p>Über die Systemvariable $P_CHBFRAME[n] können die aktuellen Kanal-Basisframe-Feldelemente gelesen und geschrieben werden. Der resultierende Gesamt-Basisframe wird durch den Schreibvorgang im Kanal eingerechnet. Beim Schreiben eines Basisframes wird der Gesamt-Basisframe neu berechnet.</p><h4 class="Blocklabel">$P_BFRAME Aktueller 1. Basisframe im Kanal  </h4><p>Über die vordefinierte Framevariable $P_BFRAME kann der aktuelle Basisframe mit dem Feldindex 0, der im Kanal gültig ist, im Teileprogramm gelesen und geschrieben werden. Der geschriebene Basisframe wird sofort eingerechnet.</p><p>$P_BFRAME ist identisch mit $P_CHBFRAME[0]. Die Systemvariable hat standardmäßig immer einen gültigen Wert. Gibt es kein kanalspezifisches Basisframe, wird beim Schreiben oder Lesen der Alarm "Frame: Anweisung unzulässig" ausgegeben.</p><h4 class="Blocklabel">$P_ACTBFRAME Gesamt-Basisframe  </h4><p>Die Variable $P_ACTFRAME ermittelt das verkettete Gesamt-Basisframe. Die Variable ist nur lesbar.</p><p>$P_ACTFRAME entspricht:</p><p>$P_NCBFRAME[0] : ... : $P_NCBFRAME[n] : $P_CHBFRAME[0] : ... : $P_CHBFRAME[n].</p><a id="image_792808587_0"></a> <img border="0" src="images/167527327371.png" width="500" height="294"/><p></p><h4 class="Blocklabel">$P_CHBFRMASK und $P_NCBFRMASK Gesamt-Basisframe    </h4><p>Über die Systemvariable $P_CHBFRMASK und $P_NCBFRMASK kann der Anwender auswählen, welche Basisframes er in die Berechnung des "Gesamt"-Basisframes mit einbeziehen möchte. Die Variablen können nur im Programm programmiert werden und über BTSS gelesen werden. Der Wert der Variablen wird als Bitmaske interpretiert und gibt an, welches Basisframe-Feldelement von $P_ACTFRAME in die Berechnung einfließt.</p><p>Mit $P_CHBFRMASK kann vorgegeben werden, welche kanalspezifischen Basisframes, und mit $P_NCBFRMASK, welche globalen Basisframes eingerechnet werden.</p><p>Mit der Programmierung der Variablen werden der Gesamt-Basisframe und der Gesamt-Frame neu berechnet. Nach Reset und in der Grundeinstellung ist der Wert von $P_CHBFRMASK und $P_NCBFRMASK wie folgt:</p><p>$P_CHBFRMASK = $MC_CHBFRAME_RESET_MASK</p><p>$P_NCBFRMASK = $MC_CHBFRAME_RESET_MASK</p><p>Beispiel:</p><p><code>$P_NCBFRMASK = 'H81' </code>;$P_NCBFRAME[0] : $P_NCBFRAME[7]</p><p><code>$P_CHBFRMASK = 'H11' </code>;$P_CHBFRAME[0] : $P_CHBFRAME[4]</p><h4 class="Blocklabel">$P_IFRAME Aktueller einstellbarer Frame  </h4><p>Über die vordefinierte Framevariable $P_IFRAME kann der aktuelle einstellbare Frame, welcher im Kanal gültig ist, im Teileprogramm gelesen und geschrieben werden. Der geschriebene einstellbare Frame wird sofort eingerechnet.</p><p>Bei globalen einstellbaren Frames wirkt der geänderte Frame nur in dem Kanal, in dem der Frame programmiert wurde. Soll der Frame für alle Kanäle einer Steuerung geändert werden, muss gleichzeitig $P_UIFR[n] und $P_IFRAME beschrieben werden. Die anderen Kanäle müssen dann noch den entsprechenden Frame mit z. B. G54 aktivieren.</p><h4 class="Blocklabel">$P_PFRAME Aktueller programmierbarer Frame  </h4><p>$P_PFRAME ist der programmierbare Frame, der sich aus der Programmierung von<code> </code>TRANS/ATRANS, G58/G59, ROT/AROT, SCALE/ASCALE, MIRROR/AMIRROR bzw. aus der Zuweisung von CTRANS, CROT, CMIRROR, CSCALE an den programmierbaren FRAME ergibt.</p><p>Aktuelle, programmierbare Framevariable, die den Bezug zwischen dem einstellbaren Nullpunktsystem (ENS) und dem Werkstückkoordinatensystem (WKS) herstellt.</p><h4 class="Blocklabel">P_ACTFRAME Aktueller Gesamtframe  </h4><p>Der aktuelle resultierende Gesamtframe $P_ACTFRAME ergibt sich nun als Verkettung aller Basisframes, dem aktuellen einstellbaren Frame und dem programmierbaren Frame. Der aktuelle Frame wird immer dann aktualisiert, wenn sich ein Frameanteil ändert.</p><p><code>$P_ACTFRAME </code>entspricht:</p><p><code>$P_PARTFRAME </code><b>:</b><code> $P_SETFRAME </code><b>:</b><code> $P_EXTFRAME </code><b>:</b><code> $P_ACTBFRAME </code><b>:</b><code> $P_IFRAME </code><b>:</b></p><p><code>$P_TOOLFRAME </code><b>:</b><code> $P_WPFRAME </code><b>:</b><code> $P_TRAFRAME </code><b>:</b><code> $P_PFRAME </code><b>:</b><code> $P_CYCFRAME </code></p><a id="image_792838923_0"></a> <img border="0" src="images/167528132747.png" width="500" height="396"/><a name="block_2"></a><h3 class="Blocktitle">Frame-Kettung  </h3><p>Der aktuelle Frame setzt sich aus dem Gesamt-Basisframe, dem einstellbaren Frame, dem Systemframe und dem programmierbaren Frame gemäß oben angegebenen aktuellen Gesamtframe zusammen. </p><a id="image_792869259_0"></a> <img border="0" src="images/167531497355.png" width="500" height="415"/></div>
    <p>Siehe auch:<br />    <a href="156662997771.html">Globale Frames ($P_NCBFR, $P_UIFR)</a><br />    <a href="156663001227.html">Kanalspezifische Frames ($P_CHBFR, $P_UBFR)</a></p>
  </body>
</html>