<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Verfahren von Achsen auf Position (POS)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Verfahren von Achsen auf Position (POS)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>Mit dem Befehl <code>POS</code> kann eine Achse über eine Synchronaktion verfahren werden. Die Achse wird dann als Kommandoachse bezeichnet. Ein wechselseitiges Verfahren der Achse über Teileprogramm und Synchronaktion ist möglich. Wird eine über Synchronaktionen verfahrene Kommandoachse anschließend über das Teileprogramm verfahren, wird im Kanal des Teileprogramms ein Vorlaufstopp mit Reorganisieren (<code>STOPRE</code>) ausgeführt.  </p>
      <p>Beispiel 1: Wechselseitiges Verfahren über Teileprogramm und Synchronaktion</p>
      <a id="table_bd87dbfe-3153-4678-8d95-8f2f7453981c">
      </a> <a id="table_0"></a> <a id="table_bd87dbfe-3153-4678-8d95-8f2f7453981c"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E5"><colgroup><col width="46.9%"><col width="53.1%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>N10 G01 <b>X100</b> Y200 F1000</td><td>; Verfahren über Teileprogramm.</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; Verfahren über statische Synchronaktion wenn Eingang 1 gesetzt wird:</td></tr><tr valign="top"><td colspan="2">N20 ID=1 WHEN $A_IN[1]==1 DO <b>POS[X]=150</b> FA[X]=200</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td>CANCEL(1)</td><td>; Synchronaktion abwählen.</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; Erneutes Verfahren über Teileprogramm => impliziter Vorlaufstopp ; mit Reorganisieren, falls die X-Achse zwischenzeitlich über die ; Synchronaktion verfahren wurde.</td></tr><tr valign="top"><td colspan="2">N100 G01 <b>X240</b> Y200 F1000</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Beispiel 2: Wechselseitiges Verfahren der X-Achse über zwei Synchronaktionen</p><p>Ist die Verfahrbewegung einer Synchronaktion noch aktiv, wenn die Verfahrbewegung der anderen Synchronaktion gestartet wird, löst die zweite Verfahrbewegung die erste ab.</p><a id="table_4d878a6b-57b3-43bb-818a-0ba8e76481ed"></a> <a id="table_1"></a> <a id="table_4d878a6b-57b3-43bb-818a-0ba8e76481ed"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EAD"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Programmcode</p></th></tr><tr valign="top"><td>; 1. Verfahrbewegung:</td></tr><tr valign="top"><td>ID=1 EVERY $A_IN[1]>=1 DO POS[V]=100 FA[V]=560</td></tr><tr valign="top"><td>; 2. Verfahrbewegung:</td></tr><tr valign="top"><td>ID=2 EVERY $A_IN[2]>=1 DO POS[V]=$AA_IM[V] FA[V]=790</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_1"></a><h3 class="Blocktitle">Maßangabe: absolut / inkrementell</h3><p>In Synchronaktionen können die Befehle <code>G90</code> / <code>G91</code> zur Festlegung der Maßangabe (absolut / inkrementell) nicht programmiert werden. In einer Synchronaktion wirkt daher defaultmäßig die Maßangabe, die im Teileprogramm zum Zeitpunkt der Ausführung der Synchronaktion wirksam war.</p><p>Zur Festlegung der Maßangabe innerhalb einer Synchronaktion können im Aktionsteil folgende Befehle programmiert werden:</p><a id="table_292dd62f-7f3a-43bb-b8cf-9f993020e72f"></a> <a id="table_2"></a> <a id="table_292dd62f-7f3a-43bb-b8cf-9f993020e72f"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="15.6%"><col width="84.3%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Befehl</p></th><th><p type="p_table_lb" align="left">Bedeutung</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>IC(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">inkrementell</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>AC(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">absolut</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>DC(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">direkt (Rundachse auf kürzestem Weg positionieren)</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ACN(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Modulo-Rundachse absolut positionieren in negativer Bewegungsrichtung</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>ACP(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Modulo-Rundachse absolut programmieren in positiver Bewegungsrichtung</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CAC(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Achse auf codierte Position verfahren, absolut</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CIC(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Achse auf codierte Position verfahren, inkrementell</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CDC(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Rundachse auf kürzestem Weg auf codierte Position verfahren</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CACN(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Modulo-Rundachse in negativer Richtung auf codierte Position verfahren</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>CACP(...)</code></p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Modulo-Rundachse in positiver Richtung auf codierte Position verfahren</p></td></tr></table></p><p>Beispiele:</p><a id="table_9327da41-2d78-403a-96ed-e3cf93efcd87"></a> <a id="table_3"></a> <a id="table_9327da41-2d78-403a-96ed-e3cf93efcd87"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_sourcecode" border="1" id="EEH"><colgroup><col width="100.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Programmcode</p></th></tr><tr valign="top"><td>; Inkrementelles Verfahren um 10 mm:</td></tr><tr valign="top"><td>ID=1 EVERY G710 $AA_IM[B]>75 DO<b> </b>POS[X]=<b>IC(10)</b></td></tr><tr valign="top"><td>...</td></tr><tr valign="top"><td>; Absolutes Verfahren:</td></tr><tr valign="top"><td>ID=1 EVERY G710 $AA_IM[B]>75 DO POS[X]=<b>AC($AA_MW[V]-$AA_IM[W]+13.5)</b></td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_2"></a><h3 class="Blocktitle">Verhalten bei aktiven achsspezifischen Frames</h3><p>Ob programmierbare und einstellbare achsspezifische Frames und Werkzeuglängenkorrekturen in Synchronaktionen eingerechnet werden, ist von folgender MD-Einstellung abhängig:</p><p>MD32074 $MA_FRAME_OR_CORRPOS_NOTALLOWED</p><a id="table_5a370777-c3a4-aa65-42c1-b4acccf9159c"></a> <a id="table_4"></a> <a id="table_5a370777-c3a4-aa65-42c1-b4acccf9159c"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="7.5%"><col width="15.0%"><col width="77.5%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Bit</p></th><th><p type="p_table_lb" align="left">Wert</p></th><th><p type="p_table_lb" align="left">Bedeutung</p></th></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">9</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">0 (Default)</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">In der parallel zum Teileprogramm ausgeführten Synchronaktion ist der zum Ausführungszeitpunkt im Teileprogramm aktive achsspezifische Frame und/oder Werkzeuglängenkorrektur wirksam. </p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Achsspezifische Frames und Werkzeuglängenkorrektur werden für Kommandoachsen <b>nicht</b> berücksichtigt.</p></td></tr></table></p><p>Beispiel 1: Verfahren mit <b>aktiven </b>Frames / Werkzeuglängenkorrekturen (Bit 9 == 0):</p><a id="table_14651225-f1c1-4f82-b21c-4ca2c5a1cd86"></a> <a id="table_5"></a> <a id="table_14651225-f1c1-4f82-b21c-4ca2c5a1cd86"></a> <a id="table_5"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E5BAC"><colgroup><col width="46.9%"><col width="53.1%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>N100 TRANS X20</td><td>; Nullpunktverschiebung in X: 20 mm.</td></tr><tr valign="top"><td colspan="2">; Synchronaktion: Die X-Achse verfährt auf Position 60 mm.</td></tr><tr valign="top"><td colspan="2">IDS=1 EVERY G710 $A_IN==1 DO POS[X]=40</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; Nullpunktverschiebung in X: -10 mm => ; Synchronaktion: die X-Achse verfährt jetzt auf Position 30 mm</td></tr><tr valign="top"><td colspan="2">N130 TRANS X-10</td></tr><tr valign="top"><td colspan="2">...</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p>Beispiel 2: Verfahren mit <b>deaktivierten </b>Frames / Werkzeuglängenkorrekturen (Bit9 == 1):</p><a id="table_b4162caa-d234-42d1-999a-80d045e0dfc3"></a> <a id="table_6"></a> <a id="table_b4162caa-d234-42d1-999a-80d045e0dfc3"></a> <a id="table_6"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EPDAC"><colgroup><col width="37.3%"><col width="62.7%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>N100 TRANS X=0,001</td><td>; Nullpunktverschiebung in X: 0,001 Grad</td></tr><tr valign="top"><td>N120 POS[X]=270</td><td>; X fährt auf Position 270.001 Grad</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; Mit $A_IN=1, X fährt auf Position 180.000 Grad</td></tr><tr valign="top"><td colspan="2">IDS=1 EVERY G710 $A_IN==1 DO POS[X]=180</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; X fährt auf Position 90.001 Grad</td></tr><tr valign="top"><td colspan="2">N130 POS[X]=90</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; codierte Position 1 = 100 Grad => X fährt auf 100.001 Grad</td></tr><tr valign="top"><td colspan="2">N140 POS[X]=CAC(1)</td></tr><tr valign="top"><td colspan="2">...</td></tr><tr valign="top"><td colspan="2">; codierte Position 2 = 200 Grad => X fährt auf 200.000 Grad</td></tr><tr valign="top"><td colspan="2">N150 POS[X]=CIC(1)</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><p class="safety">Wird eine Kommandoachse inkrementell auf Teilungspositionen verfahren, werden die achsspezifischen Frames für diese Kommandoachse <b>nicht</b> wirksam.</p></td></tr></table><h4 class="Blocklabel">Satzweise Unterdrückung des aktiven Frames mit G153</h4><p>Ist MD32074 so eingestellt, dass aktive achsspezifische Frames und Werkzeugkorrekturen für Kommandoachsen grundsätzlich berücksichtigt werden sollen (Bit 9 == 0), kann der aktive Frame in einer satzweisen Synchronaktion bei Bedarf mit <code>G153</code> unterdrückt werden. Dazu muss der Satz mit dem <code>G153</code>-Befehl durch den Programmcode <code>G4 F0.1</code> zu einem ausführbaren Satz gemacht werden. Hierbei ist darauf zu achten, dass die Verweilzeit mindestens 0,1 beträgt. Nur dann ist sichergestellt, dass die Bearbeitungszeit im Interpolator ausreichend lang ist.</p><p class="comment">Beispiele:</p><a id="table_ba346f07-d798-ff55-50f7-6d4e7cc6eac6"></a> <a id="table_7"></a> <a id="table_ba346f07-d798-ff55-50f7-6d4e7cc6eac6"></a> <a id="table_7"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EIGAC"><colgroup><col width="91.8%"><col width="8.2%"></colgroup><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>WHEN TRUE DO POS[Z]=401 FA[Z]=$MA_MAX_AX_VELO[Z]</td><td> </td></tr><tr valign="top"><td><b>G153 G4 F0.1</b></td><td> </td></tr><tr valign="top"><td colspan="2">...</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a id="table_98720d85-ab8e-138e-1584-3f602b52c55d"></a> <a id="table_8"></a> <a id="table_98720d85-ab8e-138e-1584-3f602b52c55d"></a> <a id="table_8"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EBHAC"><colgroup><col width="91.8%"><col width="8.2%"></colgroup><tr valign="top"><td>...</td><td> </td></tr><tr valign="top"><td>WHILE $AA_IM[Z]&lt;400</td><td> </td></tr><tr valign="top"><td>ENDWHILE</td><td> </td></tr><tr valign="top"><td>WHEN TRUE DO POS[Z]=400</td><td> </td></tr><tr valign="top"><td><b>G153 G4 F0.1</b></td><td> </td></tr><tr valign="top"><td colspan="2">...</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><a name="block_3"></a><h3 class="Blocktitle">Übernahme der Kontrolle einer Kommandoachse von PLC</h3><p>Eine Kommandoachse, die über eine statische Synchronaktion (<code>IDS</code>) gestartet wurde, wird unabhängig vom Status des Teileprogramms, welches die Synchronaktion enthält, wenn die Kontrolle der Kommandoachse von der PLC übernommen wird:</p><p class="comment"><code>&lt;Axis>.plcCtrl.out.requestPlcCtrl</code> (Steuerung durch die PLC für autonome Einachsoperationen anfordern)</p><h4 class="Blocklabel">Literatur</h4><p class="comment">Funktionshandbuch Achsen und Spindeln</p><a name="block_4"></a><h3 class="Blocktitle">Parametrierbarer Achsstatus</h3><p>Über das folgende Maschinendatum kann das Verhalten bezüglich des Achsstatus nach Teileprogrammende- und NC-Reset parametriert werden:</p><p>MD30450 $MA_IS_CONCURRENT_POS_AX[&lt;Achse>] = &lt;Wert>   </p><a id="table_ad662fbd-f90c-489f-ba1d-82a2d6d48dba"></a> <a id="table_9"></a> <a id="table_ad662fbd-f90c-489f-ba1d-82a2d6d48dba"></a> <a id="table_9"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="10.6%"><col width="44.7%"><col width="44.7%"></colgroup><tr valign="top"><th><p type="p_table_cb" align="center">&lt;Wert></p></th><th><p type="p_table_cb" align="center">Achsstatus vor TP-Ende / NC-RESET <sup>1)</sup></p></th><th><p type="p_table_cb" align="center">Achsstatus nach TP-Ende / NC-RESET <sup>1)</sup></p></th></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Kanalachse</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Kanalachse</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Kommandoachse</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Kanalachse</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">1</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Kanalachse</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Kommandoachse</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">1</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Kommandoachse</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">Kommandoachse</p></td></tr></table></p><a name="block_5"></a><h3 class="Blocktitle">PLC-Signale</h3><a id="table_e849b817-f8dd-d3c2-26d6-a2643b47f3c7"></a> <a id="table_10"></a> <a id="table_e849b817-f8dd-d3c2-26d6-a2643b47f3c7"></a> <a id="table_10"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="45.0%"><col width="35.0%"><col width="20.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Basic Program Plus</p></th><th colspan="2"><p type="p_table_lb" align="left">Basic Program</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Axis>.plcCtrl.out.requestPlcCtrl</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_Axis*.A_PLCAxis</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB31, ... .DBX28.7</p></td></tr></table></p></div>
  </body>
</html>