<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Achsspezifisches Messen (MEASA, MEAWA, MEAC) (Option): Weitere Informationen</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Achsspezifisches Messen (MEASA, MEAWA, MEAC) (Option): Weitere Informationen</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Weitere Informationen</h3>
      <h4 class="Blocklabel">MEASA bzw. MEAWA </h4>
      <p>Mit MEASA bzw. MEAWA werden für die jeweils programmierte Achse bis zu vier Messwerte pro Messung erfasst und die Messergebnisse in Systemvariablen abgelegt.</p>
      <p>Die Wirkungsweise von MEASA/MEAWA soll folgende Abbildung veranschaulichen:</p>
      <a id="image_148862975499_0">
      </a> <img border="0" src="images/162241748491.png" width="397" height="246"/><p>MEASA bzw. MEAWA wird in diesem Beispiel eingesetzt, um für die x-Achse entlang eines programmierten Verfahrwegs die Positionen eines Bohrlochs zu messen. Die dafür nötigen zwei Trigger-Ereignisse TE1 und TE2 werden im Modus "nacheinander in der programmierten Reihenfolge" ausgewertet. Als Messtaster ist ein berührungslos schaltender Messtaster im Einsatz (z. B. induktiver Messtaster). </p><p>Bei Anwendung der Funktionsvariante "Messen mit Restweglöschen (MEASA)" wird die Achsbewegung nach Eintreffen <b>aller</b> programmierten Trigger-Ereignisse gebremst:</p><a id="image_792654859_0"></a> <img border="0" src="images/166799940363.png" width="397" height="227"/><p>Für spezielle Messaufgaben, bei denen in jedem Fall die programmierte Position angefahren werden soll, wird MEAWA eingesetzt.</p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><p class="safety">MEASA ist nicht in Synchronaktionen programmierbar. Ersatzweise kann MEAWA plus Restweglöschen als Synchronaktion programmiert werden.</p><p class="safety">Wird der Messauftrag mit MEAWA aus den Synchronaktionen gestartet, sind die Messwerte nur im Maschinen-Koordinatensystem verfügbar.</p></td></tr></table><h4 class="Blocklabel">Messergebnisse lesen (MEASA/MEAWA)</h4><p>Die Messtaster-Messwerte für MEASA/MEAWA sind über die folgenden Systemvariablen im Teileprogramm und in Synchronaktionen lesbar:</p><a id="table_aebff490-86a5-aa91-6e57-c3094b162300"></a> <a id="table_0"></a> <a id="table_aebff490-86a5-aa91-6e57-c3094b162300"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="25.0%"><col width="75.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Systemvariable</p></th><th><p type="p_table_lb" align="left">Bedeutung</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AA_MM1[&lt;Axis>]</p><p type="p_table_l" align="left">...</p><p type="p_table_l" align="left">$AA_MM4[&lt;Axis>]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Messtaster-Messwert bei Trigger-Ereignis 1 im MKS</p><p type="p_table_l" align="left">...</p><p type="p_table_l" align="left">Messtaster-Messwert bei Trigger-Ereignis 4 im MKS</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AA_MW1[&lt;Axis>]</p><p type="p_table_l" align="left">...</p><p type="p_table_l" align="left">$AA_MW4[&lt;Axis>]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Messtaster-Messwert bei Trigger-Ereignis 1 im WKS</p><p type="p_table_l" align="left">...</p><p type="p_table_l" align="left">Messtaster-Messwert bei Trigger-Ereignis 4 im WKS</p></td></tr></table></p><p>Wird der Messauftrag mit zwei Messsystemen durchgeführt, wird jedes der beiden möglichen Trigger-Ereignisse von beiden Messsystemen erfasst.</p><p>Die Belegung der Systemvariablen ist dann wie folgt:</p><a id="table_fd6d63b2-7d48-28a8-28d1-5794ccd3ce66"></a> <a id="table_1"></a> <a id="table_fd6d63b2-7d48-28a8-28d1-5794ccd3ce66"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Systemvariable</p></th><th><p type="p_table_lb" align="left">Bedeutung</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AA_MM1[&lt;Axis>] bzw. $AA_MW1[&lt;Axis>]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Messwert von Messsystem 1 bei Trigger-Ereignis 1</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AA_MM2[&lt;Axis>] bzw. $AA_MW2[&lt;Axis>]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Messwert von Messsystem 2 bei Trigger-Ereignis 1</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AA_MM3[&lt;Axis>] bzw. $AA_MW3[&lt;Axis>]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Messwert von Messsystem 1 bei Trigger-Ereignis 2</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">$AA_MM4[&lt;Axis>] bzw. $AA_MW4[&lt;Axis>]</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Messwert von Messsystem 2 bei Trigger-Ereignis 2</p></td></tr></table></p><h4 class="Blocklabel">MEAC</h4><p>Beim kontinuierlichen Messen (MEAC) werden die programmierten Trigger-Ereignisse nach jedem Eintreffen erneut aktiviert. Das Ergebnis ist eine sich zyklisch wiederholende Schaltflankenprogrammierung und -auswertung.</p><p>Die Messwerte liegen bei MEAC im Maschinenkoordinatensystem vor und werden im angegebenen FIFO[&lt;n>]-Speicher abgelegt. Sind für die Messung zwei Messtaster projektiert, werden die Messwerte des zweiten Messtasters getrennt im zusätzlich dafür projektierten FIFO[&lt;n>+1]-Speicher abgelegt.</p><p>Der FIFO-Speicher ist ein Umlaufspeicher, in den Messwerte im Umlaufprinzip in $AC_FIFO-Variablen eingetragen werden. Der Inhalt kann nur einmal aus dem Umlaufspeicher ausgelesen werden. Zur Mehrfachverwendung der Messdaten müssen diese in den Anwenderdaten zwischengespeichert werden.</p><p>Überschreitet die Anzahl der Messwerte für den FIFO-Speicher den über Maschinendatum festgelegten Höchstwert, wird die Messung automatisch beendet.</p><p>Endloses Messen lässt sich durch zyklisches Auslesen von Messwerten realisieren. Das Auslesen muss dabei mindestens in der gleichen Häufigkeit wie der Eingang von neuen Messwerten erfolgen.</p><p>Ein typisches Anwendungsbeispiel für MEAC ist das Messen verzahnter Werkstücke:</p><a id="image_148793652363_0"></a> <img border="0" src="images/166800555147.png" width="189" height="193"/><p>Weitere Informationen: Funktionshandbuch Synchronaktionen</p><h4 class="Blocklabel">Vorschub</h4><p>Der Vorschub ist dem jeweiligen Messproblem anzupassen. Der zulässige Vorschub hängt von der Anzahl programmierter Trigger-Ereignisse und dem Verhältnis vom Interpolatortakt zum Lagereglertakt ab.</p><p>Bei MEASA und MEAWA können korrekte Ergebnisse nur bei Vorschüben gewährleistet werden, bei denen nicht mehr als ein gleiches und nicht mehr als 4 verschiedene Trigger-Ereignisse pro Lagereglertakt eintreffen.</p><p>Beim kontinuierlichen Messen mit MEAC darf das Verhältnis zwischen Interpolatortakt und Lagereglertakt nicht größer als 1:8 werden.</p><h4 class="Blocklabel">Optimierung</h4><p>Bei der Verwendung von PROFIBUS-Telegramm 391 (Standardeinstellung für die PROFIBUS-Kommunikation) ist nur ein Messwert pro Trigger-Ereignis und Lagereglertakt möglich.</p><p>Bei der Verwendung von PROFIBUS-Telegramm 395 kann bei MEAC im Messmodus 1 die Anzahl der Messwerte pro Trigger-Ereignis und Lagereglertakt wie folgt erhöht werden:</p><ul><li><p>Ein Messtaster: 8 Messwerte bei steigender und 8 bei fallender Flanke</p></li><li><p>Zwei Messtaster: 4 Messwerte bei steigender und 4 bei fallender Flanke je Messtaster</p></li></ul><p>Dadurch lassen sich höhere Vorschübe oder Drehzahlen realisieren.</p><h4 class="Blocklabel">Status abfragen</h4><p>Ist im Programm eine Auswertung erforderlich, ob ein Messtaster ausgelenkt wurde bzw. geschaltet hat, kann der Status über folgende Systemvariablen abgefragt werden:</p><a id="table_af4db7d8-87f8-ed7e-0887-c1a4ae475cfa"></a> <a id="table_2"></a> <a id="table_af4db7d8-87f8-ed7e-0887-c1a4ae475cfa"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="25.0%"><col width="30.0%"><col width="15.0%"><col width="7.5%"><col width="22.5%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Systemvariable</p></th><th><p type="p_table_lb" align="left">Bedeutung</p></th><th><p type="p_table_cb" align="center">Datentyp</p></th><th><p type="p_table_cb" align="center">Wert</p></th><th><p type="p_table_lb" align="left">Bedeutung</p></th></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">$A_PROBE[&lt;n>]</p></td><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Auslenkungszustand des Messtasters</p><p type="p_table_l" align="left"></p></td><td rowspan="2"><p type="p_table_c" style="margin-top: 4px" align="center">INT</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Messtaster nicht ausgelenkt.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Messtaster ausgelenkt.</p></td></tr><tr valign="top"><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">$AC_MEA[&lt;n>]</p></td><td rowspan="2"><p type="p_table_l" style="margin-top: 4px" align="left">Schaltzustand des Messtasters</p><p type="p_table_l" align="left">$AC_MEA[&lt;n>] wird zu Beginn einer Messung automatisch zurückgesetzt. </p></td><td rowspan="2"><p type="p_table_c" style="margin-top: 4px" align="center">INT</p></td><td><p type="p_table_c" style="margin-top: 4px" align="center">0</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Messtaster hat nicht geschaltet.</p></td></tr><tr valign="top"><td><p type="p_table_c" style="margin-top: 4px" align="center">1</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Messtaster hat geschaltet (alle im Messsatz programmierten Trigger-Ereignisse sind erfolgt).</p></td></tr></table></p><table cellpadding="0" cellspacing="0" border="0"><tr><td><font size="1px"></font></td></tr></table><table class="safety" border="1" bgcolor="#eeeeee"><colgroup><col width="5%"><col width="95%"></colgroup><tr><td><b>Hinweis</b></td></tr><tr><td><p class="safety">Wird Messen aus Synchronaktionen gestartet, wird $AC_MEA nicht mehr aktualisiert. In diesem Fall ist das NC/PLC-Nahtstellensignal <code>&lt;Axis>.basic.in.measurementActive </code>bzw. die gleichwertige Variable $AA_MEAACT[&lt;Axis>] abzufragen:</p><p class="safety">$AA_MEAACT==1: Messen aktiv</p><p class="safety">$AA_MEAACT==0: Messen nicht aktiv</p></td></tr></table><h4 class="Blocklabel">Messtasterbegrenzung</h4><p>Mit der Systemvariablen $A_PROBE_LIMITED kann im NC-Programm oder in Synchronaktionen der Status der Messtasterbegrenzung bei Verwendung des PROFIBUS-Telegramms 395 gelesen werden:</p><p>$A_PROBE_LIMITED[&lt;n>] == 0: Messtasterbegrenzung inaktiv/zurückgesetzt</p><p>$A_PROBE_LIMITED[&lt;n>] == 1: Messtasterbegrenzung aktiv</p><p>&lt;n> = Messtasternummer</p><h4 class="Blocklabel">Schutz vor Fehlprogrammierungen</h4><p>Folgende Fehlprogrammierungen werden erkannt und mit einem Fehler angezeigt:</p><a id="table_bddd5306-f2ea-a894-c852-e4fcc277b9ea"></a> <a id="table_3"></a> <a id="table_bddd5306-f2ea-a894-c852-e4fcc277b9ea"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="30.0%"><col width="70.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Beschreibung</p></th><th><p type="p_table_lb" align="left">Beispiel</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">MEASA/MEAWA zusammen mit MEAS/MEAW in einem Satz</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N01 MEAS=1 MEASA[X]=(1,1) G01 F100 POS[X]=100</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">MEASA/MEAWA mit Parameteranzahl &lt;2 oder >5</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N01 MEAWA[X]=(1) G01 F100 POS[X]=100</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">MEASA/MEAWA mit Trigger-Ereignis ungleich 1/ -1/ 2/ -2</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N01 MEASA[B]=(1,1,3) B100</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">MEASA/MEAWA mit falschem Modus</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N01 MEAWA[B]=(4,1) B100</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">MEASA/MEAWA mit Messmodus 1 und doppelt programmiertem Trigger-Ereignis</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N01 MEASA[B]=(1,1,-1,2,-1) B100</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">MEASA/MEAWA und fehlende Geometrieachse</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N01 MEASA[X]=(1,1) MEASA[Y]=(1,1) G01 X50 Y50 Z50 F100<br />; GEO-Achse X/Y/Z</code></p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Uneinheitlicher Messauftrag bei Geometrieachsen</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left"><code>N01 MEASA[X]=(1,1) MEASA[Y]=(1,1) MEASA[Z]=(1,1,2) G01 X50 Y50 Z50 F100</code></p></td></tr></table></p><a name="block_2"></a><h3 class="Blocktitle">PLC-Signale</h3><h4 class="Blocklabel">NC → PLC</h4><a id="table_279e2cb5-a871-e1b0-3b7f-ef584af13fa9"></a> <a id="table_4"></a> <a id="table_279e2cb5-a871-e1b0-3b7f-ef584af13fa9"></a> <a id="table_4"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="45.0%"><col width="35.0%"><col width="20.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Basic Program Plus</p></th><th colspan="2"><p type="p_table_lb" align="left">Basic Program</p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">&lt;Axis>.basic.in.measurementActive</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">LBP_Axis*.E_MeasAct</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">DB31, … .DBX62.3</p></td></tr></table></p></div>
  </body>
</html>