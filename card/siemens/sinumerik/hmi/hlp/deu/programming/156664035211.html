<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Messen (MEAWA, MEAC)</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Messen (MEAWA, MEAC)</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <ul>
      </ul>
      <p>Zum Messen können in Synchronaktionen folgende Befehle verwendet werden:</p>
      <ul>
        <li>
          <p>
            <code>MEAWA</code> (Messen ohne Restweglöschen) </p>
        </li>
        <li>
          <p>
            <code>MEAC</code> (Kontinuierliches Messen ohne Restweglöschen) </p>
        </li>
      </ul>
      <p>Während die Messfunktion im Teileprogramm auf einen Bewegungssatz begrenzt ist, kann die Messfunktion aus Synchronaktionen heraus beliebig ein- und ausgeschaltet werden.</p>
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td>
            <font size="1px">
            </font>
          </td>
        </tr>
      </table>
      <table class="safety" border="1" bgcolor="#eeeeee">
        <colgroup>
          <col width="5%">
          <col width="95%">
        </colgroup>
        <tr>
          <td>
            <b>Hinweis</b>
          </td>
        </tr>
        <tr>
          <td>
            <p class="safety">Über statischen Synchronaktionen <code>IDS...</code> kann auch in der Betriebsart JOG gemessen werden.</p>
          </td>
        </tr>
      </table>
      <a name="block_1">
      </a>
      <h3 class="Blocktitle">Weitere Informationen</h3>
      <p>Ausführliche Informationen zu den Messbefehlen finden sich in:</p>
      <ul>
        <li>
          <p>Mitschleppen, Kurventabellen, Leitwertkopplung</p>
          <p>Programmierhandbuch NC Programmierung</p>
        </li>
        <li>
          <p>Generische Kopplung</p>
          <p>Funktionsbeschreibung Achsen und Spindeln</p>
        </li>
      </ul>
      <a name="block_2">
      </a>
      <h3 class="Blocktitle">Messaufträge und Zustandsänderungen</h3>
      <p>Wenn der Messauftrag aus Synchronaktionen erfolgt ist, zeigt die Steuerung folgendes Verhalten:</p>
      <a id="table_0">
      </a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="25.5%"><col width="74.4%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Zustand</p></th><th><p type="p_table_lb" align="left"><b>Verhalten</b></p></th></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Betriebsartenwechsel</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Ein Messauftrag, der durch eine modale Synchronaktion aktiviert wurde, wird durch den Betriebsartenwechsel nicht beeinflusst. Er bleibt über Satzgrenzen hinweg wirksam.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Reset</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Der Messauftrag wird abgebrochen</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Satzsuchlauf</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Die Messaufträge werden gesammelt und erst bei Erfüllung der programmierten Bedingung aktiviert</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">REPOS</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Aktivierte Messaufträge werden nicht beeinflusst.</p></td></tr><tr valign="top"><td><p type="p_table_l" style="margin-top: 4px" align="left">Programmende</p></td><td><p type="p_table_l" style="margin-top: 4px" align="left">Messaufträge, die aus statischen Synchronaktionen gestartet wurden, bleiben erhalten.</p></td></tr></table></p><a name="block_3"></a><h3 class="Blocktitle">Anmerkungen</h3><h4 class="Blocklabel">Systemvariable</h4><p>Folgende Systemvariablen können im Zusammenhang mit Synchronaktionen verwendet werden:</p><ul><li><p>$AA_MEAACT (Axiales Messen aktiv) </p></li><li><p>$A_PROBE (Messtasterzustand) </p></li><li><p>$AA_MM1 ... 4 (Messtasterposition 1. bis 4. Trigger (MKS)) </p></li></ul><p>Folgende Systemvariable kann im Zusammenhang mit Synchronaktionen <b>nicht </b>verwendet werden:</p><ul><li><p>$AC_MEA (Messtaster hat geschaltet) </p></li></ul><h4 class="Blocklabel">Messauftrag</h4><p>Pro Achse darf nur ein Messauftrag aktiv sein.</p><h4 class="Blocklabel">Priorität bei mehreren Messungen</h4><p>Ein erneuter Messauftrag für die gleiche Achse bewirkt, dass die Triggerereignisse erneut aktiviert und die Messergebnisse zurückgesetzt werden. </p><p>Messaufträge, die aus dem Teileprogramm gestartet wurden, können aus Synchronaktionen nicht beeinflusst werden. Wird aus einer Synchronaktion ein Messauftrag für eine Achse gestartet für die bereits ein Messauftrag aus dem Teileprogramm aktiv ist, wird ein Alarm angezeigt. </p><p>Ist ein Messauftrag aus einer Synchronaktion aktiv, kann Messen aus dem Teileprogramm heraus nicht mehr gestartet werden.</p><h4 class="Blocklabel">Speichern von Messergebnissen</h4><p>Zum Speichern von Messergebnissen wird in den Systemvariablen $AC_FIFO ein FIFO-Speicher eingerichtet. Siehe dazu Kapitel "<a href="156663858187.html">FIFO-Variablen ($AC_FIFO)</a>".</p><a name="block_4"></a><h3 class="Blocktitle">Beispiele</h3><p>Für die folgenden Beispiele werden über Maschinendaten 2 FIFO-Speicher eingerichtet:</p><ul><li><p>MD28050 $MC_MM_NUM_R_PARAM = 300</p></li><li><p>MD28258 $MC_MM_NUM_AC_TIMER = 1 </p></li><li><p>MD28260 $MC_NUM_AC_FIFO = 1 (FIFO-Speicher einrichten) </p></li><li><p>MD28262 $MC_START_AC_FIFO = 100 (FIFO-Speicher beginnt ab R100) </p></li><li><p>MD28264 $MC_LEN_AC_FIFO = 28 (22 Variablen + 6 Verwaltungsdaten) </p></li><li><p>MD28266 $MC_MODE_AC_FIFO = 0 (keine Summenbildung)</p></li></ul><h4 class="Blocklabel">Beispiel 1</h4><p>Für die X-Achse sollen zwischen 0 und 100 mm alle steigenden Flanken von Messtaster 1 erfasst werden. Es wird dabei vorausgesetzt, dass nicht mehr als 22 Messflanken auftreten.</p><a id="table_1"></a> <a id="table_1"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="E1F"><colgroup><col width="49.2%"><col width="50.8%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>DEF INT ANZAHL</td><td>; Anzahl aktueller Messwerte</td></tr><tr valign="top"><td>DEF INT INDEX_R</td><td>; Schleifenindex</td></tr><tr valign="top"><td>N10 G0 X0</td><td>; Startpunkt der Messung anfahren</td></tr><tr valign="top"><td colspan="2">; Messen: Modus=1 (gleichzeitig), FIFO-Speicher=1, ; Triggerereignis=1 (steigende Flanke von Messtaster 1)</td></tr><tr valign="top"><td colspan="2">N20 MEAC[X]=( 1, 1, 1) POS[X]=100</td></tr><tr valign="top"><td>N30 STOPRE</td><td>; Anhalten der Vorverarbeitung</td></tr><tr valign="top"><td>N40 MEAC[X]=(0)</td><td>; Messung abbrechen</td></tr><tr valign="top"><td>N50 ANZAHL=$AC_FIFO1[4]</td><td>; Anzahl gespeicherter Messwerte</td></tr><tr valign="top"><td colspan="2">N60 ANZAHL = ANZAHL - 1</td></tr><tr valign="top"><td colspan="2">N70 FOR INDEX_R=0 TO ANZAHL</td></tr><tr valign="top"><td>N80   R[INDEX_R]=$AC_FIFO1[0]</td><td>;Messwert in R-Par. speichern</td></tr><tr valign="top"><td colspan="2">N90 ENDFOR</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Beispiel 2</h4><p>Für die X-Achse sollen zwischen 0 und 100 mm alle steigenden und fallenden Flanken von Messtaster 1 erfasst werden. Die Anzahl der Messungen ist nicht bekannt. Daher müssen parallel zur Messung die Messwerte abgeholt und ab $R1 aufsteigend abgelegt werden. Die Anzahl der abgelegten Messwerte wird in $R0 eingetragen.</p><a id="table_b7b205ff-772a-ce04-c805-532346f9b431"></a> <a id="table_2"></a> <a id="table_b7b205ff-772a-ce04-c805-532346f9b431"></a> <a id="table_2"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="ECAAC"><colgroup><col width="45.0%"><col width="55.0%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>$AC_MARKER[1]=1</td><td>; Index für R-Parameter-Index initialisieren</td></tr><tr valign="top"><td>N10 G0 X0</td><td>; Startpunkt der Messung anfahren</td></tr><tr valign="top"><td colspan="2">; liegt ein Messwerte im FIFO-Speicher vor, wird der ältesten Wert gelesen und im ; aktuelle R-Parameter[$AC_MARKER[1]] ablegt. ; Anschließend wird der R-Parameterindex inkrementiert.</td></tr><tr valign="top"><td colspan="2">N20 ID=1 WHENEVER $AC_FIFO1[4] >= 1 DO $R[$AC_MARKER[1]] = $AC_FIFO1[0]                                        $AC_MARKER[1] = $AC_MARKER[1] + 1</td></tr><tr valign="top"><td colspan="2">; Kontinuierliches Messen: Modus=1 (gleichzeitig), FIFO-Speicher=1, ; Triggerereignis 1=1 (steigende Flanke von Messtaster 1), ; Triggerereignis 2=-1 (fallende Flanke von Messtaster 1)</td></tr><tr valign="top"><td colspan="2">N30 MEAC[X]=(1, 1, 1, -1) POS[X]=100</td></tr><tr valign="top"><td>N40 MEAC[X]=(0)</td><td>; Messung ausschalten</td></tr><tr valign="top"><td>N50 STOPRE</td><td>; Anhalten der Vorverarbeitung</td></tr><tr valign="top"><td>N60 R0 = $AC_MARKER[1]</td><td>; Anzahl der erfassten Messwerte</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><h4 class="Blocklabel">Beispiel 3</h4><p>Für die X-Achse sollen zwischen 0 und 500 mm steigende und fallende Flanken von Messtaster 1 erfasst werden. Die Anzahl der Messungen wird auf 10 beschränkt. </p><p>Abschließend wird der Restweg der X-Achse gelöscht.</p><a id="table_3"></a> <a id="table_3"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_listing" border="1" id="EBCAC"><colgroup><col width="50.0%"><col width="50.0%"></colgroup><tr valign="top"><th>Programmcode</th><th>Kommentar</th></tr><tr valign="top"><td>N10 G0 X0</td><td>; Startpunkt der Messung anfahren</td></tr><tr valign="top"><td colspan="2">; Abbruchbedingung: Nach 10 oder mehr Messungen kontinuierliche Messung abwählen ; und "Restweg löschen" durchführen</td></tr><tr valign="top"><td colspan="2">N10 WHEN $AC_FIFO1[4] >= 10 DO MEAC[X]=(0) DELDTG(X)</td></tr><tr valign="top"><td colspan="2">; Kontinuierliches Messen: Modus=1 (gleichzeitig), FIFO-Speicher=1, ; Triggerereignis 1=1 (steigende Flanke von Messtaster 1), ; Triggerereignis 2=-1 (fallende Flanke von Messtaster 1)</td></tr><tr valign="top"><td colspan="2">N20 MEAC[X]=(1, 1, 1, -1) G01 X100 F500</td></tr><tr valign="top"><td>N30 MEAC[X]=(0)</td><td>; Messung ausschalten</td></tr><tr valign="top"><td>N40 R0 = $AC_FIFO1[4]</td><td>; Anzahl der erfassten Messwerte</td></tr></table><textarea id="textarea" style="display: none;" value="">clipboard</textarea></p><p></p></div>
    <p>Siehe auch:<br />    <a href="156663654539.html">Achskopplungen</a></p>
  </body>
</html>