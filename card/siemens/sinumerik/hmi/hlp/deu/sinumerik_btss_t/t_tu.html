<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <title>Baustein T/TU: Werkzeugdaten: Anwenderdefinierte Daten</title>
   </head>
   <body>
      <div id="nsbanner">
         <div id="TitleRowDefault">
            <h1 class="title">Baustein T/TU: Werkzeugdaten: Anwenderdefinierte Daten</h1>
         </div>
      </div>(Frühere Bezeichnung: TUD)<br/>
      <br/>
      Der Datenbaustein TU ist als 2-dimensionales Variablenfeld organisiert. Der Baustein enthält anwenderdefinierte Daten zu allen
      Werkzeugen. Jedes Element ist über einen Spalten- und Zeilenindex adressierbar:<br/>
      Der Spaltenindex ist die Nummer des anwenderdefinierten Werkzeugparameters. Die Anzahl der Werkzeugparameter (Spalten) kann
      der Variablen "<a href="../sinumerik_btss_N/N_Y.html#355">numToolParams_tu</a>" im Baustein Y im Bereich N entnommen werden.<br/>
      Der Zeilenindex ist die Werkzeugnummer. Wird auf nicht vorhandene Werkzeuge zugegriffen, wird dies negativ quittiert.<br/>
      <br/>
      Die anwenderdefinierten Werkzeugdaten sind alle vom gleichen Datentyp.<br/>
      
      <div><a name="5695"></a>
         &nbsp;
      </div>
      <table cellspacing="0" cellpadding="2" style="border:2px solid black; border-collapse:collapse; empty-cells:show;" width="100%">
         <tr>
            <td width="20%" style="border:1px solid black"><b>data</b></td>
            <td colspan="3" style="border:1px solid black">OEM-definierte Werkzeugparameter</td>
            <td width="20%" style="border:1px solid black">$TC_TPCx[y] x = ParameterNo y = ToolNo</td>
         </tr>
         <tr>
            <td width="20%" valign="top" style="border:1px solid black"></td>
            <td width="20%" valign="top" style="border:1px solid black"><span style="font-size: 8pt">Spaltenindex:<br></span>Parameternummer
            </td>
            <td width="20%" valign="top" style="border:1px solid black"><span style="font-size: 8pt">Zeilenindex:<br></span>Werkzeugnummer<br>Werkzeugnummer
            </td>
            <td width="20%" valign="top" style="border:1px solid black"><span style="font-size: 8pt">Max. Zeilenindex:<br></span>SLMAXTOOLNUMBER
            </td>
            <td width="20%" style="border:1px solid black"></td>
         </tr>
         <tr>
            <td colspan="5" style="border:1px solid black">OEM-definierte Parameter für die Werkzeuge mit allen zulässigen Datentypen, außer dem Datentyp "String". <br/>
               Die OEM-Daten werden mit den MD-Einstellungen MD-Bits $MN_MM_TOOL_MANAGEMENT_MASK, Bit2=1 und MD18094 $MN_MM_NUM_CC_TDA_PARAM&gt;0
               bereitgestellt. <br/>
               Der Datentyp der einzelnen Parameter wird durch das MD18095 $MN_MM_TYPE_CC_TDA_PARAM festgelegt und kann aus der Datei _N_COMPLETE_TOA_ACX
               ermittelt werden. Die Übertragung im BTSS erfolgt immer als TYPE_DOUBLE. <br/>
               Wenn das Datum vom Typ "String" ist, kann die Variable unter "dataStr" gelesen und geschrieben werden. <br/>
               Wird  so auf einen OEM-definierten Werkzeug-Parameter lesend zugegriffen, das vom Datentyp "String" ist, wird der Wert=0 zurückgegeben.<br/>
               Wird so auf einen OEM-definierten Werkzeug-Parameter schreibend zugegriffen, der vom Datentyp "String" ist, wird ein Fehler-Code
               zurückgegeben.<br/>
               
            </td>
         </tr>
         <tr>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Typ<br></span>TYPE_DOUBLE
            </td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Einheit<br></span>keine Einheit
            </td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Standardwert<br></span></td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Minimalwert<br></span></td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Maximalwert<br></span></td>
         </tr>
         <tr>
            <td colspan="5" style="border:1px solid black"><span style="font-size: 8pt">Zugriffspfad HMI:</span> /Tool/User/data[u&lt;Werkzeugber.&gt;, c&lt;Spaltenindex&gt;, &lt;Zeilenindex&gt;]
            </td>
         </tr>
      </table>
      <div><a name="6010"></a>
         &nbsp;
      </div>
      <table cellspacing="0" cellpadding="2" style="border:2px solid black; border-collapse:collapse; empty-cells:show;" width="100%">
         <tr>
            <td width="20%" style="border:1px solid black"><b>dataStr</b></td>
            <td colspan="3" style="border:1px solid black">OEM-definierter Werkzeug-Parameter (Typ String)</td>
            <td width="20%" style="border:1px solid black">$TC_TPCx[y] x = ParameterNo y = ToolNo</td>
         </tr>
         <tr>
            <td width="20%" valign="top" style="border:1px solid black"></td>
            <td width="20%" valign="top" style="border:1px solid black"><span style="font-size: 8pt">Spaltenindex:<br></span>1000 + Nr. des anwenderdefinierten WZ-parameters
            </td>
            <td width="20%" valign="top" style="border:1px solid black"><span style="font-size: 8pt">Zeilenindex:<br></span>Werkzeugnummer<br>Werkzeugnummer T
            </td>
            <td width="20%" valign="top" style="border:1px solid black"><span style="font-size: 8pt">Max. Zeilenindex:<br></span>32000
            </td>
            <td width="20%" style="border:1px solid black"></td>
         </tr>
         <tr>
            <td colspan="5" style="border:1px solid black">OEM-definierte Werkzeug-Parameter vom Typ "String", Spalten-Index = Parameter-Nummer<br/>
               Wird so auf einen OEM-definierten Werkzeug-Parameter lesend zugegriffen, der nicht vom Datentyp "String" ist, wird ein Leer-String
               zurückgegeben.<br/>
               Wird so auf einen OEM-definierten Werkzeug-Parameter schreibend zugegriffen, der nicht vom Datentyp "String" ist, wird ein
               Fehler-Code zurückgegeben.<br/>
               Die Adressierung benötigt für den Zugriff einen Offset von 1000 nur dann, wenn man den Zugriff direkt programmiert. Bei einem
               Zugriff über HMI oder von der PLC, wird das Offset intern hinzugefügt und die Addition von „1000“ erzeugt einen Fehler.<br/>
               
            </td>
         </tr>
         <tr>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Typ<br></span>TYPE_STRING
            </td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Einheit<br></span>keine Einheit
            </td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Standardwert<br></span></td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Minimalwert<br></span></td>
            <td valign="top" style="border:1px solid black"><span style="font-size: 8pt">Maximalwert<br></span></td>
         </tr>
         <tr>
            <td colspan="5" style="border:1px solid black"><span style="font-size: 8pt">Zugriffspfad HMI:</span> /Tool/User/dataStr[u&lt;Werkzeugber.&gt;, c&lt;Spaltenindex&gt;, &lt;Zeilenindex&gt;]
            </td>
         </tr>
      </table>
      <p></p>
   </body>
</html>