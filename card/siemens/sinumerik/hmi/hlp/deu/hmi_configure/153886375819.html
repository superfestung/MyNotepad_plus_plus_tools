<html>
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Menü-Aktionen</title>
  </head>
  <body id="bodyID">
    <div id="nsbanner">
      <div id="TitleRowDefault">
        <h1 class="title">Menü-Aktionen</h1>
      </div>
    </div>
    <div id="nstext" valign="bottom">
      <p>
      </p>
      <p>Die Aktionen, die beim Drücken eines Menü-Items ausgeführt werden sollen, werden im onClicked-Property der Menü-Items definiert. Dieses Property kann eine oder mehrere Kommandoanweisungen (durch Semikolon getrennt) aufnehmen, die nacheinander ausgeführt werden.</p>
      <p>Folgende Kommandos sind verfügbar:</p>
      <a id="table_6ab65cb0-cbec-2d52-45b5-18d4e0924fcd">
      </a> <a id="table_0"></a> <a id="table_6ab65cb0-cbec-2d52-45b5-18d4e0924fcd"></a> <a id="table_0"></a> <p><table width="100%" cellspacing="0" cellpadding="0" class="table_default" border="1"><colgroup><col width="45.0%"><col width="55.0%"></colgroup><tr valign="top"><th><p type="p_table_lb" align="left">Kommando</p></th><th><p type="p_table_lb" align="left">Bedeutung</p></th></tr><tr valign="top"><td>showDisplay(displayname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Wechselt zum Display mit dem Namen <code>displayname</code></p><p type="p_table_l" align="left">Das Zieldisplay muss in der gleichen Displaykonfigurations-Datei konfiguriert sein.</p></td></tr><tr valign="top"><td>showApp(framename, appname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Zeigt die Applikation <code>appname</code> im Frame <code>framename</code> an</p><p type="p_table_l" align="left">Wenn die Applikation schon in einem anderen Frame des Displays sichtbar ist, wird sie von dort in das hier angegebene Frame verschoben. Wenn möglich, wird dabei der frei werdende Frame mit der aus <code>framename</code> verdrängten Applikation belegt. In diesem Fall handelt es sich um einen sog. Applikations-Tausch. Welche Applikationen im frei werdenden Frame angezeigt werden können, gibt man im Property "runableApps" dieses Frames an.</p><p type="p_table_l" align="left">Man kann dem Framenamen auch einen Displaynamen voranstellen (<code>displayname.framename</code>) und so die Frame-Belegung in nicht sichtbaren Displays verändern.</p><p type="p_table_l" align="left">Statt <code>appname</code> kann man auch <code>framename.currentApp</code> oder <code>displayname.framename.currentApp</code> angeben. <code>showApp()</code> verschiebt dann die im Frame <code>framename</code> bzw. <code>displayname.framename</code> angezeigte Applikation in den angegebenen Frame.</p></td></tr><tr valign="top"><td>showPopup(framename, appname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Zeigt die Applikation <code>appname</code> im Frame <code>framename</code> als Popup-Fenster an.</p><p type="p_table_l" align="left">Der Frame <code>framename</code> darf nicht zu einem Display gehören, d. h. nicht im Attribut <code>Frames</code> bei einem der vorhandenen Displays angegeben sein. Er wird beim <code>showPopup()</code>-Aufruf automatisch aufgeblendet und über das gerade aktive Display gelegt.</p><p type="p_table_l" align="left">Als Applikationen sind nur auf Basis der Klasse <code>SlGfwSideScreenDialog</code> erstellte Applikationen erlaubt. SINUMERIK Operate und OEM-Frame-Applikationen können nicht als Popup angezeigt werden. Will man eine auf Basis der Klasse <code>SlGfwSideScreenDialog</code> entwickelte Applikation als Popup nutzen, muss man dessen Fenster als TopLevel-Window deklarieren, d. h. in den <code>windowFlags()</code> das Bit Qt::WindowStaysOnTopHint setzen.</p><p type="p_table_l" align="left">Zu einer Zeit kann immer nur ein Popup geöffnet sein.</p></td></tr><tr valign="top"><td>hidePopup(appname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Blendet eine mit <code>showPopup()</code> oder <code>togglePopup()</code> aufgeblendete Applikation wieder ab</p></td></tr><tr valign="top"><td>togglePopup(framename, appname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Zeigt die Applikation <code>appname</code> im Frame <code>framename</code> als Popup-Fenster an. Wenn die Applikation <code>appname</code> schon als Popup-Fenster angezeigt wird, wird sie abgeblendet.</p></td></tr><tr valign="top"><td>showMenu(framename, menuname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Zeigt das Menu <code>menuname</code> im Frame <code>framename</code> an.</p></td></tr><tr valign="top"><td>showPopupMenu(framename, menuname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Zeigt das Menu <code>menuname</code> im Frame <code>framename</code> als Popup-Menü an.</p></td></tr><tr valign="top"><td>hidePopupMenu(menuname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Blendet ein mit <code>showPopupMenu()</code> oder <code>togglePopupMenu()</code> aufgeblendetes Popup-Menü wieder ab.</p></td></tr><tr valign="top"><td>togglePopupMenu(framename, menuname)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Zeigt das Menü <code>menuname</code> im Frame <code>framename</code> als Popup-Menü an. Wenn das Menü <code>menuname</code> bereits als Popup-Menü im Frame <code>framename</code> angezeigt wird, wird es abgeblendet.</p></td></tr><tr valign="top"><td>setMirrorMode(true|false)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Aktiviert (true) bzw. deaktiviert (false) den Spiegelmodus</p><p type="p_table_l" align="left">Bei aktiviertem Spiegelmodus werden die Frames aller Displays, bei denen der Spiegelmodus nicht mit <code>enableMirrorMode(false)</code> deaktiviert wurde, horizontal gespiegelt. D. h. Frames die bisher links angezeigt wurden, werden jetzt rechts angezeigt und umgekehrt. Die Größe der Frames ändert sich nicht.</p></td></tr><tr valign="top"><td>toggleMirrorMode()</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Schaltet den Spiegelmodus um</p><p type="p_table_l" align="left">Wenn er bisher aktiviert war, wird er jetzt deaktiviert und umgekehrt.</p></td></tr><tr valign="top"><td>sendCmd(appname, cmd1, ...)</td><td><p type="p_table_l" style="margin-top: 4px" align="left">Schickt ein Kommando an die Applikation <code>appname</code>. Ist die Ziel-Applikation <code>appname</code> SINUMERIK Operate (<code>appname="OPERATE"</code>), kann auf diese Weise ein Bedienbereich von SINUMERIK Operate angewählt werden,</p><p type="p_table_l" align="left">z. B. <code>sendCmd(OPERATE, AreaMachine)</code></p><p type="p_table_l" align="left">Der Bezeichner für den Bedienbereich (<code>AreaMaschine</code>) kann der Datei <code>systemconfiguration.ini</code> entnommen werden (siehe Abschnitt <code>[areas]</code>).Ist die Ziel-Applikation eine auf Basis der Klasse <code>SlGfwSideScreenDialog</code> erstellte Applikationen, so erhält diese Applikation in ihrer <code>onMessage()</code>-Implementierung ein Kommando vom Typ <code>SL_GFW_MSG_DISPCONFIG_CMD</code>.</p><p type="p_table_l" align="left">Die Kommandos <code>cmd1,…, cmd10</code> werden als Message-Daten mitgegeben und zwar in Form einer Zeichenkette, in der die einzelnen Parameter (<code>cmd1 … cmd10</code>) durch das "|"-Zeichen getrennt sind.</p><p type="p_table_l" align="left">Kommandos an Microsoft Windows-Applikationen (.EXE) sind mit <code>sendCmd()</code> nicht möglich!</p></td></tr></table></p><p></p><a name="block_1"></a><h3 class="Blocktitle">Beispiele</h3>[menuitems]MENUITEM001= name:=item1, onClicked:= "showApp(frame1,OPERATE);showApp(frame2,myDialog)", text:="HMI"<p>Zeigt SINUMERIK Operate in "frame1" und die Applikation "myDialog" in "frame2" auf dem aktuellen Display an.</p><p></p>MENUITEM003= name:=item3, onClicked:="showApp(full.frame1,frame2.currentApp);showDisplay(full)", text:="Vollbild"<p>Setzt die aktuell angezeigte Applikation (<code>currentApp</code>) aus "frame2" auf "frame1" im Display "full". Danach wird zum Display "full" umgeschaltet.</p><p></p>MENUITEM004= name:=item4, onClicked:= "sendCmd(OPERATE,'AreaMachine')", text:="Maschine"<p>Wählt in SINUMERIK Operate den Bedienbereich Maschine an.</p><p></p>MENUITEM005= name:=item5, onClicked:="sendCmd(myDialog,'doFun','42')", text:="Maschine"<p>Schickt die Message <code>SL_GFW_MSG_DISPCONFIG_CMD</code> mit den Daten "doFun|42" an die Applikation "myDialog" (erfordert die Verwendung von CreateMyHMI/3GL).</p></div>
  </body>
</html>